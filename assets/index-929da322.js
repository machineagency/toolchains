import{y as bn,b as dr,Z as ve,w as Fi}from"./lit-html-b7b68613.js";const T_="modulepreload",R_=function(p){return"/toolchains/"+p},xs={},A=function(a,o,m){if(!o||o.length===0)return a();const w=document.getElementsByTagName("link");return Promise.all(o.map(T=>{if(T=R_(T),T in xs)return;xs[T]=!0;const E=T.endsWith(".css"),L=E?'[rel="stylesheet"]':"";if(!!m)for(let O=w.length-1;O>=0;O--){const V=w[O];if(V.href===T&&(!E||V.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${T}"]${L}`))return;const y=document.createElement("link");if(y.rel=E?"stylesheet":T_,E||(y.as="script",y.crossOrigin=""),y.href=T,document.head.appendChild(y),E)return new Promise((O,V)=>{y.addEventListener("load",O),y.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${T}`)))})})).then(()=>a())};var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={},L_={get exports(){return hr},set exports(p){hr=p}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(p,a){(function(){var o,m="4.17.21",w=200,T="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",L="Invalid `variable` option passed into `_.template`",C="__lodash_hash_undefined__",y=500,O="__lodash_placeholder__",V=1,ln=2,$=4,rn=1,pn=2,en=1,_n=2,yt=4,gn=8,Hn=16,Fn=32,Kn=64,Qn=128,Kt=256,vr=512,Os=30,bs="...",Ps=800,Ss=16,Wi=1,Cs=2,$s=3,wt=1/0,at=9007199254740991,Ns=17976931348623157e292,me=0/0,Yn=4294967295,Ms=Yn-1,Bs=Yn>>>1,Us=[["ary",Qn],["bind",en],["bindKey",_n],["curry",gn],["curryRight",Hn],["flip",vr],["partial",Fn],["partialRight",Kn],["rearg",Kt]],Pt="[object Arguments]",xe="[object Array]",Fs="[object AsyncFunction]",Yt="[object Boolean]",kt="[object Date]",Ws="[object DOMException]",ye="[object Error]",we="[object Function]",Vi="[object GeneratorFunction]",Wn="[object Map]",Xt="[object Number]",Vs="[object Null]",jn="[object Object]",Gi="[object Promise]",Gs="[object Proxy]",Jt="[object RegExp]",Vn="[object Set]",Qt="[object String]",Ee="[object Symbol]",Zs="[object Undefined]",jt="[object WeakMap]",qs="[object WeakSet]",ne="[object ArrayBuffer]",St="[object DataView]",mr="[object Float32Array]",xr="[object Float64Array]",yr="[object Int8Array]",wr="[object Int16Array]",Er="[object Int32Array]",Ir="[object Uint8Array]",Ar="[object Uint8ClampedArray]",Tr="[object Uint16Array]",Rr="[object Uint32Array]",zs=/\b__p \+= '';/g,Hs=/\b(__p \+=) '' \+/g,Ks=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zi=/&(?:amp|lt|gt|quot|#39);/g,qi=/[&<>"']/g,Ys=RegExp(Zi.source),ks=RegExp(qi.source),Xs=/<%-([\s\S]+?)%>/g,Js=/<%([\s\S]+?)%>/g,zi=/<%=([\s\S]+?)%>/g,Qs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,js=/^\w*$/,nl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lr=/[\\^$.*+?()[\]{}|]/g,tl=RegExp(Lr.source),Dr=/^\s+/,el=/\s/,rl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,il=/\{\n\/\* \[wrapped with (.+)\] \*/,ol=/,? & /,ul=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sl=/[()=,{}\[\]\/\s]/,ll=/\\(\\)?/g,al=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hi=/\w*$/,fl=/^[-+]0x[0-9a-f]+$/i,cl=/^0b[01]+$/i,pl=/^\[object .+?Constructor\]$/,dl=/^0o[0-7]+$/i,hl=/^(?:0|[1-9]\d*)$/,_l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,gl=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",vl="\\u0300-\\u036f",ml="\\ufe20-\\ufe2f",xl="\\u20d0-\\u20ff",Ki=vl+ml+xl,Yi="\\u2700-\\u27bf",ki="a-z\\xdf-\\xf6\\xf8-\\xff",yl="\\xac\\xb1\\xd7\\xf7",wl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",El="\\u2000-\\u206f",Il=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xi="A-Z\\xc0-\\xd6\\xd8-\\xde",Ji="\\ufe0e\\ufe0f",Qi=yl+wl+El+Il,Or="['’]",Al="["+Ae+"]",ji="["+Qi+"]",Te="["+Ki+"]",no="\\d+",Tl="["+Yi+"]",to="["+ki+"]",eo="[^"+Ae+Qi+no+Yi+ki+Xi+"]",br="\\ud83c[\\udffb-\\udfff]",Rl="(?:"+Te+"|"+br+")",ro="[^"+Ae+"]",Pr="(?:\\ud83c[\\udde6-\\uddff]){2}",Sr="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="["+Xi+"]",io="\\u200d",oo="(?:"+to+"|"+eo+")",Ll="(?:"+Ct+"|"+eo+")",uo="(?:"+Or+"(?:d|ll|m|re|s|t|ve))?",so="(?:"+Or+"(?:D|LL|M|RE|S|T|VE))?",lo=Rl+"?",ao="["+Ji+"]?",Dl="(?:"+io+"(?:"+[ro,Pr,Sr].join("|")+")"+ao+lo+")*",Ol="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fo=ao+lo+Dl,Pl="(?:"+[Tl,Pr,Sr].join("|")+")"+fo,Sl="(?:"+[ro+Te+"?",Te,Pr,Sr,Al].join("|")+")",Cl=RegExp(Or,"g"),$l=RegExp(Te,"g"),Cr=RegExp(br+"(?="+br+")|"+Sl+fo,"g"),Nl=RegExp([Ct+"?"+to+"+"+uo+"(?="+[ji,Ct,"$"].join("|")+")",Ll+"+"+so+"(?="+[ji,Ct+oo,"$"].join("|")+")",Ct+"?"+oo+"+"+uo,Ct+"+"+so,bl,Ol,no,Pl].join("|"),"g"),Ml=RegExp("["+io+Ae+Ki+Ji+"]"),Bl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ul=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fl=-1,X={};X[mr]=X[xr]=X[yr]=X[wr]=X[Er]=X[Ir]=X[Ar]=X[Tr]=X[Rr]=!0,X[Pt]=X[xe]=X[ne]=X[Yt]=X[St]=X[kt]=X[ye]=X[we]=X[Wn]=X[Xt]=X[jn]=X[Jt]=X[Vn]=X[Qt]=X[jt]=!1;var k={};k[Pt]=k[xe]=k[ne]=k[St]=k[Yt]=k[kt]=k[mr]=k[xr]=k[yr]=k[wr]=k[Er]=k[Wn]=k[Xt]=k[jn]=k[Jt]=k[Vn]=k[Qt]=k[Ee]=k[Ir]=k[Ar]=k[Tr]=k[Rr]=!0,k[ye]=k[we]=k[jt]=!1;var Wl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Vl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ql=parseFloat,zl=parseInt,co=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Hl=typeof self=="object"&&self&&self.Object===Object&&self,an=co||Hl||Function("return this")(),$r=a&&!a.nodeType&&a,Et=$r&&!0&&p&&!p.nodeType&&p,po=Et&&Et.exports===$r,Nr=po&&co.process,Pn=function(){try{var c=Et&&Et.require&&Et.require("util").types;return c||Nr&&Nr.binding&&Nr.binding("util")}catch{}}(),ho=Pn&&Pn.isArrayBuffer,_o=Pn&&Pn.isDate,go=Pn&&Pn.isMap,vo=Pn&&Pn.isRegExp,mo=Pn&&Pn.isSet,xo=Pn&&Pn.isTypedArray;function An(c,_,h){switch(h.length){case 0:return c.call(_);case 1:return c.call(_,h[0]);case 2:return c.call(_,h[0],h[1]);case 3:return c.call(_,h[0],h[1],h[2])}return c.apply(_,h)}function Kl(c,_,h,R){for(var N=-1,q=c==null?0:c.length;++N<q;){var on=c[N];_(R,on,h(on),c)}return R}function Sn(c,_){for(var h=-1,R=c==null?0:c.length;++h<R&&_(c[h],h,c)!==!1;);return c}function Yl(c,_){for(var h=c==null?0:c.length;h--&&_(c[h],h,c)!==!1;);return c}function yo(c,_){for(var h=-1,R=c==null?0:c.length;++h<R;)if(!_(c[h],h,c))return!1;return!0}function ft(c,_){for(var h=-1,R=c==null?0:c.length,N=0,q=[];++h<R;){var on=c[h];_(on,h,c)&&(q[N++]=on)}return q}function Re(c,_){var h=c==null?0:c.length;return!!h&&$t(c,_,0)>-1}function Mr(c,_,h){for(var R=-1,N=c==null?0:c.length;++R<N;)if(h(_,c[R]))return!0;return!1}function J(c,_){for(var h=-1,R=c==null?0:c.length,N=Array(R);++h<R;)N[h]=_(c[h],h,c);return N}function ct(c,_){for(var h=-1,R=_.length,N=c.length;++h<R;)c[N+h]=_[h];return c}function Br(c,_,h,R){var N=-1,q=c==null?0:c.length;for(R&&q&&(h=c[++N]);++N<q;)h=_(h,c[N],N,c);return h}function kl(c,_,h,R){var N=c==null?0:c.length;for(R&&N&&(h=c[--N]);N--;)h=_(h,c[N],N,c);return h}function Ur(c,_){for(var h=-1,R=c==null?0:c.length;++h<R;)if(_(c[h],h,c))return!0;return!1}var Xl=Fr("length");function Jl(c){return c.split("")}function Ql(c){return c.match(ul)||[]}function wo(c,_,h){var R;return h(c,function(N,q,on){if(_(N,q,on))return R=q,!1}),R}function Le(c,_,h,R){for(var N=c.length,q=h+(R?1:-1);R?q--:++q<N;)if(_(c[q],q,c))return q;return-1}function $t(c,_,h){return _===_?fa(c,_,h):Le(c,Eo,h)}function jl(c,_,h,R){for(var N=h-1,q=c.length;++N<q;)if(R(c[N],_))return N;return-1}function Eo(c){return c!==c}function Io(c,_){var h=c==null?0:c.length;return h?Vr(c,_)/h:me}function Fr(c){return function(_){return _==null?o:_[c]}}function Wr(c){return function(_){return c==null?o:c[_]}}function Ao(c,_,h,R,N){return N(c,function(q,on,Y){h=R?(R=!1,q):_(h,q,on,Y)}),h}function na(c,_){var h=c.length;for(c.sort(_);h--;)c[h]=c[h].value;return c}function Vr(c,_){for(var h,R=-1,N=c.length;++R<N;){var q=_(c[R]);q!==o&&(h=h===o?q:h+q)}return h}function Gr(c,_){for(var h=-1,R=Array(c);++h<c;)R[h]=_(h);return R}function ta(c,_){return J(_,function(h){return[h,c[h]]})}function To(c){return c&&c.slice(0,Oo(c)+1).replace(Dr,"")}function Tn(c){return function(_){return c(_)}}function Zr(c,_){return J(_,function(h){return c[h]})}function te(c,_){return c.has(_)}function Ro(c,_){for(var h=-1,R=c.length;++h<R&&$t(_,c[h],0)>-1;);return h}function Lo(c,_){for(var h=c.length;h--&&$t(_,c[h],0)>-1;);return h}function ea(c,_){for(var h=c.length,R=0;h--;)c[h]===_&&++R;return R}var ra=Wr(Wl),ia=Wr(Vl);function oa(c){return"\\"+Zl[c]}function ua(c,_){return c==null?o:c[_]}function Nt(c){return Ml.test(c)}function sa(c){return Bl.test(c)}function la(c){for(var _,h=[];!(_=c.next()).done;)h.push(_.value);return h}function qr(c){var _=-1,h=Array(c.size);return c.forEach(function(R,N){h[++_]=[N,R]}),h}function Do(c,_){return function(h){return c(_(h))}}function pt(c,_){for(var h=-1,R=c.length,N=0,q=[];++h<R;){var on=c[h];(on===_||on===O)&&(c[h]=O,q[N++]=h)}return q}function De(c){var _=-1,h=Array(c.size);return c.forEach(function(R){h[++_]=R}),h}function aa(c){var _=-1,h=Array(c.size);return c.forEach(function(R){h[++_]=[R,R]}),h}function fa(c,_,h){for(var R=h-1,N=c.length;++R<N;)if(c[R]===_)return R;return-1}function ca(c,_,h){for(var R=h+1;R--;)if(c[R]===_)return R;return R}function Mt(c){return Nt(c)?da(c):Xl(c)}function Gn(c){return Nt(c)?ha(c):Jl(c)}function Oo(c){for(var _=c.length;_--&&el.test(c.charAt(_)););return _}var pa=Wr(Gl);function da(c){for(var _=Cr.lastIndex=0;Cr.test(c);)++_;return _}function ha(c){return c.match(Cr)||[]}function _a(c){return c.match(Nl)||[]}var ga=function c(_){_=_==null?an:Bt.defaults(an.Object(),_,Bt.pick(an,Ul));var h=_.Array,R=_.Date,N=_.Error,q=_.Function,on=_.Math,Y=_.Object,zr=_.RegExp,va=_.String,Cn=_.TypeError,Oe=h.prototype,ma=q.prototype,Ut=Y.prototype,be=_["__core-js_shared__"],Pe=ma.toString,K=Ut.hasOwnProperty,xa=0,bo=function(){var n=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Se=Ut.toString,ya=Pe.call(Y),wa=an._,Ea=zr("^"+Pe.call(K).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=po?_.Buffer:o,dt=_.Symbol,$e=_.Uint8Array,Po=Ce?Ce.allocUnsafe:o,Ne=Do(Y.getPrototypeOf,Y),So=Y.create,Co=Ut.propertyIsEnumerable,Me=Oe.splice,$o=dt?dt.isConcatSpreadable:o,ee=dt?dt.iterator:o,It=dt?dt.toStringTag:o,Be=function(){try{var n=Dt(Y,"defineProperty");return n({},"",{}),n}catch{}}(),Ia=_.clearTimeout!==an.clearTimeout&&_.clearTimeout,Aa=R&&R.now!==an.Date.now&&R.now,Ta=_.setTimeout!==an.setTimeout&&_.setTimeout,Ue=on.ceil,Fe=on.floor,Hr=Y.getOwnPropertySymbols,Ra=Ce?Ce.isBuffer:o,No=_.isFinite,La=Oe.join,Da=Do(Y.keys,Y),un=on.max,dn=on.min,Oa=R.now,ba=_.parseInt,Mo=on.random,Pa=Oe.reverse,Kr=Dt(_,"DataView"),re=Dt(_,"Map"),Yr=Dt(_,"Promise"),Ft=Dt(_,"Set"),ie=Dt(_,"WeakMap"),oe=Dt(Y,"create"),We=ie&&new ie,Wt={},Sa=Ot(Kr),Ca=Ot(re),$a=Ot(Yr),Na=Ot(Ft),Ma=Ot(ie),Ve=dt?dt.prototype:o,ue=Ve?Ve.valueOf:o,Bo=Ve?Ve.toString:o;function u(n){if(j(n)&&!M(n)&&!(n instanceof G)){if(n instanceof $n)return n;if(K.call(n,"__wrapped__"))return Uu(n)}return new $n(n)}var Vt=function(){function n(){}return function(t){if(!Q(t))return{};if(So)return So(t);n.prototype=t;var e=new n;return n.prototype=o,e}}();function Ge(){}function $n(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}u.templateSettings={escape:Xs,evaluate:Js,interpolate:zi,variable:"",imports:{_:u}},u.prototype=Ge.prototype,u.prototype.constructor=u,$n.prototype=Vt(Ge.prototype),$n.prototype.constructor=$n;function G(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Yn,this.__views__=[]}function Ba(){var n=new G(this.__wrapped__);return n.__actions__=yn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=yn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=yn(this.__views__),n}function Ua(){if(this.__filtered__){var n=new G(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Fa(){var n=this.__wrapped__.value(),t=this.__dir__,e=M(n),r=t<0,i=e?n.length:0,s=Qf(0,i,this.__views__),l=s.start,f=s.end,d=f-l,g=r?f:l-1,v=this.__iteratees__,x=v.length,I=0,D=dn(d,this.__takeCount__);if(!e||!r&&i==d&&D==d)return su(n,this.__actions__);var P=[];n:for(;d--&&I<D;){g+=t;for(var U=-1,S=n[g];++U<x;){var W=v[U],Z=W.iteratee,Dn=W.type,xn=Z(S);if(Dn==Cs)S=xn;else if(!xn){if(Dn==Wi)continue n;break n}}P[I++]=S}return P}G.prototype=Vt(Ge.prototype),G.prototype.constructor=G;function At(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Wa(){this.__data__=oe?oe(null):{},this.size=0}function Va(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Ga(n){var t=this.__data__;if(oe){var e=t[n];return e===C?o:e}return K.call(t,n)?t[n]:o}function Za(n){var t=this.__data__;return oe?t[n]!==o:K.call(t,n)}function qa(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=oe&&t===o?C:t,this}At.prototype.clear=Wa,At.prototype.delete=Va,At.prototype.get=Ga,At.prototype.has=Za,At.prototype.set=qa;function nt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function za(){this.__data__=[],this.size=0}function Ha(n){var t=this.__data__,e=Ze(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():Me.call(t,e,1),--this.size,!0}function Ka(n){var t=this.__data__,e=Ze(t,n);return e<0?o:t[e][1]}function Ya(n){return Ze(this.__data__,n)>-1}function ka(n,t){var e=this.__data__,r=Ze(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}nt.prototype.clear=za,nt.prototype.delete=Ha,nt.prototype.get=Ka,nt.prototype.has=Ya,nt.prototype.set=ka;function tt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Xa(){this.size=0,this.__data__={hash:new At,map:new(re||nt),string:new At}}function Ja(n){var t=tr(this,n).delete(n);return this.size-=t?1:0,t}function Qa(n){return tr(this,n).get(n)}function ja(n){return tr(this,n).has(n)}function nf(n,t){var e=tr(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}tt.prototype.clear=Xa,tt.prototype.delete=Ja,tt.prototype.get=Qa,tt.prototype.has=ja,tt.prototype.set=nf;function Tt(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new tt;++t<e;)this.add(n[t])}function tf(n){return this.__data__.set(n,C),this}function ef(n){return this.__data__.has(n)}Tt.prototype.add=Tt.prototype.push=tf,Tt.prototype.has=ef;function Zn(n){var t=this.__data__=new nt(n);this.size=t.size}function rf(){this.__data__=new nt,this.size=0}function of(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function uf(n){return this.__data__.get(n)}function sf(n){return this.__data__.has(n)}function lf(n,t){var e=this.__data__;if(e instanceof nt){var r=e.__data__;if(!re||r.length<w-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new tt(r)}return e.set(n,t),this.size=e.size,this}Zn.prototype.clear=rf,Zn.prototype.delete=of,Zn.prototype.get=uf,Zn.prototype.has=sf,Zn.prototype.set=lf;function Uo(n,t){var e=M(n),r=!e&&bt(n),i=!e&&!r&&mt(n),s=!e&&!r&&!i&&zt(n),l=e||r||i||s,f=l?Gr(n.length,va):[],d=f.length;for(var g in n)(t||K.call(n,g))&&!(l&&(g=="length"||i&&(g=="offset"||g=="parent")||s&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||ot(g,d)))&&f.push(g);return f}function Fo(n){var t=n.length;return t?n[oi(0,t-1)]:o}function af(n,t){return er(yn(n),Rt(t,0,n.length))}function ff(n){return er(yn(n))}function kr(n,t,e){(e!==o&&!qn(n[t],e)||e===o&&!(t in n))&&et(n,t,e)}function se(n,t,e){var r=n[t];(!(K.call(n,t)&&qn(r,e))||e===o&&!(t in n))&&et(n,t,e)}function Ze(n,t){for(var e=n.length;e--;)if(qn(n[e][0],t))return e;return-1}function cf(n,t,e,r){return ht(n,function(i,s,l){t(r,i,e(i),l)}),r}function Wo(n,t){return n&&Xn(t,sn(t),n)}function pf(n,t){return n&&Xn(t,En(t),n)}function et(n,t,e){t=="__proto__"&&Be?Be(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Xr(n,t){for(var e=-1,r=t.length,i=h(r),s=n==null;++e<r;)i[e]=s?o:bi(n,t[e]);return i}function Rt(n,t,e){return n===n&&(e!==o&&(n=n<=e?n:e),t!==o&&(n=n>=t?n:t)),n}function Nn(n,t,e,r,i,s){var l,f=t&V,d=t&ln,g=t&$;if(e&&(l=i?e(n,r,i,s):e(n)),l!==o)return l;if(!Q(n))return n;var v=M(n);if(v){if(l=nc(n),!f)return yn(n,l)}else{var x=hn(n),I=x==we||x==Vi;if(mt(n))return fu(n,f);if(x==jn||x==Pt||I&&!i){if(l=d||I?{}:Ou(n),!f)return d?Zf(n,pf(l,n)):Gf(n,Wo(l,n))}else{if(!k[x])return i?n:{};l=tc(n,x,f)}}s||(s=new Zn);var D=s.get(n);if(D)return D;s.set(n,l),is(n)?n.forEach(function(S){l.add(Nn(S,t,e,S,n,s))}):es(n)&&n.forEach(function(S,W){l.set(W,Nn(S,t,e,W,n,s))});var P=g?d?gi:_i:d?En:sn,U=v?o:P(n);return Sn(U||n,function(S,W){U&&(W=S,S=n[W]),se(l,W,Nn(S,t,e,W,n,s))}),l}function df(n){var t=sn(n);return function(e){return Vo(e,n,t)}}function Vo(n,t,e){var r=e.length;if(n==null)return!r;for(n=Y(n);r--;){var i=e[r],s=t[i],l=n[i];if(l===o&&!(i in n)||!s(l))return!1}return!0}function Go(n,t,e){if(typeof n!="function")throw new Cn(E);return he(function(){n.apply(o,e)},t)}function le(n,t,e,r){var i=-1,s=Re,l=!0,f=n.length,d=[],g=t.length;if(!f)return d;e&&(t=J(t,Tn(e))),r?(s=Mr,l=!1):t.length>=w&&(s=te,l=!1,t=new Tt(t));n:for(;++i<f;){var v=n[i],x=e==null?v:e(v);if(v=r||v!==0?v:0,l&&x===x){for(var I=g;I--;)if(t[I]===x)continue n;d.push(v)}else s(t,x,r)||d.push(v)}return d}var ht=_u(kn),Zo=_u(Qr,!0);function hf(n,t){var e=!0;return ht(n,function(r,i,s){return e=!!t(r,i,s),e}),e}function qe(n,t,e){for(var r=-1,i=n.length;++r<i;){var s=n[r],l=t(s);if(l!=null&&(f===o?l===l&&!Ln(l):e(l,f)))var f=l,d=s}return d}function _f(n,t,e,r){var i=n.length;for(e=B(e),e<0&&(e=-e>i?0:i+e),r=r===o||r>i?i:B(r),r<0&&(r+=i),r=e>r?0:us(r);e<r;)n[e++]=t;return n}function qo(n,t){var e=[];return ht(n,function(r,i,s){t(r,i,s)&&e.push(r)}),e}function fn(n,t,e,r,i){var s=-1,l=n.length;for(e||(e=rc),i||(i=[]);++s<l;){var f=n[s];t>0&&e(f)?t>1?fn(f,t-1,e,r,i):ct(i,f):r||(i[i.length]=f)}return i}var Jr=gu(),zo=gu(!0);function kn(n,t){return n&&Jr(n,t,sn)}function Qr(n,t){return n&&zo(n,t,sn)}function ze(n,t){return ft(t,function(e){return ut(n[e])})}function Lt(n,t){t=gt(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[Jn(t[e++])];return e&&e==r?n:o}function Ho(n,t,e){var r=t(n);return M(n)?r:ct(r,e(n))}function vn(n){return n==null?n===o?Zs:Vs:It&&It in Y(n)?Jf(n):fc(n)}function jr(n,t){return n>t}function gf(n,t){return n!=null&&K.call(n,t)}function vf(n,t){return n!=null&&t in Y(n)}function mf(n,t,e){return n>=dn(t,e)&&n<un(t,e)}function ni(n,t,e){for(var r=e?Mr:Re,i=n[0].length,s=n.length,l=s,f=h(s),d=1/0,g=[];l--;){var v=n[l];l&&t&&(v=J(v,Tn(t))),d=dn(v.length,d),f[l]=!e&&(t||i>=120&&v.length>=120)?new Tt(l&&v):o}v=n[0];var x=-1,I=f[0];n:for(;++x<i&&g.length<d;){var D=v[x],P=t?t(D):D;if(D=e||D!==0?D:0,!(I?te(I,P):r(g,P,e))){for(l=s;--l;){var U=f[l];if(!(U?te(U,P):r(n[l],P,e)))continue n}I&&I.push(P),g.push(D)}}return g}function xf(n,t,e,r){return kn(n,function(i,s,l){t(r,e(i),s,l)}),r}function ae(n,t,e){t=gt(t,n),n=Cu(n,t);var r=n==null?n:n[Jn(Bn(t))];return r==null?o:An(r,n,e)}function Ko(n){return j(n)&&vn(n)==Pt}function yf(n){return j(n)&&vn(n)==ne}function wf(n){return j(n)&&vn(n)==kt}function fe(n,t,e,r,i){return n===t?!0:n==null||t==null||!j(n)&&!j(t)?n!==n&&t!==t:Ef(n,t,e,r,fe,i)}function Ef(n,t,e,r,i,s){var l=M(n),f=M(t),d=l?xe:hn(n),g=f?xe:hn(t);d=d==Pt?jn:d,g=g==Pt?jn:g;var v=d==jn,x=g==jn,I=d==g;if(I&&mt(n)){if(!mt(t))return!1;l=!0,v=!1}if(I&&!v)return s||(s=new Zn),l||zt(n)?Ru(n,t,e,r,i,s):kf(n,t,d,e,r,i,s);if(!(e&rn)){var D=v&&K.call(n,"__wrapped__"),P=x&&K.call(t,"__wrapped__");if(D||P){var U=D?n.value():n,S=P?t.value():t;return s||(s=new Zn),i(U,S,e,r,s)}}return I?(s||(s=new Zn),Xf(n,t,e,r,i,s)):!1}function If(n){return j(n)&&hn(n)==Wn}function ti(n,t,e,r){var i=e.length,s=i,l=!r;if(n==null)return!s;for(n=Y(n);i--;){var f=e[i];if(l&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++i<s;){f=e[i];var d=f[0],g=n[d],v=f[1];if(l&&f[2]){if(g===o&&!(d in n))return!1}else{var x=new Zn;if(r)var I=r(g,v,d,n,t,x);if(!(I===o?fe(v,g,rn|pn,r,x):I))return!1}}return!0}function Yo(n){if(!Q(n)||oc(n))return!1;var t=ut(n)?Ea:pl;return t.test(Ot(n))}function Af(n){return j(n)&&vn(n)==Jt}function Tf(n){return j(n)&&hn(n)==Vn}function Rf(n){return j(n)&&lr(n.length)&&!!X[vn(n)]}function ko(n){return typeof n=="function"?n:n==null?In:typeof n=="object"?M(n)?Qo(n[0],n[1]):Jo(n):vs(n)}function ei(n){if(!de(n))return Da(n);var t=[];for(var e in Y(n))K.call(n,e)&&e!="constructor"&&t.push(e);return t}function Lf(n){if(!Q(n))return ac(n);var t=de(n),e=[];for(var r in n)r=="constructor"&&(t||!K.call(n,r))||e.push(r);return e}function ri(n,t){return n<t}function Xo(n,t){var e=-1,r=wn(n)?h(n.length):[];return ht(n,function(i,s,l){r[++e]=t(i,s,l)}),r}function Jo(n){var t=mi(n);return t.length==1&&t[0][2]?Pu(t[0][0],t[0][1]):function(e){return e===n||ti(e,n,t)}}function Qo(n,t){return yi(n)&&bu(t)?Pu(Jn(n),t):function(e){var r=bi(e,n);return r===o&&r===t?Pi(e,n):fe(t,r,rn|pn)}}function He(n,t,e,r,i){n!==t&&Jr(t,function(s,l){if(i||(i=new Zn),Q(s))Df(n,t,l,e,He,r,i);else{var f=r?r(Ei(n,l),s,l+"",n,t,i):o;f===o&&(f=s),kr(n,l,f)}},En)}function Df(n,t,e,r,i,s,l){var f=Ei(n,e),d=Ei(t,e),g=l.get(d);if(g){kr(n,e,g);return}var v=s?s(f,d,e+"",n,t,l):o,x=v===o;if(x){var I=M(d),D=!I&&mt(d),P=!I&&!D&&zt(d);v=d,I||D||P?M(f)?v=f:nn(f)?v=yn(f):D?(x=!1,v=fu(d,!0)):P?(x=!1,v=cu(d,!0)):v=[]:_e(d)||bt(d)?(v=f,bt(f)?v=ss(f):(!Q(f)||ut(f))&&(v=Ou(d))):x=!1}x&&(l.set(d,v),i(v,d,r,s,l),l.delete(d)),kr(n,e,v)}function jo(n,t){var e=n.length;if(e)return t+=t<0?e:0,ot(t,e)?n[t]:o}function nu(n,t,e){t.length?t=J(t,function(s){return M(s)?function(l){return Lt(l,s.length===1?s[0]:s)}:s}):t=[In];var r=-1;t=J(t,Tn(b()));var i=Xo(n,function(s,l,f){var d=J(t,function(g){return g(s)});return{criteria:d,index:++r,value:s}});return na(i,function(s,l){return Vf(s,l,e)})}function Of(n,t){return tu(n,t,function(e,r){return Pi(n,r)})}function tu(n,t,e){for(var r=-1,i=t.length,s={};++r<i;){var l=t[r],f=Lt(n,l);e(f,l)&&ce(s,gt(l,n),f)}return s}function bf(n){return function(t){return Lt(t,n)}}function ii(n,t,e,r){var i=r?jl:$t,s=-1,l=t.length,f=n;for(n===t&&(t=yn(t)),e&&(f=J(n,Tn(e)));++s<l;)for(var d=0,g=t[s],v=e?e(g):g;(d=i(f,v,d,r))>-1;)f!==n&&Me.call(f,d,1),Me.call(n,d,1);return n}function eu(n,t){for(var e=n?t.length:0,r=e-1;e--;){var i=t[e];if(e==r||i!==s){var s=i;ot(i)?Me.call(n,i,1):li(n,i)}}return n}function oi(n,t){return n+Fe(Mo()*(t-n+1))}function Pf(n,t,e,r){for(var i=-1,s=un(Ue((t-n)/(e||1)),0),l=h(s);s--;)l[r?s:++i]=n,n+=e;return l}function ui(n,t){var e="";if(!n||t<1||t>at)return e;do t%2&&(e+=n),t=Fe(t/2),t&&(n+=n);while(t);return e}function F(n,t){return Ii(Su(n,t,In),n+"")}function Sf(n){return Fo(Ht(n))}function Cf(n,t){var e=Ht(n);return er(e,Rt(t,0,e.length))}function ce(n,t,e,r){if(!Q(n))return n;t=gt(t,n);for(var i=-1,s=t.length,l=s-1,f=n;f!=null&&++i<s;){var d=Jn(t[i]),g=e;if(d==="__proto__"||d==="constructor"||d==="prototype")return n;if(i!=l){var v=f[d];g=r?r(v,d,f):o,g===o&&(g=Q(v)?v:ot(t[i+1])?[]:{})}se(f,d,g),f=f[d]}return n}var ru=We?function(n,t){return We.set(n,t),n}:In,$f=Be?function(n,t){return Be(n,"toString",{configurable:!0,enumerable:!1,value:Ci(t),writable:!0})}:In;function Nf(n){return er(Ht(n))}function Mn(n,t,e){var r=-1,i=n.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var s=h(i);++r<i;)s[r]=n[r+t];return s}function Mf(n,t){var e;return ht(n,function(r,i,s){return e=t(r,i,s),!e}),!!e}function Ke(n,t,e){var r=0,i=n==null?r:n.length;if(typeof t=="number"&&t===t&&i<=Bs){for(;r<i;){var s=r+i>>>1,l=n[s];l!==null&&!Ln(l)&&(e?l<=t:l<t)?r=s+1:i=s}return i}return si(n,t,In,e)}function si(n,t,e,r){var i=0,s=n==null?0:n.length;if(s===0)return 0;t=e(t);for(var l=t!==t,f=t===null,d=Ln(t),g=t===o;i<s;){var v=Fe((i+s)/2),x=e(n[v]),I=x!==o,D=x===null,P=x===x,U=Ln(x);if(l)var S=r||P;else g?S=P&&(r||I):f?S=P&&I&&(r||!D):d?S=P&&I&&!D&&(r||!U):D||U?S=!1:S=r?x<=t:x<t;S?i=v+1:s=v}return dn(s,Ms)}function iu(n,t){for(var e=-1,r=n.length,i=0,s=[];++e<r;){var l=n[e],f=t?t(l):l;if(!e||!qn(f,d)){var d=f;s[i++]=l===0?0:l}}return s}function ou(n){return typeof n=="number"?n:Ln(n)?me:+n}function Rn(n){if(typeof n=="string")return n;if(M(n))return J(n,Rn)+"";if(Ln(n))return Bo?Bo.call(n):"";var t=n+"";return t=="0"&&1/n==-wt?"-0":t}function _t(n,t,e){var r=-1,i=Re,s=n.length,l=!0,f=[],d=f;if(e)l=!1,i=Mr;else if(s>=w){var g=t?null:Kf(n);if(g)return De(g);l=!1,i=te,d=new Tt}else d=t?[]:f;n:for(;++r<s;){var v=n[r],x=t?t(v):v;if(v=e||v!==0?v:0,l&&x===x){for(var I=d.length;I--;)if(d[I]===x)continue n;t&&d.push(x),f.push(v)}else i(d,x,e)||(d!==f&&d.push(x),f.push(v))}return f}function li(n,t){return t=gt(t,n),n=Cu(n,t),n==null||delete n[Jn(Bn(t))]}function uu(n,t,e,r){return ce(n,t,e(Lt(n,t)),r)}function Ye(n,t,e,r){for(var i=n.length,s=r?i:-1;(r?s--:++s<i)&&t(n[s],s,n););return e?Mn(n,r?0:s,r?s+1:i):Mn(n,r?s+1:0,r?i:s)}function su(n,t){var e=n;return e instanceof G&&(e=e.value()),Br(t,function(r,i){return i.func.apply(i.thisArg,ct([r],i.args))},e)}function ai(n,t,e){var r=n.length;if(r<2)return r?_t(n[0]):[];for(var i=-1,s=h(r);++i<r;)for(var l=n[i],f=-1;++f<r;)f!=i&&(s[i]=le(s[i]||l,n[f],t,e));return _t(fn(s,1),t,e)}function lu(n,t,e){for(var r=-1,i=n.length,s=t.length,l={};++r<i;){var f=r<s?t[r]:o;e(l,n[r],f)}return l}function fi(n){return nn(n)?n:[]}function ci(n){return typeof n=="function"?n:In}function gt(n,t){return M(n)?n:yi(n,t)?[n]:Bu(z(n))}var Bf=F;function vt(n,t,e){var r=n.length;return e=e===o?r:e,!t&&e>=r?n:Mn(n,t,e)}var au=Ia||function(n){return an.clearTimeout(n)};function fu(n,t){if(t)return n.slice();var e=n.length,r=Po?Po(e):new n.constructor(e);return n.copy(r),r}function pi(n){var t=new n.constructor(n.byteLength);return new $e(t).set(new $e(n)),t}function Uf(n,t){var e=t?pi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}function Ff(n){var t=new n.constructor(n.source,Hi.exec(n));return t.lastIndex=n.lastIndex,t}function Wf(n){return ue?Y(ue.call(n)):{}}function cu(n,t){var e=t?pi(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}function pu(n,t){if(n!==t){var e=n!==o,r=n===null,i=n===n,s=Ln(n),l=t!==o,f=t===null,d=t===t,g=Ln(t);if(!f&&!g&&!s&&n>t||s&&l&&d&&!f&&!g||r&&l&&d||!e&&d||!i)return 1;if(!r&&!s&&!g&&n<t||g&&e&&i&&!r&&!s||f&&e&&i||!l&&i||!d)return-1}return 0}function Vf(n,t,e){for(var r=-1,i=n.criteria,s=t.criteria,l=i.length,f=e.length;++r<l;){var d=pu(i[r],s[r]);if(d){if(r>=f)return d;var g=e[r];return d*(g=="desc"?-1:1)}}return n.index-t.index}function du(n,t,e,r){for(var i=-1,s=n.length,l=e.length,f=-1,d=t.length,g=un(s-l,0),v=h(d+g),x=!r;++f<d;)v[f]=t[f];for(;++i<l;)(x||i<s)&&(v[e[i]]=n[i]);for(;g--;)v[f++]=n[i++];return v}function hu(n,t,e,r){for(var i=-1,s=n.length,l=-1,f=e.length,d=-1,g=t.length,v=un(s-f,0),x=h(v+g),I=!r;++i<v;)x[i]=n[i];for(var D=i;++d<g;)x[D+d]=t[d];for(;++l<f;)(I||i<s)&&(x[D+e[l]]=n[i++]);return x}function yn(n,t){var e=-1,r=n.length;for(t||(t=h(r));++e<r;)t[e]=n[e];return t}function Xn(n,t,e,r){var i=!e;e||(e={});for(var s=-1,l=t.length;++s<l;){var f=t[s],d=r?r(e[f],n[f],f,e,n):o;d===o&&(d=n[f]),i?et(e,f,d):se(e,f,d)}return e}function Gf(n,t){return Xn(n,xi(n),t)}function Zf(n,t){return Xn(n,Lu(n),t)}function ke(n,t){return function(e,r){var i=M(e)?Kl:cf,s=t?t():{};return i(e,n,b(r,2),s)}}function Gt(n){return F(function(t,e){var r=-1,i=e.length,s=i>1?e[i-1]:o,l=i>2?e[2]:o;for(s=n.length>3&&typeof s=="function"?(i--,s):o,l&&mn(e[0],e[1],l)&&(s=i<3?o:s,i=1),t=Y(t);++r<i;){var f=e[r];f&&n(t,f,r,s)}return t})}function _u(n,t){return function(e,r){if(e==null)return e;if(!wn(e))return n(e,r);for(var i=e.length,s=t?i:-1,l=Y(e);(t?s--:++s<i)&&r(l[s],s,l)!==!1;);return e}}function gu(n){return function(t,e,r){for(var i=-1,s=Y(t),l=r(t),f=l.length;f--;){var d=l[n?f:++i];if(e(s[d],d,s)===!1)break}return t}}function qf(n,t,e){var r=t&en,i=pe(n);function s(){var l=this&&this!==an&&this instanceof s?i:n;return l.apply(r?e:this,arguments)}return s}function vu(n){return function(t){t=z(t);var e=Nt(t)?Gn(t):o,r=e?e[0]:t.charAt(0),i=e?vt(e,1).join(""):t.slice(1);return r[n]()+i}}function Zt(n){return function(t){return Br(_s(hs(t).replace(Cl,"")),n,"")}}function pe(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=Vt(n.prototype),r=n.apply(e,t);return Q(r)?r:e}}function zf(n,t,e){var r=pe(n);function i(){for(var s=arguments.length,l=h(s),f=s,d=qt(i);f--;)l[f]=arguments[f];var g=s<3&&l[0]!==d&&l[s-1]!==d?[]:pt(l,d);if(s-=g.length,s<e)return Eu(n,t,Xe,i.placeholder,o,l,g,o,o,e-s);var v=this&&this!==an&&this instanceof i?r:n;return An(v,this,l)}return i}function mu(n){return function(t,e,r){var i=Y(t);if(!wn(t)){var s=b(e,3);t=sn(t),e=function(f){return s(i[f],f,i)}}var l=n(t,e,r);return l>-1?i[s?t[l]:l]:o}}function xu(n){return it(function(t){var e=t.length,r=e,i=$n.prototype.thru;for(n&&t.reverse();r--;){var s=t[r];if(typeof s!="function")throw new Cn(E);if(i&&!l&&nr(s)=="wrapper")var l=new $n([],!0)}for(r=l?r:e;++r<e;){s=t[r];var f=nr(s),d=f=="wrapper"?vi(s):o;d&&wi(d[0])&&d[1]==(Qn|gn|Fn|Kt)&&!d[4].length&&d[9]==1?l=l[nr(d[0])].apply(l,d[3]):l=s.length==1&&wi(s)?l[f]():l.thru(s)}return function(){var g=arguments,v=g[0];if(l&&g.length==1&&M(v))return l.plant(v).value();for(var x=0,I=e?t[x].apply(this,g):v;++x<e;)I=t[x].call(this,I);return I}})}function Xe(n,t,e,r,i,s,l,f,d,g){var v=t&Qn,x=t&en,I=t&_n,D=t&(gn|Hn),P=t&vr,U=I?o:pe(n);function S(){for(var W=arguments.length,Z=h(W),Dn=W;Dn--;)Z[Dn]=arguments[Dn];if(D)var xn=qt(S),On=ea(Z,xn);if(r&&(Z=du(Z,r,i,D)),s&&(Z=hu(Z,s,l,D)),W-=On,D&&W<g){var tn=pt(Z,xn);return Eu(n,t,Xe,S.placeholder,e,Z,tn,f,d,g-W)}var zn=x?e:this,lt=I?zn[n]:n;return W=Z.length,f?Z=cc(Z,f):P&&W>1&&Z.reverse(),v&&d<W&&(Z.length=d),this&&this!==an&&this instanceof S&&(lt=U||pe(lt)),lt.apply(zn,Z)}return S}function yu(n,t){return function(e,r){return xf(e,n,t(r),{})}}function Je(n,t){return function(e,r){var i;if(e===o&&r===o)return t;if(e!==o&&(i=e),r!==o){if(i===o)return r;typeof e=="string"||typeof r=="string"?(e=Rn(e),r=Rn(r)):(e=ou(e),r=ou(r)),i=n(e,r)}return i}}function di(n){return it(function(t){return t=J(t,Tn(b())),F(function(e){var r=this;return n(t,function(i){return An(i,r,e)})})})}function Qe(n,t){t=t===o?" ":Rn(t);var e=t.length;if(e<2)return e?ui(t,n):t;var r=ui(t,Ue(n/Mt(t)));return Nt(t)?vt(Gn(r),0,n).join(""):r.slice(0,n)}function Hf(n,t,e,r){var i=t&en,s=pe(n);function l(){for(var f=-1,d=arguments.length,g=-1,v=r.length,x=h(v+d),I=this&&this!==an&&this instanceof l?s:n;++g<v;)x[g]=r[g];for(;d--;)x[g++]=arguments[++f];return An(I,i?e:this,x)}return l}function wu(n){return function(t,e,r){return r&&typeof r!="number"&&mn(t,e,r)&&(e=r=o),t=st(t),e===o?(e=t,t=0):e=st(e),r=r===o?t<e?1:-1:st(r),Pf(t,e,r,n)}}function je(n){return function(t,e){return typeof t=="string"&&typeof e=="string"||(t=Un(t),e=Un(e)),n(t,e)}}function Eu(n,t,e,r,i,s,l,f,d,g){var v=t&gn,x=v?l:o,I=v?o:l,D=v?s:o,P=v?o:s;t|=v?Fn:Kn,t&=~(v?Kn:Fn),t&yt||(t&=~(en|_n));var U=[n,t,i,D,x,P,I,f,d,g],S=e.apply(o,U);return wi(n)&&$u(S,U),S.placeholder=r,Nu(S,n,t)}function hi(n){var t=on[n];return function(e,r){if(e=Un(e),r=r==null?0:dn(B(r),292),r&&No(e)){var i=(z(e)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+r));return i=(z(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(e)}}var Kf=Ft&&1/De(new Ft([,-0]))[1]==wt?function(n){return new Ft(n)}:Mi;function Iu(n){return function(t){var e=hn(t);return e==Wn?qr(t):e==Vn?aa(t):ta(t,n(t))}}function rt(n,t,e,r,i,s,l,f){var d=t&_n;if(!d&&typeof n!="function")throw new Cn(E);var g=r?r.length:0;if(g||(t&=~(Fn|Kn),r=i=o),l=l===o?l:un(B(l),0),f=f===o?f:B(f),g-=i?i.length:0,t&Kn){var v=r,x=i;r=i=o}var I=d?o:vi(n),D=[n,t,e,r,i,v,x,s,l,f];if(I&&lc(D,I),n=D[0],t=D[1],e=D[2],r=D[3],i=D[4],f=D[9]=D[9]===o?d?0:n.length:un(D[9]-g,0),!f&&t&(gn|Hn)&&(t&=~(gn|Hn)),!t||t==en)var P=qf(n,t,e);else t==gn||t==Hn?P=zf(n,t,f):(t==Fn||t==(en|Fn))&&!i.length?P=Hf(n,t,e,r):P=Xe.apply(o,D);var U=I?ru:$u;return Nu(U(P,D),n,t)}function Au(n,t,e,r){return n===o||qn(n,Ut[e])&&!K.call(r,e)?t:n}function Tu(n,t,e,r,i,s){return Q(n)&&Q(t)&&(s.set(t,n),He(n,t,o,Tu,s),s.delete(t)),n}function Yf(n){return _e(n)?o:n}function Ru(n,t,e,r,i,s){var l=e&rn,f=n.length,d=t.length;if(f!=d&&!(l&&d>f))return!1;var g=s.get(n),v=s.get(t);if(g&&v)return g==t&&v==n;var x=-1,I=!0,D=e&pn?new Tt:o;for(s.set(n,t),s.set(t,n);++x<f;){var P=n[x],U=t[x];if(r)var S=l?r(U,P,x,t,n,s):r(P,U,x,n,t,s);if(S!==o){if(S)continue;I=!1;break}if(D){if(!Ur(t,function(W,Z){if(!te(D,Z)&&(P===W||i(P,W,e,r,s)))return D.push(Z)})){I=!1;break}}else if(!(P===U||i(P,U,e,r,s))){I=!1;break}}return s.delete(n),s.delete(t),I}function kf(n,t,e,r,i,s,l){switch(e){case St:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case ne:return!(n.byteLength!=t.byteLength||!s(new $e(n),new $e(t)));case Yt:case kt:case Xt:return qn(+n,+t);case ye:return n.name==t.name&&n.message==t.message;case Jt:case Qt:return n==t+"";case Wn:var f=qr;case Vn:var d=r&rn;if(f||(f=De),n.size!=t.size&&!d)return!1;var g=l.get(n);if(g)return g==t;r|=pn,l.set(n,t);var v=Ru(f(n),f(t),r,i,s,l);return l.delete(n),v;case Ee:if(ue)return ue.call(n)==ue.call(t)}return!1}function Xf(n,t,e,r,i,s){var l=e&rn,f=_i(n),d=f.length,g=_i(t),v=g.length;if(d!=v&&!l)return!1;for(var x=d;x--;){var I=f[x];if(!(l?I in t:K.call(t,I)))return!1}var D=s.get(n),P=s.get(t);if(D&&P)return D==t&&P==n;var U=!0;s.set(n,t),s.set(t,n);for(var S=l;++x<d;){I=f[x];var W=n[I],Z=t[I];if(r)var Dn=l?r(Z,W,I,t,n,s):r(W,Z,I,n,t,s);if(!(Dn===o?W===Z||i(W,Z,e,r,s):Dn)){U=!1;break}S||(S=I=="constructor")}if(U&&!S){var xn=n.constructor,On=t.constructor;xn!=On&&"constructor"in n&&"constructor"in t&&!(typeof xn=="function"&&xn instanceof xn&&typeof On=="function"&&On instanceof On)&&(U=!1)}return s.delete(n),s.delete(t),U}function it(n){return Ii(Su(n,o,Vu),n+"")}function _i(n){return Ho(n,sn,xi)}function gi(n){return Ho(n,En,Lu)}var vi=We?function(n){return We.get(n)}:Mi;function nr(n){for(var t=n.name+"",e=Wt[t],r=K.call(Wt,t)?e.length:0;r--;){var i=e[r],s=i.func;if(s==null||s==n)return i.name}return t}function qt(n){var t=K.call(u,"placeholder")?u:n;return t.placeholder}function b(){var n=u.iteratee||$i;return n=n===$i?ko:n,arguments.length?n(arguments[0],arguments[1]):n}function tr(n,t){var e=n.__data__;return ic(t)?e[typeof t=="string"?"string":"hash"]:e.map}function mi(n){for(var t=sn(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,bu(i)]}return t}function Dt(n,t){var e=ua(n,t);return Yo(e)?e:o}function Jf(n){var t=K.call(n,It),e=n[It];try{n[It]=o;var r=!0}catch{}var i=Se.call(n);return r&&(t?n[It]=e:delete n[It]),i}var xi=Hr?function(n){return n==null?[]:(n=Y(n),ft(Hr(n),function(t){return Co.call(n,t)}))}:Bi,Lu=Hr?function(n){for(var t=[];n;)ct(t,xi(n)),n=Ne(n);return t}:Bi,hn=vn;(Kr&&hn(new Kr(new ArrayBuffer(1)))!=St||re&&hn(new re)!=Wn||Yr&&hn(Yr.resolve())!=Gi||Ft&&hn(new Ft)!=Vn||ie&&hn(new ie)!=jt)&&(hn=function(n){var t=vn(n),e=t==jn?n.constructor:o,r=e?Ot(e):"";if(r)switch(r){case Sa:return St;case Ca:return Wn;case $a:return Gi;case Na:return Vn;case Ma:return jt}return t});function Qf(n,t,e){for(var r=-1,i=e.length;++r<i;){var s=e[r],l=s.size;switch(s.type){case"drop":n+=l;break;case"dropRight":t-=l;break;case"take":t=dn(t,n+l);break;case"takeRight":n=un(n,t-l);break}}return{start:n,end:t}}function jf(n){var t=n.match(il);return t?t[1].split(ol):[]}function Du(n,t,e){t=gt(t,n);for(var r=-1,i=t.length,s=!1;++r<i;){var l=Jn(t[r]);if(!(s=n!=null&&e(n,l)))break;n=n[l]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&lr(i)&&ot(l,i)&&(M(n)||bt(n)))}function nc(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&K.call(n,"index")&&(e.index=n.index,e.input=n.input),e}function Ou(n){return typeof n.constructor=="function"&&!de(n)?Vt(Ne(n)):{}}function tc(n,t,e){var r=n.constructor;switch(t){case ne:return pi(n);case Yt:case kt:return new r(+n);case St:return Uf(n,e);case mr:case xr:case yr:case wr:case Er:case Ir:case Ar:case Tr:case Rr:return cu(n,e);case Wn:return new r;case Xt:case Qt:return new r(n);case Jt:return Ff(n);case Vn:return new r;case Ee:return Wf(n)}}function ec(n,t){var e=t.length;if(!e)return n;var r=e-1;return t[r]=(e>1?"& ":"")+t[r],t=t.join(e>2?", ":" "),n.replace(rl,`{
/* [wrapped with `+t+`] */
`)}function rc(n){return M(n)||bt(n)||!!($o&&n&&n[$o])}function ot(n,t){var e=typeof n;return t=t??at,!!t&&(e=="number"||e!="symbol"&&hl.test(n))&&n>-1&&n%1==0&&n<t}function mn(n,t,e){if(!Q(e))return!1;var r=typeof t;return(r=="number"?wn(e)&&ot(t,e.length):r=="string"&&t in e)?qn(e[t],n):!1}function yi(n,t){if(M(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||Ln(n)?!0:js.test(n)||!Qs.test(n)||t!=null&&n in Y(t)}function ic(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function wi(n){var t=nr(n),e=u[t];if(typeof e!="function"||!(t in G.prototype))return!1;if(n===e)return!0;var r=vi(e);return!!r&&n===r[0]}function oc(n){return!!bo&&bo in n}var uc=be?ut:Ui;function de(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Ut;return n===e}function bu(n){return n===n&&!Q(n)}function Pu(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==o||n in Y(e))}}function sc(n){var t=ur(n,function(r){return e.size===y&&e.clear(),r}),e=t.cache;return t}function lc(n,t){var e=n[1],r=t[1],i=e|r,s=i<(en|_n|Qn),l=r==Qn&&e==gn||r==Qn&&e==Kt&&n[7].length<=t[8]||r==(Qn|Kt)&&t[7].length<=t[8]&&e==gn;if(!(s||l))return n;r&en&&(n[2]=t[2],i|=e&en?0:yt);var f=t[3];if(f){var d=n[3];n[3]=d?du(d,f,t[4]):f,n[4]=d?pt(n[3],O):t[4]}return f=t[5],f&&(d=n[5],n[5]=d?hu(d,f,t[6]):f,n[6]=d?pt(n[5],O):t[6]),f=t[7],f&&(n[7]=f),r&Qn&&(n[8]=n[8]==null?t[8]:dn(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=i,n}function ac(n){var t=[];if(n!=null)for(var e in Y(n))t.push(e);return t}function fc(n){return Se.call(n)}function Su(n,t,e){return t=un(t===o?n.length-1:t,0),function(){for(var r=arguments,i=-1,s=un(r.length-t,0),l=h(s);++i<s;)l[i]=r[t+i];i=-1;for(var f=h(t+1);++i<t;)f[i]=r[i];return f[t]=e(l),An(n,this,f)}}function Cu(n,t){return t.length<2?n:Lt(n,Mn(t,0,-1))}function cc(n,t){for(var e=n.length,r=dn(t.length,e),i=yn(n);r--;){var s=t[r];n[r]=ot(s,e)?i[s]:o}return n}function Ei(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var $u=Mu(ru),he=Ta||function(n,t){return an.setTimeout(n,t)},Ii=Mu($f);function Nu(n,t,e){var r=t+"";return Ii(n,ec(r,pc(jf(r),e)))}function Mu(n){var t=0,e=0;return function(){var r=Oa(),i=Ss-(r-e);if(e=r,i>0){if(++t>=Ps)return arguments[0]}else t=0;return n.apply(o,arguments)}}function er(n,t){var e=-1,r=n.length,i=r-1;for(t=t===o?r:t;++e<t;){var s=oi(e,i),l=n[s];n[s]=n[e],n[e]=l}return n.length=t,n}var Bu=sc(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(nl,function(e,r,i,s){t.push(i?s.replace(ll,"$1"):r||e)}),t});function Jn(n){if(typeof n=="string"||Ln(n))return n;var t=n+"";return t=="0"&&1/n==-wt?"-0":t}function Ot(n){if(n!=null){try{return Pe.call(n)}catch{}try{return n+""}catch{}}return""}function pc(n,t){return Sn(Us,function(e){var r="_."+e[0];t&e[1]&&!Re(n,r)&&n.push(r)}),n.sort()}function Uu(n){if(n instanceof G)return n.clone();var t=new $n(n.__wrapped__,n.__chain__);return t.__actions__=yn(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function dc(n,t,e){(e?mn(n,t,e):t===o)?t=1:t=un(B(t),0);var r=n==null?0:n.length;if(!r||t<1)return[];for(var i=0,s=0,l=h(Ue(r/t));i<r;)l[s++]=Mn(n,i,i+=t);return l}function hc(n){for(var t=-1,e=n==null?0:n.length,r=0,i=[];++t<e;){var s=n[t];s&&(i[r++]=s)}return i}function _c(){var n=arguments.length;if(!n)return[];for(var t=h(n-1),e=arguments[0],r=n;r--;)t[r-1]=arguments[r];return ct(M(e)?yn(e):[e],fn(t,1))}var gc=F(function(n,t){return nn(n)?le(n,fn(t,1,nn,!0)):[]}),vc=F(function(n,t){var e=Bn(t);return nn(e)&&(e=o),nn(n)?le(n,fn(t,1,nn,!0),b(e,2)):[]}),mc=F(function(n,t){var e=Bn(t);return nn(e)&&(e=o),nn(n)?le(n,fn(t,1,nn,!0),o,e):[]});function xc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===o?1:B(t),Mn(n,t<0?0:t,r)):[]}function yc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===o?1:B(t),t=r-t,Mn(n,0,t<0?0:t)):[]}function wc(n,t){return n&&n.length?Ye(n,b(t,3),!0,!0):[]}function Ec(n,t){return n&&n.length?Ye(n,b(t,3),!0):[]}function Ic(n,t,e,r){var i=n==null?0:n.length;return i?(e&&typeof e!="number"&&mn(n,t,e)&&(e=0,r=i),_f(n,t,e,r)):[]}function Fu(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var i=e==null?0:B(e);return i<0&&(i=un(r+i,0)),Le(n,b(t,3),i)}function Wu(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return e!==o&&(i=B(e),i=e<0?un(r+i,0):dn(i,r-1)),Le(n,b(t,3),i,!0)}function Vu(n){var t=n==null?0:n.length;return t?fn(n,1):[]}function Ac(n){var t=n==null?0:n.length;return t?fn(n,wt):[]}function Tc(n,t){var e=n==null?0:n.length;return e?(t=t===o?1:B(t),fn(n,t)):[]}function Rc(n){for(var t=-1,e=n==null?0:n.length,r={};++t<e;){var i=n[t];r[i[0]]=i[1]}return r}function Gu(n){return n&&n.length?n[0]:o}function Lc(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var i=e==null?0:B(e);return i<0&&(i=un(r+i,0)),$t(n,t,i)}function Dc(n){var t=n==null?0:n.length;return t?Mn(n,0,-1):[]}var Oc=F(function(n){var t=J(n,fi);return t.length&&t[0]===n[0]?ni(t):[]}),bc=F(function(n){var t=Bn(n),e=J(n,fi);return t===Bn(e)?t=o:e.pop(),e.length&&e[0]===n[0]?ni(e,b(t,2)):[]}),Pc=F(function(n){var t=Bn(n),e=J(n,fi);return t=typeof t=="function"?t:o,t&&e.pop(),e.length&&e[0]===n[0]?ni(e,o,t):[]});function Sc(n,t){return n==null?"":La.call(n,t)}function Bn(n){var t=n==null?0:n.length;return t?n[t-1]:o}function Cc(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var i=r;return e!==o&&(i=B(e),i=i<0?un(r+i,0):dn(i,r-1)),t===t?ca(n,t,i):Le(n,Eo,i,!0)}function $c(n,t){return n&&n.length?jo(n,B(t)):o}var Nc=F(Zu);function Zu(n,t){return n&&n.length&&t&&t.length?ii(n,t):n}function Mc(n,t,e){return n&&n.length&&t&&t.length?ii(n,t,b(e,2)):n}function Bc(n,t,e){return n&&n.length&&t&&t.length?ii(n,t,o,e):n}var Uc=it(function(n,t){var e=n==null?0:n.length,r=Xr(n,t);return eu(n,J(t,function(i){return ot(i,e)?+i:i}).sort(pu)),r});function Fc(n,t){var e=[];if(!(n&&n.length))return e;var r=-1,i=[],s=n.length;for(t=b(t,3);++r<s;){var l=n[r];t(l,r,n)&&(e.push(l),i.push(r))}return eu(n,i),e}function Ai(n){return n==null?n:Pa.call(n)}function Wc(n,t,e){var r=n==null?0:n.length;return r?(e&&typeof e!="number"&&mn(n,t,e)?(t=0,e=r):(t=t==null?0:B(t),e=e===o?r:B(e)),Mn(n,t,e)):[]}function Vc(n,t){return Ke(n,t)}function Gc(n,t,e){return si(n,t,b(e,2))}function Zc(n,t){var e=n==null?0:n.length;if(e){var r=Ke(n,t);if(r<e&&qn(n[r],t))return r}return-1}function qc(n,t){return Ke(n,t,!0)}function zc(n,t,e){return si(n,t,b(e,2),!0)}function Hc(n,t){var e=n==null?0:n.length;if(e){var r=Ke(n,t,!0)-1;if(qn(n[r],t))return r}return-1}function Kc(n){return n&&n.length?iu(n):[]}function Yc(n,t){return n&&n.length?iu(n,b(t,2)):[]}function kc(n){var t=n==null?0:n.length;return t?Mn(n,1,t):[]}function Xc(n,t,e){return n&&n.length?(t=e||t===o?1:B(t),Mn(n,0,t<0?0:t)):[]}function Jc(n,t,e){var r=n==null?0:n.length;return r?(t=e||t===o?1:B(t),t=r-t,Mn(n,t<0?0:t,r)):[]}function Qc(n,t){return n&&n.length?Ye(n,b(t,3),!1,!0):[]}function jc(n,t){return n&&n.length?Ye(n,b(t,3)):[]}var np=F(function(n){return _t(fn(n,1,nn,!0))}),tp=F(function(n){var t=Bn(n);return nn(t)&&(t=o),_t(fn(n,1,nn,!0),b(t,2))}),ep=F(function(n){var t=Bn(n);return t=typeof t=="function"?t:o,_t(fn(n,1,nn,!0),o,t)});function rp(n){return n&&n.length?_t(n):[]}function ip(n,t){return n&&n.length?_t(n,b(t,2)):[]}function op(n,t){return t=typeof t=="function"?t:o,n&&n.length?_t(n,o,t):[]}function Ti(n){if(!(n&&n.length))return[];var t=0;return n=ft(n,function(e){if(nn(e))return t=un(e.length,t),!0}),Gr(t,function(e){return J(n,Fr(e))})}function qu(n,t){if(!(n&&n.length))return[];var e=Ti(n);return t==null?e:J(e,function(r){return An(t,o,r)})}var up=F(function(n,t){return nn(n)?le(n,t):[]}),sp=F(function(n){return ai(ft(n,nn))}),lp=F(function(n){var t=Bn(n);return nn(t)&&(t=o),ai(ft(n,nn),b(t,2))}),ap=F(function(n){var t=Bn(n);return t=typeof t=="function"?t:o,ai(ft(n,nn),o,t)}),fp=F(Ti);function cp(n,t){return lu(n||[],t||[],se)}function pp(n,t){return lu(n||[],t||[],ce)}var dp=F(function(n){var t=n.length,e=t>1?n[t-1]:o;return e=typeof e=="function"?(n.pop(),e):o,qu(n,e)});function zu(n){var t=u(n);return t.__chain__=!0,t}function hp(n,t){return t(n),n}function rr(n,t){return t(n)}var _p=it(function(n){var t=n.length,e=t?n[0]:0,r=this.__wrapped__,i=function(s){return Xr(s,n)};return t>1||this.__actions__.length||!(r instanceof G)||!ot(e)?this.thru(i):(r=r.slice(e,+e+(t?1:0)),r.__actions__.push({func:rr,args:[i],thisArg:o}),new $n(r,this.__chain__).thru(function(s){return t&&!s.length&&s.push(o),s}))});function gp(){return zu(this)}function vp(){return new $n(this.value(),this.__chain__)}function mp(){this.__values__===o&&(this.__values__=os(this.value()));var n=this.__index__>=this.__values__.length,t=n?o:this.__values__[this.__index__++];return{done:n,value:t}}function xp(){return this}function yp(n){for(var t,e=this;e instanceof Ge;){var r=Uu(e);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;e=e.__wrapped__}return i.__wrapped__=n,t}function wp(){var n=this.__wrapped__;if(n instanceof G){var t=n;return this.__actions__.length&&(t=new G(this)),t=t.reverse(),t.__actions__.push({func:rr,args:[Ai],thisArg:o}),new $n(t,this.__chain__)}return this.thru(Ai)}function Ep(){return su(this.__wrapped__,this.__actions__)}var Ip=ke(function(n,t,e){K.call(n,e)?++n[e]:et(n,e,1)});function Ap(n,t,e){var r=M(n)?yo:hf;return e&&mn(n,t,e)&&(t=o),r(n,b(t,3))}function Tp(n,t){var e=M(n)?ft:qo;return e(n,b(t,3))}var Rp=mu(Fu),Lp=mu(Wu);function Dp(n,t){return fn(ir(n,t),1)}function Op(n,t){return fn(ir(n,t),wt)}function bp(n,t,e){return e=e===o?1:B(e),fn(ir(n,t),e)}function Hu(n,t){var e=M(n)?Sn:ht;return e(n,b(t,3))}function Ku(n,t){var e=M(n)?Yl:Zo;return e(n,b(t,3))}var Pp=ke(function(n,t,e){K.call(n,e)?n[e].push(t):et(n,e,[t])});function Sp(n,t,e,r){n=wn(n)?n:Ht(n),e=e&&!r?B(e):0;var i=n.length;return e<0&&(e=un(i+e,0)),ar(n)?e<=i&&n.indexOf(t,e)>-1:!!i&&$t(n,t,e)>-1}var Cp=F(function(n,t,e){var r=-1,i=typeof t=="function",s=wn(n)?h(n.length):[];return ht(n,function(l){s[++r]=i?An(t,l,e):ae(l,t,e)}),s}),$p=ke(function(n,t,e){et(n,e,t)});function ir(n,t){var e=M(n)?J:Xo;return e(n,b(t,3))}function Np(n,t,e,r){return n==null?[]:(M(t)||(t=t==null?[]:[t]),e=r?o:e,M(e)||(e=e==null?[]:[e]),nu(n,t,e))}var Mp=ke(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]});function Bp(n,t,e){var r=M(n)?Br:Ao,i=arguments.length<3;return r(n,b(t,4),e,i,ht)}function Up(n,t,e){var r=M(n)?kl:Ao,i=arguments.length<3;return r(n,b(t,4),e,i,Zo)}function Fp(n,t){var e=M(n)?ft:qo;return e(n,sr(b(t,3)))}function Wp(n){var t=M(n)?Fo:Sf;return t(n)}function Vp(n,t,e){(e?mn(n,t,e):t===o)?t=1:t=B(t);var r=M(n)?af:Cf;return r(n,t)}function Gp(n){var t=M(n)?ff:Nf;return t(n)}function Zp(n){if(n==null)return 0;if(wn(n))return ar(n)?Mt(n):n.length;var t=hn(n);return t==Wn||t==Vn?n.size:ei(n).length}function qp(n,t,e){var r=M(n)?Ur:Mf;return e&&mn(n,t,e)&&(t=o),r(n,b(t,3))}var zp=F(function(n,t){if(n==null)return[];var e=t.length;return e>1&&mn(n,t[0],t[1])?t=[]:e>2&&mn(t[0],t[1],t[2])&&(t=[t[0]]),nu(n,fn(t,1),[])}),or=Aa||function(){return an.Date.now()};function Hp(n,t){if(typeof t!="function")throw new Cn(E);return n=B(n),function(){if(--n<1)return t.apply(this,arguments)}}function Yu(n,t,e){return t=e?o:t,t=n&&t==null?n.length:t,rt(n,Qn,o,o,o,o,t)}function ku(n,t){var e;if(typeof t!="function")throw new Cn(E);return n=B(n),function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=o),e}}var Ri=F(function(n,t,e){var r=en;if(e.length){var i=pt(e,qt(Ri));r|=Fn}return rt(n,r,t,e,i)}),Xu=F(function(n,t,e){var r=en|_n;if(e.length){var i=pt(e,qt(Xu));r|=Fn}return rt(t,r,n,e,i)});function Ju(n,t,e){t=e?o:t;var r=rt(n,gn,o,o,o,o,o,t);return r.placeholder=Ju.placeholder,r}function Qu(n,t,e){t=e?o:t;var r=rt(n,Hn,o,o,o,o,o,t);return r.placeholder=Qu.placeholder,r}function ju(n,t,e){var r,i,s,l,f,d,g=0,v=!1,x=!1,I=!0;if(typeof n!="function")throw new Cn(E);t=Un(t)||0,Q(e)&&(v=!!e.leading,x="maxWait"in e,s=x?un(Un(e.maxWait)||0,t):s,I="trailing"in e?!!e.trailing:I);function D(tn){var zn=r,lt=i;return r=i=o,g=tn,l=n.apply(lt,zn),l}function P(tn){return g=tn,f=he(W,t),v?D(tn):l}function U(tn){var zn=tn-d,lt=tn-g,ms=t-zn;return x?dn(ms,s-lt):ms}function S(tn){var zn=tn-d,lt=tn-g;return d===o||zn>=t||zn<0||x&&lt>=s}function W(){var tn=or();if(S(tn))return Z(tn);f=he(W,U(tn))}function Z(tn){return f=o,I&&r?D(tn):(r=i=o,l)}function Dn(){f!==o&&au(f),g=0,r=d=i=f=o}function xn(){return f===o?l:Z(or())}function On(){var tn=or(),zn=S(tn);if(r=arguments,i=this,d=tn,zn){if(f===o)return P(d);if(x)return au(f),f=he(W,t),D(d)}return f===o&&(f=he(W,t)),l}return On.cancel=Dn,On.flush=xn,On}var Kp=F(function(n,t){return Go(n,1,t)}),Yp=F(function(n,t,e){return Go(n,Un(t)||0,e)});function kp(n){return rt(n,vr)}function ur(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new Cn(E);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=e.cache;if(s.has(i))return s.get(i);var l=n.apply(this,r);return e.cache=s.set(i,l)||s,l};return e.cache=new(ur.Cache||tt),e}ur.Cache=tt;function sr(n){if(typeof n!="function")throw new Cn(E);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Xp(n){return ku(2,n)}var Jp=Bf(function(n,t){t=t.length==1&&M(t[0])?J(t[0],Tn(b())):J(fn(t,1),Tn(b()));var e=t.length;return F(function(r){for(var i=-1,s=dn(r.length,e);++i<s;)r[i]=t[i].call(this,r[i]);return An(n,this,r)})}),Li=F(function(n,t){var e=pt(t,qt(Li));return rt(n,Fn,o,t,e)}),ns=F(function(n,t){var e=pt(t,qt(ns));return rt(n,Kn,o,t,e)}),Qp=it(function(n,t){return rt(n,Kt,o,o,o,t)});function jp(n,t){if(typeof n!="function")throw new Cn(E);return t=t===o?t:B(t),F(n,t)}function nd(n,t){if(typeof n!="function")throw new Cn(E);return t=t==null?0:un(B(t),0),F(function(e){var r=e[t],i=vt(e,0,t);return r&&ct(i,r),An(n,this,i)})}function td(n,t,e){var r=!0,i=!0;if(typeof n!="function")throw new Cn(E);return Q(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),ju(n,t,{leading:r,maxWait:t,trailing:i})}function ed(n){return Yu(n,1)}function rd(n,t){return Li(ci(t),n)}function id(){if(!arguments.length)return[];var n=arguments[0];return M(n)?n:[n]}function od(n){return Nn(n,$)}function ud(n,t){return t=typeof t=="function"?t:o,Nn(n,$,t)}function sd(n){return Nn(n,V|$)}function ld(n,t){return t=typeof t=="function"?t:o,Nn(n,V|$,t)}function ad(n,t){return t==null||Vo(n,t,sn(t))}function qn(n,t){return n===t||n!==n&&t!==t}var fd=je(jr),cd=je(function(n,t){return n>=t}),bt=Ko(function(){return arguments}())?Ko:function(n){return j(n)&&K.call(n,"callee")&&!Co.call(n,"callee")},M=h.isArray,pd=ho?Tn(ho):yf;function wn(n){return n!=null&&lr(n.length)&&!ut(n)}function nn(n){return j(n)&&wn(n)}function dd(n){return n===!0||n===!1||j(n)&&vn(n)==Yt}var mt=Ra||Ui,hd=_o?Tn(_o):wf;function _d(n){return j(n)&&n.nodeType===1&&!_e(n)}function gd(n){if(n==null)return!0;if(wn(n)&&(M(n)||typeof n=="string"||typeof n.splice=="function"||mt(n)||zt(n)||bt(n)))return!n.length;var t=hn(n);if(t==Wn||t==Vn)return!n.size;if(de(n))return!ei(n).length;for(var e in n)if(K.call(n,e))return!1;return!0}function vd(n,t){return fe(n,t)}function md(n,t,e){e=typeof e=="function"?e:o;var r=e?e(n,t):o;return r===o?fe(n,t,o,e):!!r}function Di(n){if(!j(n))return!1;var t=vn(n);return t==ye||t==Ws||typeof n.message=="string"&&typeof n.name=="string"&&!_e(n)}function xd(n){return typeof n=="number"&&No(n)}function ut(n){if(!Q(n))return!1;var t=vn(n);return t==we||t==Vi||t==Fs||t==Gs}function ts(n){return typeof n=="number"&&n==B(n)}function lr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=at}function Q(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function j(n){return n!=null&&typeof n=="object"}var es=go?Tn(go):If;function yd(n,t){return n===t||ti(n,t,mi(t))}function wd(n,t,e){return e=typeof e=="function"?e:o,ti(n,t,mi(t),e)}function Ed(n){return rs(n)&&n!=+n}function Id(n){if(uc(n))throw new N(T);return Yo(n)}function Ad(n){return n===null}function Td(n){return n==null}function rs(n){return typeof n=="number"||j(n)&&vn(n)==Xt}function _e(n){if(!j(n)||vn(n)!=jn)return!1;var t=Ne(n);if(t===null)return!0;var e=K.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Pe.call(e)==ya}var Oi=vo?Tn(vo):Af;function Rd(n){return ts(n)&&n>=-at&&n<=at}var is=mo?Tn(mo):Tf;function ar(n){return typeof n=="string"||!M(n)&&j(n)&&vn(n)==Qt}function Ln(n){return typeof n=="symbol"||j(n)&&vn(n)==Ee}var zt=xo?Tn(xo):Rf;function Ld(n){return n===o}function Dd(n){return j(n)&&hn(n)==jt}function Od(n){return j(n)&&vn(n)==qs}var bd=je(ri),Pd=je(function(n,t){return n<=t});function os(n){if(!n)return[];if(wn(n))return ar(n)?Gn(n):yn(n);if(ee&&n[ee])return la(n[ee]());var t=hn(n),e=t==Wn?qr:t==Vn?De:Ht;return e(n)}function st(n){if(!n)return n===0?n:0;if(n=Un(n),n===wt||n===-wt){var t=n<0?-1:1;return t*Ns}return n===n?n:0}function B(n){var t=st(n),e=t%1;return t===t?e?t-e:t:0}function us(n){return n?Rt(B(n),0,Yn):0}function Un(n){if(typeof n=="number")return n;if(Ln(n))return me;if(Q(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=Q(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=To(n);var e=cl.test(n);return e||dl.test(n)?zl(n.slice(2),e?2:8):fl.test(n)?me:+n}function ss(n){return Xn(n,En(n))}function Sd(n){return n?Rt(B(n),-at,at):n===0?n:0}function z(n){return n==null?"":Rn(n)}var Cd=Gt(function(n,t){if(de(t)||wn(t)){Xn(t,sn(t),n);return}for(var e in t)K.call(t,e)&&se(n,e,t[e])}),ls=Gt(function(n,t){Xn(t,En(t),n)}),fr=Gt(function(n,t,e,r){Xn(t,En(t),n,r)}),$d=Gt(function(n,t,e,r){Xn(t,sn(t),n,r)}),Nd=it(Xr);function Md(n,t){var e=Vt(n);return t==null?e:Wo(e,t)}var Bd=F(function(n,t){n=Y(n);var e=-1,r=t.length,i=r>2?t[2]:o;for(i&&mn(t[0],t[1],i)&&(r=1);++e<r;)for(var s=t[e],l=En(s),f=-1,d=l.length;++f<d;){var g=l[f],v=n[g];(v===o||qn(v,Ut[g])&&!K.call(n,g))&&(n[g]=s[g])}return n}),Ud=F(function(n){return n.push(o,Tu),An(as,o,n)});function Fd(n,t){return wo(n,b(t,3),kn)}function Wd(n,t){return wo(n,b(t,3),Qr)}function Vd(n,t){return n==null?n:Jr(n,b(t,3),En)}function Gd(n,t){return n==null?n:zo(n,b(t,3),En)}function Zd(n,t){return n&&kn(n,b(t,3))}function qd(n,t){return n&&Qr(n,b(t,3))}function zd(n){return n==null?[]:ze(n,sn(n))}function Hd(n){return n==null?[]:ze(n,En(n))}function bi(n,t,e){var r=n==null?o:Lt(n,t);return r===o?e:r}function Kd(n,t){return n!=null&&Du(n,t,gf)}function Pi(n,t){return n!=null&&Du(n,t,vf)}var Yd=yu(function(n,t,e){t!=null&&typeof t.toString!="function"&&(t=Se.call(t)),n[t]=e},Ci(In)),kd=yu(function(n,t,e){t!=null&&typeof t.toString!="function"&&(t=Se.call(t)),K.call(n,t)?n[t].push(e):n[t]=[e]},b),Xd=F(ae);function sn(n){return wn(n)?Uo(n):ei(n)}function En(n){return wn(n)?Uo(n,!0):Lf(n)}function Jd(n,t){var e={};return t=b(t,3),kn(n,function(r,i,s){et(e,t(r,i,s),r)}),e}function Qd(n,t){var e={};return t=b(t,3),kn(n,function(r,i,s){et(e,i,t(r,i,s))}),e}var jd=Gt(function(n,t,e){He(n,t,e)}),as=Gt(function(n,t,e,r){He(n,t,e,r)}),nh=it(function(n,t){var e={};if(n==null)return e;var r=!1;t=J(t,function(s){return s=gt(s,n),r||(r=s.length>1),s}),Xn(n,gi(n),e),r&&(e=Nn(e,V|ln|$,Yf));for(var i=t.length;i--;)li(e,t[i]);return e});function th(n,t){return fs(n,sr(b(t)))}var eh=it(function(n,t){return n==null?{}:Of(n,t)});function fs(n,t){if(n==null)return{};var e=J(gi(n),function(r){return[r]});return t=b(t),tu(n,e,function(r,i){return t(r,i[0])})}function rh(n,t,e){t=gt(t,n);var r=-1,i=t.length;for(i||(i=1,n=o);++r<i;){var s=n==null?o:n[Jn(t[r])];s===o&&(r=i,s=e),n=ut(s)?s.call(n):s}return n}function ih(n,t,e){return n==null?n:ce(n,t,e)}function oh(n,t,e,r){return r=typeof r=="function"?r:o,n==null?n:ce(n,t,e,r)}var cs=Iu(sn),ps=Iu(En);function uh(n,t,e){var r=M(n),i=r||mt(n)||zt(n);if(t=b(t,4),e==null){var s=n&&n.constructor;i?e=r?new s:[]:Q(n)?e=ut(s)?Vt(Ne(n)):{}:e={}}return(i?Sn:kn)(n,function(l,f,d){return t(e,l,f,d)}),e}function sh(n,t){return n==null?!0:li(n,t)}function lh(n,t,e){return n==null?n:uu(n,t,ci(e))}function ah(n,t,e,r){return r=typeof r=="function"?r:o,n==null?n:uu(n,t,ci(e),r)}function Ht(n){return n==null?[]:Zr(n,sn(n))}function fh(n){return n==null?[]:Zr(n,En(n))}function ch(n,t,e){return e===o&&(e=t,t=o),e!==o&&(e=Un(e),e=e===e?e:0),t!==o&&(t=Un(t),t=t===t?t:0),Rt(Un(n),t,e)}function ph(n,t,e){return t=st(t),e===o?(e=t,t=0):e=st(e),n=Un(n),mf(n,t,e)}function dh(n,t,e){if(e&&typeof e!="boolean"&&mn(n,t,e)&&(t=e=o),e===o&&(typeof t=="boolean"?(e=t,t=o):typeof n=="boolean"&&(e=n,n=o)),n===o&&t===o?(n=0,t=1):(n=st(n),t===o?(t=n,n=0):t=st(t)),n>t){var r=n;n=t,t=r}if(e||n%1||t%1){var i=Mo();return dn(n+i*(t-n+ql("1e-"+((i+"").length-1))),t)}return oi(n,t)}var hh=Zt(function(n,t,e){return t=t.toLowerCase(),n+(e?ds(t):t)});function ds(n){return Si(z(n).toLowerCase())}function hs(n){return n=z(n),n&&n.replace(_l,ra).replace($l,"")}function _h(n,t,e){n=z(n),t=Rn(t);var r=n.length;e=e===o?r:Rt(B(e),0,r);var i=e;return e-=t.length,e>=0&&n.slice(e,i)==t}function gh(n){return n=z(n),n&&ks.test(n)?n.replace(qi,ia):n}function vh(n){return n=z(n),n&&tl.test(n)?n.replace(Lr,"\\$&"):n}var mh=Zt(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()}),xh=Zt(function(n,t,e){return n+(e?" ":"")+t.toLowerCase()}),yh=vu("toLowerCase");function wh(n,t,e){n=z(n),t=B(t);var r=t?Mt(n):0;if(!t||r>=t)return n;var i=(t-r)/2;return Qe(Fe(i),e)+n+Qe(Ue(i),e)}function Eh(n,t,e){n=z(n),t=B(t);var r=t?Mt(n):0;return t&&r<t?n+Qe(t-r,e):n}function Ih(n,t,e){n=z(n),t=B(t);var r=t?Mt(n):0;return t&&r<t?Qe(t-r,e)+n:n}function Ah(n,t,e){return e||t==null?t=0:t&&(t=+t),ba(z(n).replace(Dr,""),t||0)}function Th(n,t,e){return(e?mn(n,t,e):t===o)?t=1:t=B(t),ui(z(n),t)}function Rh(){var n=arguments,t=z(n[0]);return n.length<3?t:t.replace(n[1],n[2])}var Lh=Zt(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()});function Dh(n,t,e){return e&&typeof e!="number"&&mn(n,t,e)&&(t=e=o),e=e===o?Yn:e>>>0,e?(n=z(n),n&&(typeof t=="string"||t!=null&&!Oi(t))&&(t=Rn(t),!t&&Nt(n))?vt(Gn(n),0,e):n.split(t,e)):[]}var Oh=Zt(function(n,t,e){return n+(e?" ":"")+Si(t)});function bh(n,t,e){return n=z(n),e=e==null?0:Rt(B(e),0,n.length),t=Rn(t),n.slice(e,e+t.length)==t}function Ph(n,t,e){var r=u.templateSettings;e&&mn(n,t,e)&&(t=o),n=z(n),t=fr({},t,r,Au);var i=fr({},t.imports,r.imports,Au),s=sn(i),l=Zr(i,s),f,d,g=0,v=t.interpolate||Ie,x="__p += '",I=zr((t.escape||Ie).source+"|"+v.source+"|"+(v===zi?al:Ie).source+"|"+(t.evaluate||Ie).source+"|$","g"),D="//# sourceURL="+(K.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fl+"]")+`
`;n.replace(I,function(S,W,Z,Dn,xn,On){return Z||(Z=Dn),x+=n.slice(g,On).replace(gl,oa),W&&(f=!0,x+=`' +
__e(`+W+`) +
'`),xn&&(d=!0,x+=`';
`+xn+`;
__p += '`),Z&&(x+=`' +
((__t = (`+Z+`)) == null ? '' : __t) +
'`),g=On+S.length,S}),x+=`';
`;var P=K.call(t,"variable")&&t.variable;if(!P)x=`with (obj) {
`+x+`
}
`;else if(sl.test(P))throw new N(L);x=(d?x.replace(zs,""):x).replace(Hs,"$1").replace(Ks,"$1;"),x="function("+(P||"obj")+`) {
`+(P?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var U=gs(function(){return q(s,D+"return "+x).apply(o,l)});if(U.source=x,Di(U))throw U;return U}function Sh(n){return z(n).toLowerCase()}function Ch(n){return z(n).toUpperCase()}function $h(n,t,e){if(n=z(n),n&&(e||t===o))return To(n);if(!n||!(t=Rn(t)))return n;var r=Gn(n),i=Gn(t),s=Ro(r,i),l=Lo(r,i)+1;return vt(r,s,l).join("")}function Nh(n,t,e){if(n=z(n),n&&(e||t===o))return n.slice(0,Oo(n)+1);if(!n||!(t=Rn(t)))return n;var r=Gn(n),i=Lo(r,Gn(t))+1;return vt(r,0,i).join("")}function Mh(n,t,e){if(n=z(n),n&&(e||t===o))return n.replace(Dr,"");if(!n||!(t=Rn(t)))return n;var r=Gn(n),i=Ro(r,Gn(t));return vt(r,i).join("")}function Bh(n,t){var e=Os,r=bs;if(Q(t)){var i="separator"in t?t.separator:i;e="length"in t?B(t.length):e,r="omission"in t?Rn(t.omission):r}n=z(n);var s=n.length;if(Nt(n)){var l=Gn(n);s=l.length}if(e>=s)return n;var f=e-Mt(r);if(f<1)return r;var d=l?vt(l,0,f).join(""):n.slice(0,f);if(i===o)return d+r;if(l&&(f+=d.length-f),Oi(i)){if(n.slice(f).search(i)){var g,v=d;for(i.global||(i=zr(i.source,z(Hi.exec(i))+"g")),i.lastIndex=0;g=i.exec(v);)var x=g.index;d=d.slice(0,x===o?f:x)}}else if(n.indexOf(Rn(i),f)!=f){var I=d.lastIndexOf(i);I>-1&&(d=d.slice(0,I))}return d+r}function Uh(n){return n=z(n),n&&Ys.test(n)?n.replace(Zi,pa):n}var Fh=Zt(function(n,t,e){return n+(e?" ":"")+t.toUpperCase()}),Si=vu("toUpperCase");function _s(n,t,e){return n=z(n),t=e?o:t,t===o?sa(n)?_a(n):Ql(n):n.match(t)||[]}var gs=F(function(n,t){try{return An(n,o,t)}catch(e){return Di(e)?e:new N(e)}}),Wh=it(function(n,t){return Sn(t,function(e){e=Jn(e),et(n,e,Ri(n[e],n))}),n});function Vh(n){var t=n==null?0:n.length,e=b();return n=t?J(n,function(r){if(typeof r[1]!="function")throw new Cn(E);return[e(r[0]),r[1]]}):[],F(function(r){for(var i=-1;++i<t;){var s=n[i];if(An(s[0],this,r))return An(s[1],this,r)}})}function Gh(n){return df(Nn(n,V))}function Ci(n){return function(){return n}}function Zh(n,t){return n==null||n!==n?t:n}var qh=xu(),zh=xu(!0);function In(n){return n}function $i(n){return ko(typeof n=="function"?n:Nn(n,V))}function Hh(n){return Jo(Nn(n,V))}function Kh(n,t){return Qo(n,Nn(t,V))}var Yh=F(function(n,t){return function(e){return ae(e,n,t)}}),kh=F(function(n,t){return function(e){return ae(n,e,t)}});function Ni(n,t,e){var r=sn(t),i=ze(t,r);e==null&&!(Q(t)&&(i.length||!r.length))&&(e=t,t=n,n=this,i=ze(t,sn(t)));var s=!(Q(e)&&"chain"in e)||!!e.chain,l=ut(n);return Sn(i,function(f){var d=t[f];n[f]=d,l&&(n.prototype[f]=function(){var g=this.__chain__;if(s||g){var v=n(this.__wrapped__),x=v.__actions__=yn(this.__actions__);return x.push({func:d,args:arguments,thisArg:n}),v.__chain__=g,v}return d.apply(n,ct([this.value()],arguments))})}),n}function Xh(){return an._===this&&(an._=wa),this}function Mi(){}function Jh(n){return n=B(n),F(function(t){return jo(t,n)})}var Qh=di(J),jh=di(yo),n_=di(Ur);function vs(n){return yi(n)?Fr(Jn(n)):bf(n)}function t_(n){return function(t){return n==null?o:Lt(n,t)}}var e_=wu(),r_=wu(!0);function Bi(){return[]}function Ui(){return!1}function i_(){return{}}function o_(){return""}function u_(){return!0}function s_(n,t){if(n=B(n),n<1||n>at)return[];var e=Yn,r=dn(n,Yn);t=b(t),n-=Yn;for(var i=Gr(r,t);++e<n;)t(e);return i}function l_(n){return M(n)?J(n,Jn):Ln(n)?[n]:yn(Bu(z(n)))}function a_(n){var t=++xa;return z(n)+t}var f_=Je(function(n,t){return n+t},0),c_=hi("ceil"),p_=Je(function(n,t){return n/t},1),d_=hi("floor");function h_(n){return n&&n.length?qe(n,In,jr):o}function __(n,t){return n&&n.length?qe(n,b(t,2),jr):o}function g_(n){return Io(n,In)}function v_(n,t){return Io(n,b(t,2))}function m_(n){return n&&n.length?qe(n,In,ri):o}function x_(n,t){return n&&n.length?qe(n,b(t,2),ri):o}var y_=Je(function(n,t){return n*t},1),w_=hi("round"),E_=Je(function(n,t){return n-t},0);function I_(n){return n&&n.length?Vr(n,In):0}function A_(n,t){return n&&n.length?Vr(n,b(t,2)):0}return u.after=Hp,u.ary=Yu,u.assign=Cd,u.assignIn=ls,u.assignInWith=fr,u.assignWith=$d,u.at=Nd,u.before=ku,u.bind=Ri,u.bindAll=Wh,u.bindKey=Xu,u.castArray=id,u.chain=zu,u.chunk=dc,u.compact=hc,u.concat=_c,u.cond=Vh,u.conforms=Gh,u.constant=Ci,u.countBy=Ip,u.create=Md,u.curry=Ju,u.curryRight=Qu,u.debounce=ju,u.defaults=Bd,u.defaultsDeep=Ud,u.defer=Kp,u.delay=Yp,u.difference=gc,u.differenceBy=vc,u.differenceWith=mc,u.drop=xc,u.dropRight=yc,u.dropRightWhile=wc,u.dropWhile=Ec,u.fill=Ic,u.filter=Tp,u.flatMap=Dp,u.flatMapDeep=Op,u.flatMapDepth=bp,u.flatten=Vu,u.flattenDeep=Ac,u.flattenDepth=Tc,u.flip=kp,u.flow=qh,u.flowRight=zh,u.fromPairs=Rc,u.functions=zd,u.functionsIn=Hd,u.groupBy=Pp,u.initial=Dc,u.intersection=Oc,u.intersectionBy=bc,u.intersectionWith=Pc,u.invert=Yd,u.invertBy=kd,u.invokeMap=Cp,u.iteratee=$i,u.keyBy=$p,u.keys=sn,u.keysIn=En,u.map=ir,u.mapKeys=Jd,u.mapValues=Qd,u.matches=Hh,u.matchesProperty=Kh,u.memoize=ur,u.merge=jd,u.mergeWith=as,u.method=Yh,u.methodOf=kh,u.mixin=Ni,u.negate=sr,u.nthArg=Jh,u.omit=nh,u.omitBy=th,u.once=Xp,u.orderBy=Np,u.over=Qh,u.overArgs=Jp,u.overEvery=jh,u.overSome=n_,u.partial=Li,u.partialRight=ns,u.partition=Mp,u.pick=eh,u.pickBy=fs,u.property=vs,u.propertyOf=t_,u.pull=Nc,u.pullAll=Zu,u.pullAllBy=Mc,u.pullAllWith=Bc,u.pullAt=Uc,u.range=e_,u.rangeRight=r_,u.rearg=Qp,u.reject=Fp,u.remove=Fc,u.rest=jp,u.reverse=Ai,u.sampleSize=Vp,u.set=ih,u.setWith=oh,u.shuffle=Gp,u.slice=Wc,u.sortBy=zp,u.sortedUniq=Kc,u.sortedUniqBy=Yc,u.split=Dh,u.spread=nd,u.tail=kc,u.take=Xc,u.takeRight=Jc,u.takeRightWhile=Qc,u.takeWhile=jc,u.tap=hp,u.throttle=td,u.thru=rr,u.toArray=os,u.toPairs=cs,u.toPairsIn=ps,u.toPath=l_,u.toPlainObject=ss,u.transform=uh,u.unary=ed,u.union=np,u.unionBy=tp,u.unionWith=ep,u.uniq=rp,u.uniqBy=ip,u.uniqWith=op,u.unset=sh,u.unzip=Ti,u.unzipWith=qu,u.update=lh,u.updateWith=ah,u.values=Ht,u.valuesIn=fh,u.without=up,u.words=_s,u.wrap=rd,u.xor=sp,u.xorBy=lp,u.xorWith=ap,u.zip=fp,u.zipObject=cp,u.zipObjectDeep=pp,u.zipWith=dp,u.entries=cs,u.entriesIn=ps,u.extend=ls,u.extendWith=fr,Ni(u,u),u.add=f_,u.attempt=gs,u.camelCase=hh,u.capitalize=ds,u.ceil=c_,u.clamp=ch,u.clone=od,u.cloneDeep=sd,u.cloneDeepWith=ld,u.cloneWith=ud,u.conformsTo=ad,u.deburr=hs,u.defaultTo=Zh,u.divide=p_,u.endsWith=_h,u.eq=qn,u.escape=gh,u.escapeRegExp=vh,u.every=Ap,u.find=Rp,u.findIndex=Fu,u.findKey=Fd,u.findLast=Lp,u.findLastIndex=Wu,u.findLastKey=Wd,u.floor=d_,u.forEach=Hu,u.forEachRight=Ku,u.forIn=Vd,u.forInRight=Gd,u.forOwn=Zd,u.forOwnRight=qd,u.get=bi,u.gt=fd,u.gte=cd,u.has=Kd,u.hasIn=Pi,u.head=Gu,u.identity=In,u.includes=Sp,u.indexOf=Lc,u.inRange=ph,u.invoke=Xd,u.isArguments=bt,u.isArray=M,u.isArrayBuffer=pd,u.isArrayLike=wn,u.isArrayLikeObject=nn,u.isBoolean=dd,u.isBuffer=mt,u.isDate=hd,u.isElement=_d,u.isEmpty=gd,u.isEqual=vd,u.isEqualWith=md,u.isError=Di,u.isFinite=xd,u.isFunction=ut,u.isInteger=ts,u.isLength=lr,u.isMap=es,u.isMatch=yd,u.isMatchWith=wd,u.isNaN=Ed,u.isNative=Id,u.isNil=Td,u.isNull=Ad,u.isNumber=rs,u.isObject=Q,u.isObjectLike=j,u.isPlainObject=_e,u.isRegExp=Oi,u.isSafeInteger=Rd,u.isSet=is,u.isString=ar,u.isSymbol=Ln,u.isTypedArray=zt,u.isUndefined=Ld,u.isWeakMap=Dd,u.isWeakSet=Od,u.join=Sc,u.kebabCase=mh,u.last=Bn,u.lastIndexOf=Cc,u.lowerCase=xh,u.lowerFirst=yh,u.lt=bd,u.lte=Pd,u.max=h_,u.maxBy=__,u.mean=g_,u.meanBy=v_,u.min=m_,u.minBy=x_,u.stubArray=Bi,u.stubFalse=Ui,u.stubObject=i_,u.stubString=o_,u.stubTrue=u_,u.multiply=y_,u.nth=$c,u.noConflict=Xh,u.noop=Mi,u.now=or,u.pad=wh,u.padEnd=Eh,u.padStart=Ih,u.parseInt=Ah,u.random=dh,u.reduce=Bp,u.reduceRight=Up,u.repeat=Th,u.replace=Rh,u.result=rh,u.round=w_,u.runInContext=c,u.sample=Wp,u.size=Zp,u.snakeCase=Lh,u.some=qp,u.sortedIndex=Vc,u.sortedIndexBy=Gc,u.sortedIndexOf=Zc,u.sortedLastIndex=qc,u.sortedLastIndexBy=zc,u.sortedLastIndexOf=Hc,u.startCase=Oh,u.startsWith=bh,u.subtract=E_,u.sum=I_,u.sumBy=A_,u.template=Ph,u.times=s_,u.toFinite=st,u.toInteger=B,u.toLength=us,u.toLower=Sh,u.toNumber=Un,u.toSafeInteger=Sd,u.toString=z,u.toUpper=Ch,u.trim=$h,u.trimEnd=Nh,u.trimStart=Mh,u.truncate=Bh,u.unescape=Uh,u.uniqueId=a_,u.upperCase=Fh,u.upperFirst=Si,u.each=Hu,u.eachRight=Ku,u.first=Gu,Ni(u,function(){var n={};return kn(u,function(t,e){K.call(u.prototype,e)||(n[e]=t)}),n}(),{chain:!1}),u.VERSION=m,Sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),Sn(["drop","take"],function(n,t){G.prototype[n]=function(e){e=e===o?1:un(B(e),0);var r=this.__filtered__&&!t?new G(this):this.clone();return r.__filtered__?r.__takeCount__=dn(e,r.__takeCount__):r.__views__.push({size:dn(e,Yn),type:n+(r.__dir__<0?"Right":"")}),r},G.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Sn(["filter","map","takeWhile"],function(n,t){var e=t+1,r=e==Wi||e==$s;G.prototype[n]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:b(i,3),type:e}),s.__filtered__=s.__filtered__||r,s}}),Sn(["head","last"],function(n,t){var e="take"+(t?"Right":"");G.prototype[n]=function(){return this[e](1).value()[0]}}),Sn(["initial","tail"],function(n,t){var e="drop"+(t?"":"Right");G.prototype[n]=function(){return this.__filtered__?new G(this):this[e](1)}}),G.prototype.compact=function(){return this.filter(In)},G.prototype.find=function(n){return this.filter(n).head()},G.prototype.findLast=function(n){return this.reverse().find(n)},G.prototype.invokeMap=F(function(n,t){return typeof n=="function"?new G(this):this.map(function(e){return ae(e,n,t)})}),G.prototype.reject=function(n){return this.filter(sr(b(n)))},G.prototype.slice=function(n,t){n=B(n);var e=this;return e.__filtered__&&(n>0||t<0)?new G(e):(n<0?e=e.takeRight(-n):n&&(e=e.drop(n)),t!==o&&(t=B(t),e=t<0?e.dropRight(-t):e.take(t-n)),e)},G.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},G.prototype.toArray=function(){return this.take(Yn)},kn(G.prototype,function(n,t){var e=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=u[r?"take"+(t=="last"?"Right":""):t],s=r||/^find/.test(t);i&&(u.prototype[t]=function(){var l=this.__wrapped__,f=r?[1]:arguments,d=l instanceof G,g=f[0],v=d||M(l),x=function(W){var Z=i.apply(u,ct([W],f));return r&&I?Z[0]:Z};v&&e&&typeof g=="function"&&g.length!=1&&(d=v=!1);var I=this.__chain__,D=!!this.__actions__.length,P=s&&!I,U=d&&!D;if(!s&&v){l=U?l:new G(this);var S=n.apply(l,f);return S.__actions__.push({func:rr,args:[x],thisArg:o}),new $n(S,I)}return P&&U?n.apply(this,f):(S=this.thru(x),P?r?S.value()[0]:S.value():S)})}),Sn(["pop","push","shift","sort","splice","unshift"],function(n){var t=Oe[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(M(s)?s:[],i)}return this[e](function(l){return t.apply(M(l)?l:[],i)})}}),kn(G.prototype,function(n,t){var e=u[t];if(e){var r=e.name+"";K.call(Wt,r)||(Wt[r]=[]),Wt[r].push({name:t,func:e})}}),Wt[Xe(o,_n).name]=[{name:"wrapper",func:o}],G.prototype.clone=Ba,G.prototype.reverse=Ua,G.prototype.value=Fa,u.prototype.at=_p,u.prototype.chain=gp,u.prototype.commit=vp,u.prototype.next=mp,u.prototype.plant=yp,u.prototype.reverse=wp,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Ep,u.prototype.first=u.prototype.head,ee&&(u.prototype[ee]=xp),u},Bt=ga();Et?((Et.exports=Bt)._=Bt,$r._=Bt):an._=Bt}).call(ge)})(L_,hr);const pr=hr;let cr;const D_=new Uint8Array(16);function O_(){if(!cr&&(cr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cr(D_)}const cn=[];for(let p=0;p<256;++p)cn.push((p+256).toString(16).slice(1));function b_(p,a=0){return(cn[p[a+0]]+cn[p[a+1]]+cn[p[a+2]]+cn[p[a+3]]+"-"+cn[p[a+4]]+cn[p[a+5]]+"-"+cn[p[a+6]]+cn[p[a+7]]+"-"+cn[p[a+8]]+cn[p[a+9]]+"-"+cn[p[a+10]]+cn[p[a+11]]+cn[p[a+12]]+cn[p[a+13]]+cn[p[a+14]]+cn[p[a+15]]).toLowerCase()}const P_=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ys={randomUUID:P_};function S_(p,a,o){if(ys.randomUUID&&!a&&!p)return ys.randomUUID();p=p||{};const m=p.random||(p.rng||O_)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,a){o=o||0;for(let w=0;w<16;++w)a[o+w]=m[w];return a}return b_(m)}const C_={"--pink":"#ff79c6","--red":"#ff5555","--orange":"#ffad55","--yellow":"#f1fa8c","--green":"#50fa7b","--cyan":"#8be9fd","--blue":"#4395d4","--purple":"#9674c8","--gray":"#848484","--black":"#282a36","--black-accent":"#353745","--inactive":"#b4b4b4","--text-light":"#f8f8f2","--text-dark":"#282a36","--pipe":"#b7b7b7","--background":"#44475a","--toolbar":"#282a36","--tool-background":"#f8f8f2","--tool-background-accent":"#d5d5d5","--background-dots":"#d6cce0","--port":"#b7b7b7","--port-hover":"#e7e7e7"},Is=p=>p.composedPath()[0],$_=(p,a)=>Is(p).matches(a),xt=p=>(a,o,m)=>{p.addEventListener(a,w=>{w.trigger=Is(w),(o===""||$_(w,o))&&m(w)})},N_=(p,a,o,m)=>`${p}_${a}_${o}_${m}`;function As(p){let a=document.createRange();a.selectNodeContents(p);let o=window.getSelection();o.removeAllRanges(),o.addRange(a)}function _r(p){p.code==="Enter"&&(p.preventDefault(),p.target.blur())}function M_(p,a,o){p.textContent.length>a&&o.preventDefault()}function B_(p,a){const o=xt(p);let m=!1,w=1,T=0,E=0,L={x:0,y:0};function C($){$.style.transformOrigin=`${0}px ${0}px`,$.style.transform="translate("+T+"px, "+E+"px) scale("+w+")"}function y(){const $=document.querySelectorAll(".transform-group");for(const rn of $)C(rn)}function O({x:$,y:rn}){let pn=($-T)/w,en=(rn-E)/w;return{x:pn,y:en}}o("pointerdown","",$=>{$.shiftKey||$.button===2||(m=!0,L={x:$.offsetX-T,y:$.offsetY-E},$.detail)}),o("pointermove","",$=>{m&&(a.transforming||(T=$.offsetX-L.x,E=$.offsetY-L.y,y()))}),o("pointerup","",$=>{m=!1}),o("wheel","",$=>{let rn=($.offsetX-T)/w,pn=($.offsetY-E)/w;Math.sign($.deltaY)<0?w*=1.03:w/=1.03,T=$.offsetX-rn*w,E=$.offsetY-pn*w,Object.keys(a.toolchain.tools).forEach(en=>{let _n=a.toolchain.tools[en];"onZoom"in _n.lifecycle&&_n.lifecycle.onZoom(w)}),y(),$.preventDefault()});function V($){w=$.scale,T=$.x,E=$.y,y()}function ln($){const rn=p.getBoundingClientRect(),pn=$.x[1]-$.x[0],en=$.y[1]-$.y[0],_n=rn.width/pn,yt=rn.height/en,gn=Math.min(_n,yt)*.9;w=gn;const Hn={x:($.x[0]+$.x[1])/2*gn-rn.width/2,y:($.y[0]+$.y[1])/2*gn-rn.height/2};T=-Hn.x,E=-Hn.y,updatePanZoom()}return{scale:()=>w,x:()=>T,y:()=>E,setScaleXY:ln,toWorkspaceCoords:O,setPanZoom:V}}function U_(p){function a(o){p.mouse=p.panZoom.toWorkspaceCoords({x:o.clientX,y:o.clientY})}window.addEventListener("pointermove",a),window.addEventListener("dragover",a),window.addEventListener("keydown",o=>{p.keysPressed.includes(o.key)||p.keysPressed.push(o.key),o.key==="Escape"&&(delete p.toolchain.pipes.loose,p.selection.clear())}),window.addEventListener("keyup",o=>{p.keysPressed.splice(p.keysPressed.indexOf(o.key),1)})}function F_(p,a){const o=xt(p);function m(E){let L=w(E).dataset.toolid;return[L,a.toolchain.tools[L]]}function w(E){return E.target.closest(".tool")}function T(E){return Object.entries(a.toolchain.pipes).filter(([C,y])=>y.start.toolID==E||y.end.toolID==E)}o("pointerdown",".edit-toolname",E=>{let[L,C]=m(E),y=document.querySelector(`[data-toolid="${L}"] .tool-displayname`);function O(V){a.toolchain.tools[L].ui.displayName=y.textContent,y.contentEditable=!1,y.removeEventListener("keypress",_r),y.removeEventListener("focusout",O)}y.contentEditable=!0,y.addEventListener("focusout",O),y.addEventListener("keypress",_r),setTimeout(function(){As(y),y.focus()},0)}),o("pointerdown",".remove",E=>{let[L,C]=m(E);T(L).forEach(([O,V])=>{if(V.end.toolID!=L){let $=a.toolchain.tools[V.end.toolID].inports[V.end.portID];$.value=null}delete a.toolchain.pipes[O]}),delete a.toolchain.tools[L]}),o("pointerdown",".collapse",E=>{let[L,C]=m(E);C.ui.mini=!C.ui.mini,console.log(C)}),o("pointerdown",".resize-handle",E=>{let[L,C]=m(E);a.resizing=!0,a.selection.add(L)}),o("pointerdown",".drag-tool",E=>{let[L,C]=m(E);E.shiftKey&&a.selection.add(L),!E.shiftKey&&!a.selection.has(L)&&a.selection.clear(),a.selection.add(L),a.transforming=!0}),o("pointermove","",E=>{let L=E.movementX/a.panZoom.scale(),C=E.movementY/a.panZoom.scale();a.transforming?a.selection.forEach(y=>{a.toolchain.tools[y].pos.x+=L,a.toolchain.tools[y].pos.y+=C}):a.resizing&&a.selection.forEach(y=>{let O=a.toolchain.tools[y];O.ui.width+=L,O.ui.height+=C,"onResize"in O.lifecycle&&O.lifecycle.onResize()})}),o("pointerup","",E=>{(a.transforming||a.resizing)&&a.selection.size==1&&(E.shiftKey||a.selection.clear()),a.transforming=!1,a.resizing=!1})}function W_(p,a){const o=xt(p);function m(C){let y=w(C).dataset.toolid;return[y,a.toolchain.tools[y]]}function w(C){return C.target.closest(".tool")}function T(C,y){if(C.toolID==y.toolID){console.log("Can't connect a tool to itself!");return}let O=N_(C.toolID,C.portID,y.toolID,y.portID),V=a.toolchain.tools[C.toolID],ln=a.toolchain.tools[y.toolID];a.toolchain.pipes[O]={start:C,end:y},ln.inports[y.portID].value=V.outports[C.portID].value,"inportsUpdated"in ln.lifecycle&&ln.lifecycle.inportsUpdated()}function E(C){const[y,O]=m(C),V=C.target.dataset.portid;if("loose"in a.toolchain.pipes){let ln=a.toolchain.pipes.loose.start;if(!ln){delete a.toolchain.pipes.loose;return}T(ln,{toolID:y,portID:V}),delete a.toolchain.pipes.loose}else a.toolchain.pipes.loose={end:{toolID:y,portID:V}}}function L(C){let[y,O]=m(C);const V=C.target.dataset.portid;if("loose"in a.toolchain.pipes){let ln=a.toolchain.pipes.loose.end;if(!ln){delete a.toolchain.pipes.loose;return}T({toolID:y,portID:V},ln),delete a.toolchain.pipes.loose}else a.toolchain.pipes.loose={start:{toolID:y,portID:V}}}o("pointerup",".inports .port",E),o("pointerdown",".inports .port",E),o("pointerup",".outports .port",L),o("pointerdown",".outports .port",L)}function V_(p,a){const o=xt(p);o("contextmenu",".pipe",m=>{m.preventDefault();const w=m.target.dataset.pipeid,T=a.toolchain.pipes[w].end,E=a.toolchain.tools[T.toolID];E.inports[T.portID].value=null,"inportsUpdated"in E.lifecycle&&E.lifecycle.inportsUpdated(),delete a.toolchain.pipes[w]}),o("contextmenu",".pipe-background",m=>{m.preventDefault();const w=m.target.dataset.pipeid;w==="loose"&&delete a.toolchain.pipes[w]})}async function G_(p,a){const o=xt(p);let m=document.getElementById("title-field");o("pointerdown",".download",y=>{const O=a.panZoom?a.panZoom.x():0,V=a.panZoom?a.panZoom.y():0,ln=a.panZoom?a.panZoom.scale():1,$=Object.fromEntries(Object.entries(a.toolchain.tools).map(([en,_n])=>{const yt=a.imports[_n.path],{lifecycle:gn,inports:Hn,outports:Fn,...Kn}=_n;return Kn.inports=yt.config.inports??{},Kn.outports=yt.config.outports??{},[en,Kn]})),rn={title:a.toolchain.title??untitled,pipes:a.toolchain.pipes,tools:$,workspace:{x:O,y:V,scale:ln}},pn=document.createElement("a");pn.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(rn)),pn.download=(a.toolchain.title??"toolchain")+".json",document.body.appendChild(pn),pn.click(),document.body.removeChild(pn)});function w(y){let O=y.target.files[0];const V=new FileReader;V.readAsText(O),V.onload=()=>{a.uploadToolchain(JSON.parse(V.result))}}o("pointerdown",".upload",y=>{let O=document.createElement("input");O.setAttribute("type","file"),O.style.display="none",document.body.appendChild(O),O.click(),O.onchange=w,document.body.removeChild(O)});async function T(y){const{default:O}=await a.examples[y.target.dataset.path]();a.uploadToolchain(O)}async function E(y){const{default:O}=await a.snippets[y.target.dataset.path]();a.uploadToolchain(O,!0)}o("pointerdown",".ex",T),o("pointerdown",".snip",E),o("pointerdown",".debug",y=>{a.debug=!a.debug});function L(y){a.toolchain.title=m.textContent,m.contentEditable=!1,m.removeEventListener("focusout",L),m.removeEventListener("keypress",_r),m.removeEventListener("keypress",C)}function C(y){M_(m,50,y)}o("pointerdown",".edit-name",y=>{m.contentEditable=!0,m.addEventListener("focusout",L),m.addEventListener("keypress",_r),m.addEventListener("keypress",C),setTimeout(function(){As(m),m.focus()},0)})}function Z_(p,a){const o=xt(p);o("dragend",".add-tool",m=>{a.addTool(m.target.dataset.path)}),o("click",".add-tool",m=>{a.addTool(m.target.dataset.path)})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Rg={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},q_=p=>(...a)=>({_$litDirective$:p,values:a});class z_{constructor(a){}get _$AU(){return this._$AM._$AU}_$AT(a,o,m){this._$Ct=a,this._$AM=o,this._$Ci=m}_$AS(a,o){return this.update(a,o)}update(a,o){return this.render(...o)}}class H_ extends z_{constructor(a){super(a),a.parentNode.attachShadow({mode:"open"})}update(a,o){let m=o[1];ve(o[0],a.parentNode.shadowRoot),m.domInitialized||(m.domInitialized=!0,"postInit"in m.lifecycle&&(m.lifecycle.postInit(),ve(o[0],a.parentNode.shadowRoot)))}}const K_=q_(H_),Y_={boolean:"var(--green)",string:"var(--purple)",number:"var(--blue)",array:"var(--pink)",object:"var(--orange)"};function ws(p,a,o){return bn`<div
    class="port"
    data-portside=${o}
    data-portid=${p}
    style="--port-color: ${Y_[a.type]??"var(--port-hover)"}">
    ${p}
  </div>`}function k_(p){return bn`<div class="menu-item edit-toolname">
      <i class="edit-toolname fa-solid fa-pen-to-square fa-fw"></i
      ><span class="edit-toolname ">Edit Display Name</span>
    </div>
    <div class="menu-item remove">
      <i class="fa-solid fa-trash fa-fw remove"></i
      ><span class="remove">Delete</span>
    </div>`}function X_(p,a,o){let m=!("render"in a.lifecycle),w=o.selection.has(p),T=o.resizing||o.transforming||o.lockInteraction;return bn`<div
    class="tool resize-${a.ui.resize}
    ${m?"mini":"full"}
    ${w?"selected":"not-selected"}"
    data-toolid=${p}
    draggable="false"
    style="
      --x:${a.pos.x}px;
      --y:${a.pos.y}px;
      --ui-width:${a.ui.width??0}px;
      --ui-height:${a.ui.height??0}px;">
    <div class="toolbar drag-tool">
      ${a.ui.icon?bn`<i class="drag-tool fa-solid fa-fw fa-${a.ui.icon}"></i>`:dr}
      <span class="drag-tool tool-displayname">${a.ui.displayName}</span>
      <div class="menu-icon">
        <a class="menu" href="#"
          ><i class="fa-solid fa-ellipsis-vertical"> </i>
        </a>
        <div class="tool-menu">${k_()}</div>
      </div>
    </div>
    <div class="inports port-container">
      ${Object.entries(a.inports).map(([E,L])=>ws(E,L,"inport"))}
    </div>
    <div class="outports port-container">
      ${Object.entries(a.outports).map(([E,L])=>ws(E,L,"outport"))}
    </div>
    ${m?dr:bn`<div class="tool-view ${T?"disable-pointer":""}">
            ${K_(a.lifecycle.render(),a)}
          </div>
          <div class="resize-handle"></div>`}
  </div>`}function J_(p){const a=p.panZoom?p.panZoom.x():0,o=p.panZoom?p.panZoom.y():0,m=p.panZoom?p.panZoom.scale():1;return bn`<div id="debug-pane">
    <div class="debug-header">debug</div>
    <div class="debug-content">
      <div class="debug-header"><span>workspace</span></div>
      <div class="debug-workspace">
        <span>title</span><span>${p.toolchain.title}</span>
        <span>mouse</span><span>(${p.mouse.x.toFixed(2)}, ${p.mouse.y.toFixed(2)})</span>
        <span>view</span><span>(${a.toFixed(2)},${o.toFixed(2)})</span>
        <span>scale</span><span>${m.toFixed(2)}</span>
        <span>transforming</span><span>${p.transforming}</span>
        <span>resizing</span><span>${p.resizing}</span>
      </div>
      <div class="debug-header"><span>tools</span></div>
      <div class="debug-section">
        ${Object.entries(p.toolchain.tools).map(([w,T])=>bn`<div class="debug-tools">
              <div>display name</div>
              <div>${T.ui.displayName}</div>
              <div>tool id</div>
              <div>${w}</div>
              <div>coords</div>
              <div>
                X: ${T.pos.x.toFixed(2)}, Y: ${T.pos.y.toFixed(2)}
              </div>
              <div>UI</div>
              <div>${T.ui.width} x ${T.ui.height}</div>
            </div>`)}
        </div>
        <div class="debug-header"><span>pipes</span></div>
        <div class="debug-section">
          ${Object.keys(p.toolchain.pipes).map(w=>bn`<div class="debug-pipes">${w}</div>`)}
        </div>
      </div>
    </div>
  </div>`}function Q_(p){return Object.entries(p.toolchain.tools).map(([a,o])=>X_(a,o,p))}function j_(p){return bn`<div id="nav">
    <span>toolchains</span>
    <span id="toolchain-title">
      <span id="title-field">${p.toolchain.title??"untitled"}</span>
      <i class="edit-name fa-solid fa-pen-to-square fa-fw fa-sm"></i>
    </span>
    <span id="nav-buttons">
      <i class="upload fa-solid fa-upload"></i>
      <i class="download fa-solid fa-download"></i>
      <i class="dropdown-icon fa-solid fa-book">
        <div class="dropdown">
          ${Object.entries(p.examples).map(([a,o])=>bn`<div data-path=${a} class="dropdown-item ex">
              ${a.split("/").at(-1).split(".")[0]}
            </div>`)}
        </div>
      </i>

      <i class="debug fa-solid fa-bug"></i>
      <a
        href="https://github.com/branchwelder/toolchains"
        target="_blank"
        rel="noreferrer noopener">
        <i class="fa-brands fa-github"></i>
      </a>
    </span>
  </div>`}function ng(p){let a=p.selectBox.start,o=p.selectBox.end;return Fi`

  <path class="select-box"
    d="
    M ${a.x} ${a.y}
    L ${o.x} ${a.y}
    L ${o.x} ${o.y}
    L ${a.x} ${o.y}
    Z
    "/>`}function tg(p){return bn`<div class="section">
    <input type="checkbox" class="collapse-toggle" id="check-${p.group}" />
    <label for="check-${p.group}" class="collapse-header">
      <i class="fa-fw fa-solid fa-${p.icon}"></i>
      <span class="section-title">${p.group}</span>
      <i class="expand-caret fa-solid fa-caret-left"></i>
    </label>
    <div class="collapsible">
      ${p.entries.map(a=>bn`<div
            draggable="true"
            class="add-tool collapse-item"
            data-path=${a.path}>
            ${a.displayName}
          </div> `)}
    </div>
  </div>`}function Ts(p){const a=p.panZoom?p.panZoom.x():0,o=p.panZoom?p.panZoom.y():0,m=p.panZoom?p.panZoom.scale():1;return bn`<div id="app-container">
    ${j_(p)}
    <div id="workspace">
      <canvas
        draggable="false"
        id="background"
        style="--offset-x: ${a}px;--offset-y: ${o}px;--scale: ${m};"></canvas>
      <svg id="svg-layer" preserveAspectRatio="xMidYMid meet" draggable="false">
        <g id="select-box-container" class="transform-group">
          ${p.selectBox.start&&p.selectBox.end?ng(p):dr}
        </g>
        <g id="pipes-container" class="transform-group"></g>
      </svg>
      <div id="toolchain" class="transform-group">${Q_(p)}</div>
      <div id="toolbox">
        <div id="toolbox-title">toolbox</div>
        ${p.toolbox.map(w=>tg(w))}
      </div>
      <div id="context-box-container"></div>
      ${p.debug?J_(p):dr}
    </div>
  </div>`}function Es(p,a){let o=a.getBoundingClientRect();return p.panZoom.toWorkspaceCoords({x:o.left+o.width/2,y:o.top+o.height/2})}function eg(p,a){let o=null,m=null,w=!1;if(a.start){let T=document.querySelector(`[data-toolid="${a.start.toolID}"] [data-portside="outport"][data-portid="${a.start.portID}"]`);if(!T)return;o=Es(p,T)}else o=p.mouse,w=!0;if(a.end){let T=document.querySelector(`[data-toolid="${a.end.toolID}"] [data-portside="inport"][data-portid="${a.end.portID}"]`);if(!T)return;m=Es(p,T)}else m=p.mouse,w=!0;return{startCoords:o,endCoords:m,inProgress:w}}function rg(p,a){return`M${p.x},${p.y}
    C${p.x+100},${p.y}
    ${a.x-100},${a.y}
    ${a.x},${a.y}`}function ig(p){return Object.entries(p.toolchain.pipes).map(([a,o])=>{let m=eg(p,o);if(!m)return;let{startCoords:w,endCoords:T,inProgress:E}=m;if(!w||!T)return;let L=rg(w,T);if(E)return Fi`<path class="pipe-background" data-pipeid=${a} d="${L}" />`;{let C=p.toolchain.tools[o.start.toolID].outports[o.start.portID].value,y;return C===null?y="empty":Array.isArray(C)?y="array":typeof C=="object"?y="object":y="single",Fi`<path class="pipe-background ${y}" data-pipeid=${a} d="${L}" />
    <path class="pipe ${y}" data-pipeid=${a} d="${L}" />`}})}function og(p,a){const o=xt(p);let m=null,w=null;const T=()=>{m=null,w=null,a.selectBox={start:m,end:w},a.lockInteraction=!1};o("pointercancel","",L=>{T(),a.selection.clear()}),o("pointerdown","#svg-layer",L=>{L.shiftKey&&(a.lockInteraction=!0,m=a.mouse)}),o("pointermove","",L=>{if(!L.shiftKey){T();return}if(m!==null&&(w=a.mouse,a.selectBox={start:m,end:w},a.selection.clear(),m&&w)){const C={start:m,end:w};Object.entries(a.toolchain.tools).forEach(([y,O])=>{const V={xMin:O.pos.x,xMax:O.pos.x+(O.ui.width??0),yMin:O.pos.y,yMax:O.pos.y+(O.ui.height??0)};E(V,C)&&a.selection.add(y)})}});function E(L,C){let{start:y,end:O}=C;return L.xMin>y.x&&L.xMax<O.x&&L.yMin>y.y&&L.yMax<O.y||L.xMin>y.x&&L.xMax<O.x&&L.yMin<y.y&&L.yMax>O.y||L.xMin<y.x&&L.xMax>O.x&&L.yMin>y.y&&L.yMax<O.y||L.xMin<y.x&&L.xMax>O.x&&L.yMin<y.y&&L.yMax>O.y}o("pointerup","",L=>{T()})}async function ug(p,a){const o=xt(p);let m,w,T;document.getElementById("context-box-container"),o("pointerdown","#svg-layer",E=>{m=!0,w=0,T=0}),o("pointermove","#svg-layer",E=>{m&&(T+=E.movementX,w+=E.movementY)}),o("pointerup","#svg-layer",E=>{m=!1,Math.abs(w)<5&&Math.abs(T)<5&&a.selection.clear()}),o("contextmenu","#svg-layer",E=>{E.preventDefault(),a.toolchain.pipes.loose&&delete a.toolchain.pipes.loose})}const sg=[{group:"Math and Logic",icon:"calculator",entries:[{displayName:"And",path:"logic/and"},{displayName:"Not",path:"logic/not"},{displayName:"Or",path:"logic/or"},{displayName:"Domain 1D",path:"math/domain1D"},{displayName:"Domain 2D",path:"math/domain2D"},{displayName:"Range",path:"math/range"}]},{group:"Operators",icon:"calculator",entries:[{displayName:"Add",path:"operators/add"},{displayName:"Subtract",path:"operators/subtract"},{displayName:"Multiply",path:"operators/multiply"},{displayName:"Divide",path:"operators/divide"},{displayName:"Modulo",path:"operators/modulo"},{displayName:"Power",path:"operators/power"},{displayName:"Equals",path:"operators/equals"},{displayName:"Absolute Value",path:"operators/absolute"},{displayName:"Not Equals",path:"operators/notEquals"},{displayName:"Square Root",path:"operators/squareRoot"},{displayName:"Greater Than",path:"operators/greater"},{displayName:"Less Than",path:"operators/less"}]},{group:"Constants",icon:"calculator",entries:[{displayName:"pi",path:"constants/piConstant"},{displayName:"ln10",path:"constants/ln10Constant"},{displayName:"e",path:"constants/eConstant"}]},{group:"Trigonometry",icon:"calculator",entries:[{displayName:"Degrees",path:"trig/degrees"},{displayName:"Radians",path:"trig/radians"},{displayName:"Sine",path:"trig/sine"},{displayName:"Cosine",path:"trig/cosine"},{displayName:"Tangent",path:"trig/tangent"}]},{group:"Color",icon:"palette",entries:[{displayName:"Color Picker",path:"color/color"},{displayName:"Gradient",path:"color/gradient"},{displayName:"HSL",path:"color/hsl"}]},{group:"Inputs",icon:"computer-mouse",entries:[{displayName:"Number Slider",path:"inputs/inputSlider"},{displayName:"Text",path:"inputs/text"},{displayName:"Boolean",path:"inputs/bool"}]},{group:"File I/O",icon:"folder",entries:[{displayName:"Upload",path:"files/uploadFile"},{displayName:"Download",path:"files/downloadFile"}]},{group:"Image",icon:"image",entries:[{displayName:"Image Viewer",path:"image/imageViewer"},{displayName:"Extract Image Data",path:"image/getImageData"},{displayName:"Image RGBA",path:"image/imageRGBA"},{displayName:"Construct Image Data",path:"image/constructImageData"},{displayName:"View Image Data",path:"image/viewImageData"}]},{group:"Path",icon:"bezier-curve",entries:[{displayName:"Path Drawing",path:"path/pathDrawing"},{displayName:"Path Viewer",path:"path/pathViewer"}]},{group:"Data",icon:"database",entries:[{displayName:"Data Viewer",path:"data/dataViewer"}]},{group:"Experiments",icon:"flask",entries:[{displayName:"Velocity Painting",path:"misc/velocity"},{displayName:"Axidraw Serial",path:"misc/axidrawSerial"},{displayName:"P5 Editor",path:"p5/p5Editor"},{displayName:"P5 Sketch Viewer",path:"p5/p5Viewer"}]}],lg=Object.assign({"/tools/color/color.js":()=>A(()=>import("./color-659dddff.js"),["assets/color-659dddff.js","assets/lit-html-b7b68613.js"]),"/tools/color/gradient.js":()=>A(()=>import("./gradient-924ef9d1.js"),["assets/gradient-924ef9d1.js","assets/lit-html-b7b68613.js"]),"/tools/color/hsl.js":()=>A(()=>import("./hsl-a26ad14a.js"),["assets/hsl-a26ad14a.js","assets/lit-html-b7b68613.js"]),"/tools/constants/eConstant.js":()=>A(()=>import("./eConstant-af53b089.js"),[]),"/tools/constants/ln10Constant.js":()=>A(()=>import("./ln10Constant-19e5caf4.js"),[]),"/tools/constants/piConstant.js":()=>A(()=>import("./piConstant-2f3f72f7.js"),[]),"/tools/data/dataViewer.js":()=>A(()=>import("./dataViewer-3a6c37dc.js"),["assets/dataViewer-3a6c37dc.js","assets/lit-html-b7b68613.js","assets/ref-056edc85.js","assets/editor-5ed85bb6.js"]),"/tools/files/downloadFile.js":()=>A(()=>import("./downloadFile-21bd079b.js"),["assets/downloadFile-21bd079b.js","assets/lit-html-b7b68613.js"]),"/tools/files/uploadFile.js":()=>A(()=>import("./uploadFile-6824297b.js"),["assets/uploadFile-6824297b.js","assets/lit-html-b7b68613.js"]),"/tools/image/constructImageData.js":()=>A(()=>import("./constructImageData-dc856f32.js"),[]),"/tools/image/extractPixelData.js":()=>A(()=>import("./extractPixelData-4681ae0e.js"),["assets/extractPixelData-4681ae0e.js","assets/lit-html-b7b68613.js"]),"/tools/image/getImageData.js":()=>A(()=>import("./getImageData-42206d2b.js"),[]),"/tools/image/imageRGBA.js":()=>A(()=>import("./imageRGBA-e48d5f18.js"),[]),"/tools/image/imageSizeCache.js":()=>A(()=>import("./imageSizeCache-4ed993c7.js"),[]),"/tools/image/imageViewer.js":()=>A(()=>import("./imageViewer-ecf9b990.js"),["assets/imageViewer-ecf9b990.js","assets/lit-html-b7b68613.js"]),"/tools/image/viewImageData.js":()=>A(()=>import("./viewImageData-0fec51ad.js"),["assets/viewImageData-0fec51ad.js","assets/lit-html-b7b68613.js","assets/ref-056edc85.js"]),"/tools/inputs/bool.js":()=>A(()=>import("./bool-641eb61e.js"),["assets/bool-641eb61e.js","assets/lit-html-b7b68613.js"]),"/tools/inputs/editor.js":()=>A(()=>import("./editor-fc7aaf64.js"),["assets/editor-fc7aaf64.js","assets/lit-html-b7b68613.js","assets/ref-056edc85.js","assets/editor-5ed85bb6.js","assets/index-e839cebc.js"]),"/tools/inputs/inputSlider.js":()=>A(()=>import("./inputSlider-163c1507.js"),["assets/inputSlider-163c1507.js","assets/lit-html-b7b68613.js"]),"/tools/inputs/text.js":()=>A(()=>import("./text-87b2327e.js"),["assets/text-87b2327e.js","assets/lit-html-b7b68613.js"]),"/tools/logic/and.js":()=>A(()=>import("./and-72050cd4.js"),[]),"/tools/logic/not.js":()=>A(()=>import("./not-c224e784.js"),[]),"/tools/logic/or.js":()=>A(()=>import("./or-740e449d.js"),[]),"/tools/math/domain1D.js":()=>A(()=>import("./domain1D-4c676913.js"),[]),"/tools/math/domain2D.js":()=>A(()=>import("./domain2D-8ddd850f.js"),[]),"/tools/math/range.js":()=>A(()=>import("./range-61bb6c1a.js"),[]),"/tools/misc/axidrawSerial.js":()=>A(()=>import("./axidrawSerial-d1da1f00.js"),["assets/axidrawSerial-d1da1f00.js","assets/lit-html-b7b68613.js","assets/path-64f1c30e.js"]),"/tools/misc/evalJS.js":()=>A(()=>import("./evalJS-28302984.js"),["assets/evalJS-28302984.js","assets/lit-html-b7b68613.js"]),"/tools/misc/logger.js":()=>A(()=>import("./logger-a10597ce.js"),["assets/logger-a10597ce.js","assets/lit-html-b7b68613.js"]),"/tools/misc/velocity.js":()=>A(()=>import("./velocity-f6c9b440.js"),["assets/velocity-f6c9b440.js","assets/lit-html-b7b68613.js"]),"/tools/operators/absolute.js":()=>A(()=>import("./absolute-c21b8143.js"),[]),"/tools/operators/add.js":()=>A(()=>import("./add-e19c394a.js"),[]),"/tools/operators/divide.js":()=>A(()=>import("./divide-869160d6.js"),[]),"/tools/operators/equals.js":()=>A(()=>import("./equals-72767158.js"),[]),"/tools/operators/greater.js":()=>A(()=>import("./greater-6331a63f.js"),[]),"/tools/operators/less.js":()=>A(()=>import("./less-88196cd5.js"),[]),"/tools/operators/modulo.js":()=>A(()=>import("./modulo-6a806b4e.js"),[]),"/tools/operators/multiply.js":()=>A(()=>import("./multiply-ad6c552a.js"),[]),"/tools/operators/notEquals.js":()=>A(()=>import("./notEquals-1c90d7c1.js"),[]),"/tools/operators/power.js":()=>A(()=>import("./power-6c27f2b1.js"),[]),"/tools/operators/squareRoot.js":()=>A(()=>import("./squareRoot-0f2914c1.js"),[]),"/tools/operators/subtract.js":()=>A(()=>import("./subtract-128cb9a8.js"),[]),"/tools/p5/p5Editor.js":()=>A(()=>import("./p5Editor-8d2bfe89.js"),["assets/p5Editor-8d2bfe89.js","assets/lit-html-b7b68613.js","assets/ref-056edc85.js","assets/editor-5ed85bb6.js","assets/index-e839cebc.js"]),"/tools/p5/p5Viewer.js":()=>A(()=>import("./p5Viewer-ff2b75fe.js"),["assets/p5Viewer-ff2b75fe.js","assets/lit-html-b7b68613.js"]),"/tools/path/pathDrawing.js":()=>A(()=>import("./pathDrawing-189ee4dc.js"),["assets/pathDrawing-189ee4dc.js","assets/lit-html-b7b68613.js","assets/ref-056edc85.js"]),"/tools/path/pathViewer.js":()=>A(()=>import("./pathViewer-c9b22160.js"),["assets/pathViewer-c9b22160.js","assets/path-64f1c30e.js","assets/lit-html-b7b68613.js"]),"/tools/path/pdi/addConvertPts.js":()=>A(()=>import("./addConvertPts-5215b22b.js"),["assets/addConvertPts-5215b22b.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addGlobalKeypress.js":()=>A(()=>import("./addGlobalKeypress-9be88809.js"),[]),"/tools/path/pdi/addMouseTracking.js":()=>A(()=>import("./addMouseTracking-9b51a8f3.js"),["assets/addMouseTracking-9b51a8f3.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPanZoom.js":()=>A(()=>import("./addPanZoom-d065c67a.js"),["assets/addPanZoom-d065c67a.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPanZoomMobile.js":()=>A(()=>import("./addPanZoomMobile-457e2d60.js"),["assets/addPanZoomMobile-457e2d60.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPathDrawing.js":()=>A(()=>import("./addPathDrawing-3969a1cc.js"),["assets/addPathDrawing-3969a1cc.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPathInteraction.js":()=>A(()=>import("./addPathInteraction-9ea31a71.js"),["assets/addPathInteraction-9ea31a71.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPointDeletion.js":()=>A(()=>import("./addPointDeletion-324f2f57.js"),["assets/addPointDeletion-324f2f57.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPointInteraction.js":()=>A(()=>import("./addPointInteraction-4ecb555b.js"),["assets/addPointInteraction-4ecb555b.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addSelectBox.js":()=>A(()=>import("./addSelectBox-11a4a93d.js"),["assets/addSelectBox-11a4a93d.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/exportSVG.js":()=>A(()=>import("./exportSVG-6f9348cc.js"),[]),"/tools/path/pdi/index.js":()=>A(()=>import("./index-31f31cdb.js"),["assets/index-31f31cdb.js","assets/lit-html-b7b68613.js","assets/path-64f1c30e.js","assets/addPanZoom-d065c67a.js","assets/utils-c498b33b.js","assets/addPointInteraction-4ecb555b.js","assets/addConvertPts-5215b22b.js","assets/addPathDrawing-3969a1cc.js","assets/addPointDeletion-324f2f57.js","assets/addGlobalKeypress-9be88809.js","assets/addMouseTracking-9b51a8f3.js","assets/addSelectBox-11a4a93d.js","assets/addPathInteraction-9ea31a71.js","assets/exportSVG-6f9348cc.js"]),"/tools/path/pdi/path.js":()=>A(()=>import("./path-64f1c30e.js"),[]),"/tools/path/pdi/utils.js":()=>A(()=>import("./utils-c498b33b.js"),[]),"/tools/trig/cosine.js":()=>A(()=>import("./cosine-c367412a.js"),[]),"/tools/trig/degrees.js":()=>A(()=>import("./degrees-e3a96336.js"),[]),"/tools/trig/radians.js":()=>A(()=>import("./radians-78c0b9a5.js"),[]),"/tools/trig/sine.js":()=>A(()=>import("./sine-b32deb29.js"),[]),"/tools/trig/tangent.js":()=>A(()=>import("./tangent-b321781a.js"),[])}),ag=Object.assign({"/examples/arithmetic.json":()=>A(()=>import("./arithmetic-55293a62.js"),[]),"/examples/colorChannels.json":()=>A(()=>import("./colorChannels-462890f0.js"),[]),"/examples/draw_path.json":()=>A(()=>import("./draw_path-877d06d6.js"),[]),"/examples/gradients.json":()=>A(()=>import("./gradients-3299b3d9.js"),[]),"/examples/p5_sketch.json":()=>A(()=>import("./p5_sketch-7f473e92.js"),[]),"/examples/path_testing.json":()=>A(()=>import("./path_testing-f3291b41.js"),[])}),H={mouse:null,initialized:!1,toolbox:sg,examples:ag,imports:{},toolchain:{title:"untitled",tools:{},pipes:{}},selectBox:{},theme:C_,panZoom:null,resizing:!1,transforming:!1,lockInteraction:!1,selection:new Set,keysPressed:[],debug:!1,uploadToolchain:mg,addTool:Rs};function fg(p,a){return Object.entries(H.toolchain.pipes).filter(([m,w])=>w.start.toolID==p&&w.start.portID==a)}function cg(p,a){return{set(o,m,w,T){return fg(p,a).forEach(([L,C])=>{let y=H.toolchain.tools[C.end.toolID];if(!y)return;let O=y.inports[C.end.portID];O.value=w,"inportsUpdated"in y.lifecycle&&y.lifecycle.inportsUpdated()}),Reflect.set(o,m,w,T)}}}function pg(p,a){return{set(o,m,w,T){return Reflect.set(o,m,w,T)}}}function dg(p){return{set(a,o,m,w){let T=H.toolchain.tools[p];return"stateUpdated"in T.lifecycle&&T.lifecycle.stateUpdated(),Reflect.set(a,o,m,w)}}}function hg(p,a){const o={},m={};for(const[w,T]of Object.entries(a.inports))o[w]=new Proxy(pr.cloneDeep(T),pg(a.toolID));for(const[w,T]of Object.entries(a.outports))m[w]=new Proxy(pr.cloneDeep(T),cg(a.toolID,w));return a.inports=o,a.outports=m,a.state=new Proxy(pr.cloneDeep(a.state),dg(a.toolID)),a.lifecycle=p(a.inports,a.outports,a.state,H),!0}function _g(p,a){const o=p.split("/").at(-1).split(".")[0];return{path:p,toolID:`${o}_${S_()}`,pos:{x:H.mouse.x,y:H.mouse.y},inports:a.inports??{},outports:a.outports??{},state:a.state??{},uiState:{toolbar:!0,statePanel:!1},ui:pr.cloneDeep(a.ui??{displayName:o,width:"200px",height:"200px",mini:!1,resize:"none"}),domInitialized:!1}}async function gg(p){const{default:a}=await lg[`/tools/${p}.js`]();H.imports[p]=a}async function Rs(p,a){p in H.imports||await gg(p);const o=H.imports[p],m=a??_g(p,o.config);m.domInitialized=!1,hg(o.tool,m),H.toolchain.tools[m.toolID]=m,"init"in m.lifecycle&&m.lifecycle.init()}function vg(){H.toolchain={tools:{},pipes:{},title:"untitled"}}function mg(p,a=!1){a||(vg(),H.panZoom.setPanZoom(p.workspace)),Object.entries(p.tools).forEach(([o,m])=>{Rs(m.path,m)}),H.toolchain.title=p.title??"untitled",Object.assign(H.toolchain.pipes,p.pipes)}function xg(){Object.entries(H.theme).map(([p,a])=>{document.documentElement.style.setProperty(p,a)})}function Ls(){ve(Ts(H),document.body),ve(ig(H),wg),window.requestAnimationFrame(Ls)}function yg(){if(H.initialized)return;let p=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${p}px`),H.initialized=!0,xg(),ve(Ts(H),document.body)}window.addEventListener("resize",()=>{let p=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${p}px`)});yg();const Ds=document.getElementById("svg-layer"),wg=document.getElementById("pipes-container"),gr=document.getElementById("workspace"),Eg=document.getElementById("toolbox"),Ig=document.getElementById("nav"),Ag=B_(Ds,H);H.panZoom=Ag;U_(H);W_(gr,H);F_(gr,H);V_(gr,H);Z_(Eg,H);G_(Ig,H);og(gr,H);ug(Ds,H);window.requestAnimationFrame(Ls);export{q_ as e,z_ as i,Rg as t};
