import{y as Q,b as Fi,Z as vt,w as Wi}from"./lit-html-b7b68613.js";const bg="modulepreload",Rg=function(c){return"/toolchains/"+c},wl={},M=function(s,o,m){if(!o||o.length===0)return s();const w=document.getElementsByTagName("link");return Promise.all(o.map(I=>{if(I=Rg(I),I in wl)return;wl[I]=!0;const D=I.endsWith(".css"),A=D?'[rel="stylesheet"]':"";if(!!m)for(let T=w.length-1;T>=0;T--){const U=w[T];if(U.href===I&&(!D||U.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${I}"]${A}`))return;const E=document.createElement("link");if(E.rel=D?"stylesheet":bg,D||(E.as="script",E.crossOrigin=""),E.href=I,document.head.appendChild(E),D)return new Promise((T,U)=>{E.addEventListener("load",T),E.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${I}`)))})})).then(()=>s())};var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={},Lg={get exports(){return dr},set exports(c){dr=c}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(c,s){(function(){var o,m="4.17.21",w=200,I="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",D="Expected a function",A="Invalid `variable` option passed into `_.template`",L="__lodash_hash_undefined__",E=500,T="__lodash_placeholder__",U=1,en=2,C=4,tn=1,dn=2,un=1,wn=2,qe=4,hn=8,Xn=16,Hn=32,De=64,Jn=128,ke=256,_r=512,Ol=30,Sl="...",Pl=800,Cl=16,Zi=1,$l=2,Bl=3,xe=1/0,se=9007199254740991,Ml=17976931348623157e292,mt=0/0,qn=4294967295,Ul=qn-1,Fl=qn>>>1,Wl=[["ary",Jn],["bind",un],["bindKey",wn],["curry",hn],["curryRight",Xn],["flip",_r],["partial",Hn],["partialRight",De],["rearg",ke]],Oe="[object Arguments]",xt="[object Array]",Nl="[object AsyncFunction]",Ke="[object Boolean]",Ye="[object Date]",Zl="[object DOMException]",wt="[object Error]",yt="[object Function]",Gi="[object GeneratorFunction]",Wn="[object Map]",Xe="[object Number]",Gl="[object Null]",Qn="[object Object]",zi="[object Promise]",zl="[object Proxy]",Je="[object RegExp]",Nn="[object Set]",Qe="[object String]",Et="[object Symbol]",Vl="[object Undefined]",je="[object WeakMap]",Hl="[object WeakSet]",nt="[object ArrayBuffer]",Se="[object DataView]",vr="[object Float32Array]",mr="[object Float64Array]",xr="[object Int8Array]",wr="[object Int16Array]",yr="[object Int32Array]",Er="[object Uint8Array]",Ir="[object Uint8ClampedArray]",Ar="[object Uint16Array]",Tr="[object Uint32Array]",ql=/\b__p \+= '';/g,kl=/\b(__p \+=) '' \+/g,Kl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vi=/&(?:amp|lt|gt|quot|#39);/g,Hi=/[&<>"']/g,Yl=RegExp(Vi.source),Xl=RegExp(Hi.source),Jl=/<%-([\s\S]+?)%>/g,Ql=/<%([\s\S]+?)%>/g,qi=/<%=([\s\S]+?)%>/g,jl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ns=/^\w*$/,es=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,br=/[\\^$.*+?()[\]{}|]/g,ts=RegExp(br.source),Rr=/^\s+/,rs=/\s/,is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,os=/\{\n\/\* \[wrapped with (.+)\] \*/,us=/,? & /,ls=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ss=/[()=,{}\[\]\/\s]/,fs=/\\(\\)?/g,as=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ki=/\w*$/,cs=/^[-+]0x[0-9a-f]+$/i,ps=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,hs=/^0o[0-7]+$/i,gs=/^(?:0|[1-9]\d*)$/,_s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,It=/($^)/,vs=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",ms="\\u0300-\\u036f",xs="\\ufe20-\\ufe2f",ws="\\u20d0-\\u20ff",Ki=ms+xs+ws,Yi="\\u2700-\\u27bf",Xi="a-z\\xdf-\\xf6\\xf8-\\xff",ys="\\xac\\xb1\\xd7\\xf7",Es="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Is="\\u2000-\\u206f",As=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ji="A-Z\\xc0-\\xd6\\xd8-\\xde",Qi="\\ufe0e\\ufe0f",ji=ys+Es+Is+As,Lr="['’]",Ts="["+At+"]",no="["+ji+"]",Tt="["+Ki+"]",eo="\\d+",bs="["+Yi+"]",to="["+Xi+"]",ro="[^"+At+ji+eo+Yi+Xi+Ji+"]",Dr="\\ud83c[\\udffb-\\udfff]",Rs="(?:"+Tt+"|"+Dr+")",io="[^"+At+"]",Or="(?:\\ud83c[\\udde6-\\uddff]){2}",Sr="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+Ji+"]",oo="\\u200d",uo="(?:"+to+"|"+ro+")",Ls="(?:"+Pe+"|"+ro+")",lo="(?:"+Lr+"(?:d|ll|m|re|s|t|ve))?",so="(?:"+Lr+"(?:D|LL|M|RE|S|T|VE))?",fo=Rs+"?",ao="["+Qi+"]?",Ds="(?:"+oo+"(?:"+[io,Or,Sr].join("|")+")"+ao+fo+")*",Os="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ss="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",co=ao+fo+Ds,Ps="(?:"+[bs,Or,Sr].join("|")+")"+co,Cs="(?:"+[io+Tt+"?",Tt,Or,Sr,Ts].join("|")+")",$s=RegExp(Lr,"g"),Bs=RegExp(Tt,"g"),Pr=RegExp(Dr+"(?="+Dr+")|"+Cs+co,"g"),Ms=RegExp([Pe+"?"+to+"+"+lo+"(?="+[no,Pe,"$"].join("|")+")",Ls+"+"+so+"(?="+[no,Pe+uo,"$"].join("|")+")",Pe+"?"+uo+"+"+lo,Pe+"+"+so,Ss,Os,eo,Ps].join("|"),"g"),Us=RegExp("["+oo+At+Ki+Qi+"]"),Fs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ws=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ns=-1,X={};X[vr]=X[mr]=X[xr]=X[wr]=X[yr]=X[Er]=X[Ir]=X[Ar]=X[Tr]=!0,X[Oe]=X[xt]=X[nt]=X[Ke]=X[Se]=X[Ye]=X[wt]=X[yt]=X[Wn]=X[Xe]=X[Qn]=X[Je]=X[Nn]=X[Qe]=X[je]=!1;var Y={};Y[Oe]=Y[xt]=Y[nt]=Y[Se]=Y[Ke]=Y[Ye]=Y[vr]=Y[mr]=Y[xr]=Y[wr]=Y[yr]=Y[Wn]=Y[Xe]=Y[Qn]=Y[Je]=Y[Nn]=Y[Qe]=Y[Et]=Y[Er]=Y[Ir]=Y[Ar]=Y[Tr]=!0,Y[wt]=Y[yt]=Y[je]=!1;var Zs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Gs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hs=parseFloat,qs=parseInt,po=typeof _t=="object"&&_t&&_t.Object===Object&&_t,ks=typeof self=="object"&&self&&self.Object===Object&&self,an=po||ks||Function("return this")(),Cr=s&&!s.nodeType&&s,we=Cr&&!0&&c&&!c.nodeType&&c,ho=we&&we.exports===Cr,$r=ho&&po.process,Sn=function(){try{var p=we&&we.require&&we.require("util").types;return p||$r&&$r.binding&&$r.binding("util")}catch{}}(),go=Sn&&Sn.isArrayBuffer,_o=Sn&&Sn.isDate,vo=Sn&&Sn.isMap,mo=Sn&&Sn.isRegExp,xo=Sn&&Sn.isSet,wo=Sn&&Sn.isTypedArray;function Tn(p,g,h){switch(h.length){case 0:return p.call(g);case 1:return p.call(g,h[0]);case 2:return p.call(g,h[0],h[1]);case 3:return p.call(g,h[0],h[1],h[2])}return p.apply(g,h)}function Ks(p,g,h,b){for(var $=-1,V=p==null?0:p.length;++$<V;){var ln=p[$];g(b,ln,h(ln),p)}return b}function Pn(p,g){for(var h=-1,b=p==null?0:p.length;++h<b&&g(p[h],h,p)!==!1;);return p}function Ys(p,g){for(var h=p==null?0:p.length;h--&&g(p[h],h,p)!==!1;);return p}function yo(p,g){for(var h=-1,b=p==null?0:p.length;++h<b;)if(!g(p[h],h,p))return!1;return!0}function fe(p,g){for(var h=-1,b=p==null?0:p.length,$=0,V=[];++h<b;){var ln=p[h];g(ln,h,p)&&(V[$++]=ln)}return V}function bt(p,g){var h=p==null?0:p.length;return!!h&&Ce(p,g,0)>-1}function Br(p,g,h){for(var b=-1,$=p==null?0:p.length;++b<$;)if(h(g,p[b]))return!0;return!1}function J(p,g){for(var h=-1,b=p==null?0:p.length,$=Array(b);++h<b;)$[h]=g(p[h],h,p);return $}function ae(p,g){for(var h=-1,b=g.length,$=p.length;++h<b;)p[$+h]=g[h];return p}function Mr(p,g,h,b){var $=-1,V=p==null?0:p.length;for(b&&V&&(h=p[++$]);++$<V;)h=g(h,p[$],$,p);return h}function Xs(p,g,h,b){var $=p==null?0:p.length;for(b&&$&&(h=p[--$]);$--;)h=g(h,p[$],$,p);return h}function Ur(p,g){for(var h=-1,b=p==null?0:p.length;++h<b;)if(g(p[h],h,p))return!0;return!1}var Js=Fr("length");function Qs(p){return p.split("")}function js(p){return p.match(ls)||[]}function Eo(p,g,h){var b;return h(p,function($,V,ln){if(g($,V,ln))return b=V,!1}),b}function Rt(p,g,h,b){for(var $=p.length,V=h+(b?1:-1);b?V--:++V<$;)if(g(p[V],V,p))return V;return-1}function Ce(p,g,h){return g===g?pf(p,g,h):Rt(p,Io,h)}function nf(p,g,h,b){for(var $=h-1,V=p.length;++$<V;)if(b(p[$],g))return $;return-1}function Io(p){return p!==p}function Ao(p,g){var h=p==null?0:p.length;return h?Nr(p,g)/h:mt}function Fr(p){return function(g){return g==null?o:g[p]}}function Wr(p){return function(g){return p==null?o:p[g]}}function To(p,g,h,b,$){return $(p,function(V,ln,K){h=b?(b=!1,V):g(h,V,ln,K)}),h}function ef(p,g){var h=p.length;for(p.sort(g);h--;)p[h]=p[h].value;return p}function Nr(p,g){for(var h,b=-1,$=p.length;++b<$;){var V=g(p[b]);V!==o&&(h=h===o?V:h+V)}return h}function Zr(p,g){for(var h=-1,b=Array(p);++h<p;)b[h]=g(h);return b}function tf(p,g){return J(g,function(h){return[h,p[h]]})}function bo(p){return p&&p.slice(0,Oo(p)+1).replace(Rr,"")}function bn(p){return function(g){return p(g)}}function Gr(p,g){return J(g,function(h){return p[h]})}function et(p,g){return p.has(g)}function Ro(p,g){for(var h=-1,b=p.length;++h<b&&Ce(g,p[h],0)>-1;);return h}function Lo(p,g){for(var h=p.length;h--&&Ce(g,p[h],0)>-1;);return h}function rf(p,g){for(var h=p.length,b=0;h--;)p[h]===g&&++b;return b}var of=Wr(Zs),uf=Wr(Gs);function lf(p){return"\\"+Vs[p]}function sf(p,g){return p==null?o:p[g]}function $e(p){return Us.test(p)}function ff(p){return Fs.test(p)}function af(p){for(var g,h=[];!(g=p.next()).done;)h.push(g.value);return h}function zr(p){var g=-1,h=Array(p.size);return p.forEach(function(b,$){h[++g]=[$,b]}),h}function Do(p,g){return function(h){return p(g(h))}}function ce(p,g){for(var h=-1,b=p.length,$=0,V=[];++h<b;){var ln=p[h];(ln===g||ln===T)&&(p[h]=T,V[$++]=h)}return V}function Lt(p){var g=-1,h=Array(p.size);return p.forEach(function(b){h[++g]=b}),h}function cf(p){var g=-1,h=Array(p.size);return p.forEach(function(b){h[++g]=[b,b]}),h}function pf(p,g,h){for(var b=h-1,$=p.length;++b<$;)if(p[b]===g)return b;return-1}function df(p,g,h){for(var b=h+1;b--;)if(p[b]===g)return b;return b}function Be(p){return $e(p)?gf(p):Js(p)}function Zn(p){return $e(p)?_f(p):Qs(p)}function Oo(p){for(var g=p.length;g--&&rs.test(p.charAt(g)););return g}var hf=Wr(zs);function gf(p){for(var g=Pr.lastIndex=0;Pr.test(p);)++g;return g}function _f(p){return p.match(Pr)||[]}function vf(p){return p.match(Ms)||[]}var mf=function p(g){g=g==null?an:Me.defaults(an.Object(),g,Me.pick(an,Ws));var h=g.Array,b=g.Date,$=g.Error,V=g.Function,ln=g.Math,K=g.Object,Vr=g.RegExp,xf=g.String,Cn=g.TypeError,Dt=h.prototype,wf=V.prototype,Ue=K.prototype,Ot=g["__core-js_shared__"],St=wf.toString,k=Ue.hasOwnProperty,yf=0,So=function(){var n=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Pt=Ue.toString,Ef=St.call(K),If=an._,Af=Vr("^"+St.call(k).replace(br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ct=ho?g.Buffer:o,pe=g.Symbol,$t=g.Uint8Array,Po=Ct?Ct.allocUnsafe:o,Bt=Do(K.getPrototypeOf,K),Co=K.create,$o=Ue.propertyIsEnumerable,Mt=Dt.splice,Bo=pe?pe.isConcatSpreadable:o,tt=pe?pe.iterator:o,ye=pe?pe.toStringTag:o,Ut=function(){try{var n=be(K,"defineProperty");return n({},"",{}),n}catch{}}(),Tf=g.clearTimeout!==an.clearTimeout&&g.clearTimeout,bf=b&&b.now!==an.Date.now&&b.now,Rf=g.setTimeout!==an.setTimeout&&g.setTimeout,Ft=ln.ceil,Wt=ln.floor,Hr=K.getOwnPropertySymbols,Lf=Ct?Ct.isBuffer:o,Mo=g.isFinite,Df=Dt.join,Of=Do(K.keys,K),sn=ln.max,gn=ln.min,Sf=b.now,Pf=g.parseInt,Uo=ln.random,Cf=Dt.reverse,qr=be(g,"DataView"),rt=be(g,"Map"),kr=be(g,"Promise"),Fe=be(g,"Set"),it=be(g,"WeakMap"),ot=be(K,"create"),Nt=it&&new it,We={},$f=Re(qr),Bf=Re(rt),Mf=Re(kr),Uf=Re(Fe),Ff=Re(it),Zt=pe?pe.prototype:o,ut=Zt?Zt.valueOf:o,Fo=Zt?Zt.toString:o;function u(n){if(nn(n)&&!B(n)&&!(n instanceof G)){if(n instanceof $n)return n;if(k.call(n,"__wrapped__"))return Wu(n)}return new $n(n)}var Ne=function(){function n(){}return function(e){if(!j(e))return{};if(Co)return Co(e);n.prototype=e;var t=new n;return n.prototype=o,t}}();function Gt(){}function $n(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}u.templateSettings={escape:Jl,evaluate:Ql,interpolate:qi,variable:"",imports:{_:u}},u.prototype=Gt.prototype,u.prototype.constructor=u,$n.prototype=Ne(Gt.prototype),$n.prototype.constructor=$n;function G(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qn,this.__views__=[]}function Wf(){var n=new G(this.__wrapped__);return n.__actions__=yn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=yn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=yn(this.__views__),n}function Nf(){if(this.__filtered__){var n=new G(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Zf(){var n=this.__wrapped__.value(),e=this.__dir__,t=B(n),r=e<0,i=t?n.length:0,l=ja(0,i,this.__views__),f=l.start,a=l.end,d=a-f,_=r?a:f-1,v=this.__iteratees__,x=v.length,y=0,R=gn(d,this.__takeCount__);if(!t||!r&&i==d&&R==d)return su(n,this.__actions__);var S=[];n:for(;d--&&y<R;){_+=e;for(var W=-1,P=n[_];++W<x;){var Z=v[W],z=Z.iteratee,Dn=Z.type,xn=z(P);if(Dn==$l)P=xn;else if(!xn){if(Dn==Zi)continue n;break n}}S[y++]=P}return S}G.prototype=Ne(Gt.prototype),G.prototype.constructor=G;function Ee(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Gf(){this.__data__=ot?ot(null):{},this.size=0}function zf(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function Vf(n){var e=this.__data__;if(ot){var t=e[n];return t===L?o:t}return k.call(e,n)?e[n]:o}function Hf(n){var e=this.__data__;return ot?e[n]!==o:k.call(e,n)}function qf(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ot&&e===o?L:e,this}Ee.prototype.clear=Gf,Ee.prototype.delete=zf,Ee.prototype.get=Vf,Ee.prototype.has=Hf,Ee.prototype.set=qf;function jn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function kf(){this.__data__=[],this.size=0}function Kf(n){var e=this.__data__,t=zt(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Mt.call(e,t,1),--this.size,!0}function Yf(n){var e=this.__data__,t=zt(e,n);return t<0?o:e[t][1]}function Xf(n){return zt(this.__data__,n)>-1}function Jf(n,e){var t=this.__data__,r=zt(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}jn.prototype.clear=kf,jn.prototype.delete=Kf,jn.prototype.get=Yf,jn.prototype.has=Xf,jn.prototype.set=Jf;function ne(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Qf(){this.size=0,this.__data__={hash:new Ee,map:new(rt||jn),string:new Ee}}function jf(n){var e=er(this,n).delete(n);return this.size-=e?1:0,e}function na(n){return er(this,n).get(n)}function ea(n){return er(this,n).has(n)}function ta(n,e){var t=er(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}ne.prototype.clear=Qf,ne.prototype.delete=jf,ne.prototype.get=na,ne.prototype.has=ea,ne.prototype.set=ta;function Ie(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ne;++e<t;)this.add(n[e])}function ra(n){return this.__data__.set(n,L),this}function ia(n){return this.__data__.has(n)}Ie.prototype.add=Ie.prototype.push=ra,Ie.prototype.has=ia;function Gn(n){var e=this.__data__=new jn(n);this.size=e.size}function oa(){this.__data__=new jn,this.size=0}function ua(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function la(n){return this.__data__.get(n)}function sa(n){return this.__data__.has(n)}function fa(n,e){var t=this.__data__;if(t instanceof jn){var r=t.__data__;if(!rt||r.length<w-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new ne(r)}return t.set(n,e),this.size=t.size,this}Gn.prototype.clear=oa,Gn.prototype.delete=ua,Gn.prototype.get=la,Gn.prototype.has=sa,Gn.prototype.set=fa;function Wo(n,e){var t=B(n),r=!t&&Le(n),i=!t&&!r&&ve(n),l=!t&&!r&&!i&&Ve(n),f=t||r||i||l,a=f?Zr(n.length,xf):[],d=a.length;for(var _ in n)(e||k.call(n,_))&&!(f&&(_=="length"||i&&(_=="offset"||_=="parent")||l&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||ie(_,d)))&&a.push(_);return a}function No(n){var e=n.length;return e?n[ii(0,e-1)]:o}function aa(n,e){return tr(yn(n),Ae(e,0,n.length))}function ca(n){return tr(yn(n))}function Kr(n,e,t){(t!==o&&!zn(n[e],t)||t===o&&!(e in n))&&ee(n,e,t)}function lt(n,e,t){var r=n[e];(!(k.call(n,e)&&zn(r,t))||t===o&&!(e in n))&&ee(n,e,t)}function zt(n,e){for(var t=n.length;t--;)if(zn(n[t][0],e))return t;return-1}function pa(n,e,t,r){return de(n,function(i,l,f){e(r,i,t(i),f)}),r}function Zo(n,e){return n&&Kn(e,fn(e),n)}function da(n,e){return n&&Kn(e,In(e),n)}function ee(n,e,t){e=="__proto__"&&Ut?Ut(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Yr(n,e){for(var t=-1,r=e.length,i=h(r),l=n==null;++t<r;)i[t]=l?o:Di(n,e[t]);return i}function Ae(n,e,t){return n===n&&(t!==o&&(n=n<=t?n:t),e!==o&&(n=n>=e?n:e)),n}function Bn(n,e,t,r,i,l){var f,a=e&U,d=e&en,_=e&C;if(t&&(f=i?t(n,r,i,l):t(n)),f!==o)return f;if(!j(n))return n;var v=B(n);if(v){if(f=ec(n),!a)return yn(n,f)}else{var x=_n(n),y=x==yt||x==Gi;if(ve(n))return cu(n,a);if(x==Qn||x==Oe||y&&!i){if(f=d||y?{}:Ou(n),!a)return d?Va(n,da(f,n)):za(n,Zo(f,n))}else{if(!Y[x])return i?n:{};f=tc(n,x,a)}}l||(l=new Gn);var R=l.get(n);if(R)return R;l.set(n,f),ol(n)?n.forEach(function(P){f.add(Bn(P,e,t,P,n,l))}):rl(n)&&n.forEach(function(P,Z){f.set(Z,Bn(P,e,t,Z,n,l))});var S=_?d?gi:hi:d?In:fn,W=v?o:S(n);return Pn(W||n,function(P,Z){W&&(Z=P,P=n[Z]),lt(f,Z,Bn(P,e,t,Z,n,l))}),f}function ha(n){var e=fn(n);return function(t){return Go(t,n,e)}}function Go(n,e,t){var r=t.length;if(n==null)return!r;for(n=K(n);r--;){var i=t[r],l=e[i],f=n[i];if(f===o&&!(i in n)||!l(f))return!1}return!0}function zo(n,e,t){if(typeof n!="function")throw new Cn(D);return ht(function(){n.apply(o,t)},e)}function st(n,e,t,r){var i=-1,l=bt,f=!0,a=n.length,d=[],_=e.length;if(!a)return d;t&&(e=J(e,bn(t))),r?(l=Br,f=!1):e.length>=w&&(l=et,f=!1,e=new Ie(e));n:for(;++i<a;){var v=n[i],x=t==null?v:t(v);if(v=r||v!==0?v:0,f&&x===x){for(var y=_;y--;)if(e[y]===x)continue n;d.push(v)}else l(e,x,r)||d.push(v)}return d}var de=_u(kn),Vo=_u(Jr,!0);function ga(n,e){var t=!0;return de(n,function(r,i,l){return t=!!e(r,i,l),t}),t}function Vt(n,e,t){for(var r=-1,i=n.length;++r<i;){var l=n[r],f=e(l);if(f!=null&&(a===o?f===f&&!Ln(f):t(f,a)))var a=f,d=l}return d}function _a(n,e,t,r){var i=n.length;for(t=F(t),t<0&&(t=-t>i?0:i+t),r=r===o||r>i?i:F(r),r<0&&(r+=i),r=t>r?0:ll(r);t<r;)n[t++]=e;return n}function Ho(n,e){var t=[];return de(n,function(r,i,l){e(r,i,l)&&t.push(r)}),t}function cn(n,e,t,r,i){var l=-1,f=n.length;for(t||(t=ic),i||(i=[]);++l<f;){var a=n[l];e>0&&t(a)?e>1?cn(a,e-1,t,r,i):ae(i,a):r||(i[i.length]=a)}return i}var Xr=vu(),qo=vu(!0);function kn(n,e){return n&&Xr(n,e,fn)}function Jr(n,e){return n&&qo(n,e,fn)}function Ht(n,e){return fe(e,function(t){return oe(n[t])})}function Te(n,e){e=ge(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Yn(e[t++])];return t&&t==r?n:o}function ko(n,e,t){var r=e(n);return B(n)?r:ae(r,t(n))}function vn(n){return n==null?n===o?Vl:Gl:ye&&ye in K(n)?Qa(n):cc(n)}function Qr(n,e){return n>e}function va(n,e){return n!=null&&k.call(n,e)}function ma(n,e){return n!=null&&e in K(n)}function xa(n,e,t){return n>=gn(e,t)&&n<sn(e,t)}function jr(n,e,t){for(var r=t?Br:bt,i=n[0].length,l=n.length,f=l,a=h(l),d=1/0,_=[];f--;){var v=n[f];f&&e&&(v=J(v,bn(e))),d=gn(v.length,d),a[f]=!t&&(e||i>=120&&v.length>=120)?new Ie(f&&v):o}v=n[0];var x=-1,y=a[0];n:for(;++x<i&&_.length<d;){var R=v[x],S=e?e(R):R;if(R=t||R!==0?R:0,!(y?et(y,S):r(_,S,t))){for(f=l;--f;){var W=a[f];if(!(W?et(W,S):r(n[f],S,t)))continue n}y&&y.push(S),_.push(R)}}return _}function wa(n,e,t,r){return kn(n,function(i,l,f){e(r,t(i),l,f)}),r}function ft(n,e,t){e=ge(e,n),n=$u(n,e);var r=n==null?n:n[Yn(Un(e))];return r==null?o:Tn(r,n,t)}function Ko(n){return nn(n)&&vn(n)==Oe}function ya(n){return nn(n)&&vn(n)==nt}function Ea(n){return nn(n)&&vn(n)==Ye}function at(n,e,t,r,i){return n===e?!0:n==null||e==null||!nn(n)&&!nn(e)?n!==n&&e!==e:Ia(n,e,t,r,at,i)}function Ia(n,e,t,r,i,l){var f=B(n),a=B(e),d=f?xt:_n(n),_=a?xt:_n(e);d=d==Oe?Qn:d,_=_==Oe?Qn:_;var v=d==Qn,x=_==Qn,y=d==_;if(y&&ve(n)){if(!ve(e))return!1;f=!0,v=!1}if(y&&!v)return l||(l=new Gn),f||Ve(n)?Ru(n,e,t,r,i,l):Xa(n,e,d,t,r,i,l);if(!(t&tn)){var R=v&&k.call(n,"__wrapped__"),S=x&&k.call(e,"__wrapped__");if(R||S){var W=R?n.value():n,P=S?e.value():e;return l||(l=new Gn),i(W,P,t,r,l)}}return y?(l||(l=new Gn),Ja(n,e,t,r,i,l)):!1}function Aa(n){return nn(n)&&_n(n)==Wn}function ni(n,e,t,r){var i=t.length,l=i,f=!r;if(n==null)return!l;for(n=K(n);i--;){var a=t[i];if(f&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<l;){a=t[i];var d=a[0],_=n[d],v=a[1];if(f&&a[2]){if(_===o&&!(d in n))return!1}else{var x=new Gn;if(r)var y=r(_,v,d,n,e,x);if(!(y===o?at(v,_,tn|dn,r,x):y))return!1}}return!0}function Yo(n){if(!j(n)||uc(n))return!1;var e=oe(n)?Af:ds;return e.test(Re(n))}function Ta(n){return nn(n)&&vn(n)==Je}function ba(n){return nn(n)&&_n(n)==Nn}function Ra(n){return nn(n)&&sr(n.length)&&!!X[vn(n)]}function Xo(n){return typeof n=="function"?n:n==null?An:typeof n=="object"?B(n)?jo(n[0],n[1]):Qo(n):ml(n)}function ei(n){if(!dt(n))return Of(n);var e=[];for(var t in K(n))k.call(n,t)&&t!="constructor"&&e.push(t);return e}function La(n){if(!j(n))return ac(n);var e=dt(n),t=[];for(var r in n)r=="constructor"&&(e||!k.call(n,r))||t.push(r);return t}function ti(n,e){return n<e}function Jo(n,e){var t=-1,r=En(n)?h(n.length):[];return de(n,function(i,l,f){r[++t]=e(i,l,f)}),r}function Qo(n){var e=vi(n);return e.length==1&&e[0][2]?Pu(e[0][0],e[0][1]):function(t){return t===n||ni(t,n,e)}}function jo(n,e){return xi(n)&&Su(e)?Pu(Yn(n),e):function(t){var r=Di(t,n);return r===o&&r===e?Oi(t,n):at(e,r,tn|dn)}}function qt(n,e,t,r,i){n!==e&&Xr(e,function(l,f){if(i||(i=new Gn),j(l))Da(n,e,f,t,qt,r,i);else{var a=r?r(yi(n,f),l,f+"",n,e,i):o;a===o&&(a=l),Kr(n,f,a)}},In)}function Da(n,e,t,r,i,l,f){var a=yi(n,t),d=yi(e,t),_=f.get(d);if(_){Kr(n,t,_);return}var v=l?l(a,d,t+"",n,e,f):o,x=v===o;if(x){var y=B(d),R=!y&&ve(d),S=!y&&!R&&Ve(d);v=d,y||R||S?B(a)?v=a:rn(a)?v=yn(a):R?(x=!1,v=cu(d,!0)):S?(x=!1,v=pu(d,!0)):v=[]:gt(d)||Le(d)?(v=a,Le(a)?v=sl(a):(!j(a)||oe(a))&&(v=Ou(d))):x=!1}x&&(f.set(d,v),i(v,d,r,l,f),f.delete(d)),Kr(n,t,v)}function nu(n,e){var t=n.length;if(t)return e+=e<0?t:0,ie(e,t)?n[e]:o}function eu(n,e,t){e.length?e=J(e,function(l){return B(l)?function(f){return Te(f,l.length===1?l[0]:l)}:l}):e=[An];var r=-1;e=J(e,bn(O()));var i=Jo(n,function(l,f,a){var d=J(e,function(_){return _(l)});return{criteria:d,index:++r,value:l}});return ef(i,function(l,f){return Ga(l,f,t)})}function Oa(n,e){return tu(n,e,function(t,r){return Oi(n,r)})}function tu(n,e,t){for(var r=-1,i=e.length,l={};++r<i;){var f=e[r],a=Te(n,f);t(a,f)&&ct(l,ge(f,n),a)}return l}function Sa(n){return function(e){return Te(e,n)}}function ri(n,e,t,r){var i=r?nf:Ce,l=-1,f=e.length,a=n;for(n===e&&(e=yn(e)),t&&(a=J(n,bn(t)));++l<f;)for(var d=0,_=e[l],v=t?t(_):_;(d=i(a,v,d,r))>-1;)a!==n&&Mt.call(a,d,1),Mt.call(n,d,1);return n}function ru(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==l){var l=i;ie(i)?Mt.call(n,i,1):li(n,i)}}return n}function ii(n,e){return n+Wt(Uo()*(e-n+1))}function Pa(n,e,t,r){for(var i=-1,l=sn(Ft((e-n)/(t||1)),0),f=h(l);l--;)f[r?l:++i]=n,n+=t;return f}function oi(n,e){var t="";if(!n||e<1||e>se)return t;do e%2&&(t+=n),e=Wt(e/2),e&&(n+=n);while(e);return t}function N(n,e){return Ei(Cu(n,e,An),n+"")}function Ca(n){return No(He(n))}function $a(n,e){var t=He(n);return tr(t,Ae(e,0,t.length))}function ct(n,e,t,r){if(!j(n))return n;e=ge(e,n);for(var i=-1,l=e.length,f=l-1,a=n;a!=null&&++i<l;){var d=Yn(e[i]),_=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return n;if(i!=f){var v=a[d];_=r?r(v,d,a):o,_===o&&(_=j(v)?v:ie(e[i+1])?[]:{})}lt(a,d,_),a=a[d]}return n}var iu=Nt?function(n,e){return Nt.set(n,e),n}:An,Ba=Ut?function(n,e){return Ut(n,"toString",{configurable:!0,enumerable:!1,value:Pi(e),writable:!0})}:An;function Ma(n){return tr(He(n))}function Mn(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var l=h(i);++r<i;)l[r]=n[r+e];return l}function Ua(n,e){var t;return de(n,function(r,i,l){return t=e(r,i,l),!t}),!!t}function kt(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=Fl){for(;r<i;){var l=r+i>>>1,f=n[l];f!==null&&!Ln(f)&&(t?f<=e:f<e)?r=l+1:i=l}return i}return ui(n,e,An,t)}function ui(n,e,t,r){var i=0,l=n==null?0:n.length;if(l===0)return 0;e=t(e);for(var f=e!==e,a=e===null,d=Ln(e),_=e===o;i<l;){var v=Wt((i+l)/2),x=t(n[v]),y=x!==o,R=x===null,S=x===x,W=Ln(x);if(f)var P=r||S;else _?P=S&&(r||y):a?P=S&&y&&(r||!R):d?P=S&&y&&!R&&(r||!W):R||W?P=!1:P=r?x<=e:x<e;P?i=v+1:l=v}return gn(l,Ul)}function ou(n,e){for(var t=-1,r=n.length,i=0,l=[];++t<r;){var f=n[t],a=e?e(f):f;if(!t||!zn(a,d)){var d=a;l[i++]=f===0?0:f}}return l}function uu(n){return typeof n=="number"?n:Ln(n)?mt:+n}function Rn(n){if(typeof n=="string")return n;if(B(n))return J(n,Rn)+"";if(Ln(n))return Fo?Fo.call(n):"";var e=n+"";return e=="0"&&1/n==-xe?"-0":e}function he(n,e,t){var r=-1,i=bt,l=n.length,f=!0,a=[],d=a;if(t)f=!1,i=Br;else if(l>=w){var _=e?null:Ka(n);if(_)return Lt(_);f=!1,i=et,d=new Ie}else d=e?[]:a;n:for(;++r<l;){var v=n[r],x=e?e(v):v;if(v=t||v!==0?v:0,f&&x===x){for(var y=d.length;y--;)if(d[y]===x)continue n;e&&d.push(x),a.push(v)}else i(d,x,t)||(d!==a&&d.push(x),a.push(v))}return a}function li(n,e){return e=ge(e,n),n=$u(n,e),n==null||delete n[Yn(Un(e))]}function lu(n,e,t,r){return ct(n,e,t(Te(n,e)),r)}function Kt(n,e,t,r){for(var i=n.length,l=r?i:-1;(r?l--:++l<i)&&e(n[l],l,n););return t?Mn(n,r?0:l,r?l+1:i):Mn(n,r?l+1:0,r?i:l)}function su(n,e){var t=n;return t instanceof G&&(t=t.value()),Mr(e,function(r,i){return i.func.apply(i.thisArg,ae([r],i.args))},t)}function si(n,e,t){var r=n.length;if(r<2)return r?he(n[0]):[];for(var i=-1,l=h(r);++i<r;)for(var f=n[i],a=-1;++a<r;)a!=i&&(l[i]=st(l[i]||f,n[a],e,t));return he(cn(l,1),e,t)}function fu(n,e,t){for(var r=-1,i=n.length,l=e.length,f={};++r<i;){var a=r<l?e[r]:o;t(f,n[r],a)}return f}function fi(n){return rn(n)?n:[]}function ai(n){return typeof n=="function"?n:An}function ge(n,e){return B(n)?n:xi(n,e)?[n]:Fu(H(n))}var Fa=N;function _e(n,e,t){var r=n.length;return t=t===o?r:t,!e&&t>=r?n:Mn(n,e,t)}var au=Tf||function(n){return an.clearTimeout(n)};function cu(n,e){if(e)return n.slice();var t=n.length,r=Po?Po(t):new n.constructor(t);return n.copy(r),r}function ci(n){var e=new n.constructor(n.byteLength);return new $t(e).set(new $t(n)),e}function Wa(n,e){var t=e?ci(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}function Na(n){var e=new n.constructor(n.source,ki.exec(n));return e.lastIndex=n.lastIndex,e}function Za(n){return ut?K(ut.call(n)):{}}function pu(n,e){var t=e?ci(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function du(n,e){if(n!==e){var t=n!==o,r=n===null,i=n===n,l=Ln(n),f=e!==o,a=e===null,d=e===e,_=Ln(e);if(!a&&!_&&!l&&n>e||l&&f&&d&&!a&&!_||r&&f&&d||!t&&d||!i)return 1;if(!r&&!l&&!_&&n<e||_&&t&&i&&!r&&!l||a&&t&&i||!f&&i||!d)return-1}return 0}function Ga(n,e,t){for(var r=-1,i=n.criteria,l=e.criteria,f=i.length,a=t.length;++r<f;){var d=du(i[r],l[r]);if(d){if(r>=a)return d;var _=t[r];return d*(_=="desc"?-1:1)}}return n.index-e.index}function hu(n,e,t,r){for(var i=-1,l=n.length,f=t.length,a=-1,d=e.length,_=sn(l-f,0),v=h(d+_),x=!r;++a<d;)v[a]=e[a];for(;++i<f;)(x||i<l)&&(v[t[i]]=n[i]);for(;_--;)v[a++]=n[i++];return v}function gu(n,e,t,r){for(var i=-1,l=n.length,f=-1,a=t.length,d=-1,_=e.length,v=sn(l-a,0),x=h(v+_),y=!r;++i<v;)x[i]=n[i];for(var R=i;++d<_;)x[R+d]=e[d];for(;++f<a;)(y||i<l)&&(x[R+t[f]]=n[i++]);return x}function yn(n,e){var t=-1,r=n.length;for(e||(e=h(r));++t<r;)e[t]=n[t];return e}function Kn(n,e,t,r){var i=!t;t||(t={});for(var l=-1,f=e.length;++l<f;){var a=e[l],d=r?r(t[a],n[a],a,t,n):o;d===o&&(d=n[a]),i?ee(t,a,d):lt(t,a,d)}return t}function za(n,e){return Kn(n,mi(n),e)}function Va(n,e){return Kn(n,Lu(n),e)}function Yt(n,e){return function(t,r){var i=B(t)?Ks:pa,l=e?e():{};return i(t,n,O(r,2),l)}}function Ze(n){return N(function(e,t){var r=-1,i=t.length,l=i>1?t[i-1]:o,f=i>2?t[2]:o;for(l=n.length>3&&typeof l=="function"?(i--,l):o,f&&mn(t[0],t[1],f)&&(l=i<3?o:l,i=1),e=K(e);++r<i;){var a=t[r];a&&n(e,a,r,l)}return e})}function _u(n,e){return function(t,r){if(t==null)return t;if(!En(t))return n(t,r);for(var i=t.length,l=e?i:-1,f=K(t);(e?l--:++l<i)&&r(f[l],l,f)!==!1;);return t}}function vu(n){return function(e,t,r){for(var i=-1,l=K(e),f=r(e),a=f.length;a--;){var d=f[n?a:++i];if(t(l[d],d,l)===!1)break}return e}}function Ha(n,e,t){var r=e&un,i=pt(n);function l(){var f=this&&this!==an&&this instanceof l?i:n;return f.apply(r?t:this,arguments)}return l}function mu(n){return function(e){e=H(e);var t=$e(e)?Zn(e):o,r=t?t[0]:e.charAt(0),i=t?_e(t,1).join(""):e.slice(1);return r[n]()+i}}function Ge(n){return function(e){return Mr(_l(gl(e).replace($s,"")),n,"")}}function pt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Ne(n.prototype),r=n.apply(t,e);return j(r)?r:t}}function qa(n,e,t){var r=pt(n);function i(){for(var l=arguments.length,f=h(l),a=l,d=ze(i);a--;)f[a]=arguments[a];var _=l<3&&f[0]!==d&&f[l-1]!==d?[]:ce(f,d);if(l-=_.length,l<t)return Iu(n,e,Xt,i.placeholder,o,f,_,o,o,t-l);var v=this&&this!==an&&this instanceof i?r:n;return Tn(v,this,f)}return i}function xu(n){return function(e,t,r){var i=K(e);if(!En(e)){var l=O(t,3);e=fn(e),t=function(a){return l(i[a],a,i)}}var f=n(e,t,r);return f>-1?i[l?e[f]:f]:o}}function wu(n){return re(function(e){var t=e.length,r=t,i=$n.prototype.thru;for(n&&e.reverse();r--;){var l=e[r];if(typeof l!="function")throw new Cn(D);if(i&&!f&&nr(l)=="wrapper")var f=new $n([],!0)}for(r=f?r:t;++r<t;){l=e[r];var a=nr(l),d=a=="wrapper"?_i(l):o;d&&wi(d[0])&&d[1]==(Jn|hn|Hn|ke)&&!d[4].length&&d[9]==1?f=f[nr(d[0])].apply(f,d[3]):f=l.length==1&&wi(l)?f[a]():f.thru(l)}return function(){var _=arguments,v=_[0];if(f&&_.length==1&&B(v))return f.plant(v).value();for(var x=0,y=t?e[x].apply(this,_):v;++x<t;)y=e[x].call(this,y);return y}})}function Xt(n,e,t,r,i,l,f,a,d,_){var v=e&Jn,x=e&un,y=e&wn,R=e&(hn|Xn),S=e&_r,W=y?o:pt(n);function P(){for(var Z=arguments.length,z=h(Z),Dn=Z;Dn--;)z[Dn]=arguments[Dn];if(R)var xn=ze(P),On=rf(z,xn);if(r&&(z=hu(z,r,i,R)),l&&(z=gu(z,l,f,R)),Z-=On,R&&Z<_){var on=ce(z,xn);return Iu(n,e,Xt,P.placeholder,t,z,on,a,d,_-Z)}var Vn=x?t:this,le=y?Vn[n]:n;return Z=z.length,a?z=pc(z,a):S&&Z>1&&z.reverse(),v&&d<Z&&(z.length=d),this&&this!==an&&this instanceof P&&(le=W||pt(le)),le.apply(Vn,z)}return P}function yu(n,e){return function(t,r){return wa(t,n,e(r),{})}}function Jt(n,e){return function(t,r){var i;if(t===o&&r===o)return e;if(t!==o&&(i=t),r!==o){if(i===o)return r;typeof t=="string"||typeof r=="string"?(t=Rn(t),r=Rn(r)):(t=uu(t),r=uu(r)),i=n(t,r)}return i}}function pi(n){return re(function(e){return e=J(e,bn(O())),N(function(t){var r=this;return n(e,function(i){return Tn(i,r,t)})})})}function Qt(n,e){e=e===o?" ":Rn(e);var t=e.length;if(t<2)return t?oi(e,n):e;var r=oi(e,Ft(n/Be(e)));return $e(e)?_e(Zn(r),0,n).join(""):r.slice(0,n)}function ka(n,e,t,r){var i=e&un,l=pt(n);function f(){for(var a=-1,d=arguments.length,_=-1,v=r.length,x=h(v+d),y=this&&this!==an&&this instanceof f?l:n;++_<v;)x[_]=r[_];for(;d--;)x[_++]=arguments[++a];return Tn(y,i?t:this,x)}return f}function Eu(n){return function(e,t,r){return r&&typeof r!="number"&&mn(e,t,r)&&(t=r=o),e=ue(e),t===o?(t=e,e=0):t=ue(t),r=r===o?e<t?1:-1:ue(r),Pa(e,t,r,n)}}function jt(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=Fn(e),t=Fn(t)),n(e,t)}}function Iu(n,e,t,r,i,l,f,a,d,_){var v=e&hn,x=v?f:o,y=v?o:f,R=v?l:o,S=v?o:l;e|=v?Hn:De,e&=~(v?De:Hn),e&qe||(e&=~(un|wn));var W=[n,e,i,R,x,S,y,a,d,_],P=t.apply(o,W);return wi(n)&&Bu(P,W),P.placeholder=r,Mu(P,n,e)}function di(n){var e=ln[n];return function(t,r){if(t=Fn(t),r=r==null?0:gn(F(r),292),r&&Mo(t)){var i=(H(t)+"e").split("e"),l=e(i[0]+"e"+(+i[1]+r));return i=(H(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var Ka=Fe&&1/Lt(new Fe([,-0]))[1]==xe?function(n){return new Fe(n)}:Bi;function Au(n){return function(e){var t=_n(e);return t==Wn?zr(e):t==Nn?cf(e):tf(e,n(e))}}function te(n,e,t,r,i,l,f,a){var d=e&wn;if(!d&&typeof n!="function")throw new Cn(D);var _=r?r.length:0;if(_||(e&=~(Hn|De),r=i=o),f=f===o?f:sn(F(f),0),a=a===o?a:F(a),_-=i?i.length:0,e&De){var v=r,x=i;r=i=o}var y=d?o:_i(n),R=[n,e,t,r,i,v,x,l,f,a];if(y&&fc(R,y),n=R[0],e=R[1],t=R[2],r=R[3],i=R[4],a=R[9]=R[9]===o?d?0:n.length:sn(R[9]-_,0),!a&&e&(hn|Xn)&&(e&=~(hn|Xn)),!e||e==un)var S=Ha(n,e,t);else e==hn||e==Xn?S=qa(n,e,a):(e==Hn||e==(un|Hn))&&!i.length?S=ka(n,e,t,r):S=Xt.apply(o,R);var W=y?iu:Bu;return Mu(W(S,R),n,e)}function Tu(n,e,t,r){return n===o||zn(n,Ue[t])&&!k.call(r,t)?e:n}function bu(n,e,t,r,i,l){return j(n)&&j(e)&&(l.set(e,n),qt(n,e,o,bu,l),l.delete(e)),n}function Ya(n){return gt(n)?o:n}function Ru(n,e,t,r,i,l){var f=t&tn,a=n.length,d=e.length;if(a!=d&&!(f&&d>a))return!1;var _=l.get(n),v=l.get(e);if(_&&v)return _==e&&v==n;var x=-1,y=!0,R=t&dn?new Ie:o;for(l.set(n,e),l.set(e,n);++x<a;){var S=n[x],W=e[x];if(r)var P=f?r(W,S,x,e,n,l):r(S,W,x,n,e,l);if(P!==o){if(P)continue;y=!1;break}if(R){if(!Ur(e,function(Z,z){if(!et(R,z)&&(S===Z||i(S,Z,t,r,l)))return R.push(z)})){y=!1;break}}else if(!(S===W||i(S,W,t,r,l))){y=!1;break}}return l.delete(n),l.delete(e),y}function Xa(n,e,t,r,i,l,f){switch(t){case Se:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case nt:return!(n.byteLength!=e.byteLength||!l(new $t(n),new $t(e)));case Ke:case Ye:case Xe:return zn(+n,+e);case wt:return n.name==e.name&&n.message==e.message;case Je:case Qe:return n==e+"";case Wn:var a=zr;case Nn:var d=r&tn;if(a||(a=Lt),n.size!=e.size&&!d)return!1;var _=f.get(n);if(_)return _==e;r|=dn,f.set(n,e);var v=Ru(a(n),a(e),r,i,l,f);return f.delete(n),v;case Et:if(ut)return ut.call(n)==ut.call(e)}return!1}function Ja(n,e,t,r,i,l){var f=t&tn,a=hi(n),d=a.length,_=hi(e),v=_.length;if(d!=v&&!f)return!1;for(var x=d;x--;){var y=a[x];if(!(f?y in e:k.call(e,y)))return!1}var R=l.get(n),S=l.get(e);if(R&&S)return R==e&&S==n;var W=!0;l.set(n,e),l.set(e,n);for(var P=f;++x<d;){y=a[x];var Z=n[y],z=e[y];if(r)var Dn=f?r(z,Z,y,e,n,l):r(Z,z,y,n,e,l);if(!(Dn===o?Z===z||i(Z,z,t,r,l):Dn)){W=!1;break}P||(P=y=="constructor")}if(W&&!P){var xn=n.constructor,On=e.constructor;xn!=On&&"constructor"in n&&"constructor"in e&&!(typeof xn=="function"&&xn instanceof xn&&typeof On=="function"&&On instanceof On)&&(W=!1)}return l.delete(n),l.delete(e),W}function re(n){return Ei(Cu(n,o,Gu),n+"")}function hi(n){return ko(n,fn,mi)}function gi(n){return ko(n,In,Lu)}var _i=Nt?function(n){return Nt.get(n)}:Bi;function nr(n){for(var e=n.name+"",t=We[e],r=k.call(We,e)?t.length:0;r--;){var i=t[r],l=i.func;if(l==null||l==n)return i.name}return e}function ze(n){var e=k.call(u,"placeholder")?u:n;return e.placeholder}function O(){var n=u.iteratee||Ci;return n=n===Ci?Xo:n,arguments.length?n(arguments[0],arguments[1]):n}function er(n,e){var t=n.__data__;return oc(e)?t[typeof e=="string"?"string":"hash"]:t.map}function vi(n){for(var e=fn(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,Su(i)]}return e}function be(n,e){var t=sf(n,e);return Yo(t)?t:o}function Qa(n){var e=k.call(n,ye),t=n[ye];try{n[ye]=o;var r=!0}catch{}var i=Pt.call(n);return r&&(e?n[ye]=t:delete n[ye]),i}var mi=Hr?function(n){return n==null?[]:(n=K(n),fe(Hr(n),function(e){return $o.call(n,e)}))}:Mi,Lu=Hr?function(n){for(var e=[];n;)ae(e,mi(n)),n=Bt(n);return e}:Mi,_n=vn;(qr&&_n(new qr(new ArrayBuffer(1)))!=Se||rt&&_n(new rt)!=Wn||kr&&_n(kr.resolve())!=zi||Fe&&_n(new Fe)!=Nn||it&&_n(new it)!=je)&&(_n=function(n){var e=vn(n),t=e==Qn?n.constructor:o,r=t?Re(t):"";if(r)switch(r){case $f:return Se;case Bf:return Wn;case Mf:return zi;case Uf:return Nn;case Ff:return je}return e});function ja(n,e,t){for(var r=-1,i=t.length;++r<i;){var l=t[r],f=l.size;switch(l.type){case"drop":n+=f;break;case"dropRight":e-=f;break;case"take":e=gn(e,n+f);break;case"takeRight":n=sn(n,e-f);break}}return{start:n,end:e}}function nc(n){var e=n.match(os);return e?e[1].split(us):[]}function Du(n,e,t){e=ge(e,n);for(var r=-1,i=e.length,l=!1;++r<i;){var f=Yn(e[r]);if(!(l=n!=null&&t(n,f)))break;n=n[f]}return l||++r!=i?l:(i=n==null?0:n.length,!!i&&sr(i)&&ie(f,i)&&(B(n)||Le(n)))}function ec(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&k.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function Ou(n){return typeof n.constructor=="function"&&!dt(n)?Ne(Bt(n)):{}}function tc(n,e,t){var r=n.constructor;switch(e){case nt:return ci(n);case Ke:case Ye:return new r(+n);case Se:return Wa(n,t);case vr:case mr:case xr:case wr:case yr:case Er:case Ir:case Ar:case Tr:return pu(n,t);case Wn:return new r;case Xe:case Qe:return new r(n);case Je:return Na(n);case Nn:return new r;case Et:return Za(n)}}function rc(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(is,`{
/* [wrapped with `+e+`] */
`)}function ic(n){return B(n)||Le(n)||!!(Bo&&n&&n[Bo])}function ie(n,e){var t=typeof n;return e=e??se,!!e&&(t=="number"||t!="symbol"&&gs.test(n))&&n>-1&&n%1==0&&n<e}function mn(n,e,t){if(!j(t))return!1;var r=typeof e;return(r=="number"?En(t)&&ie(e,t.length):r=="string"&&e in t)?zn(t[e],n):!1}function xi(n,e){if(B(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Ln(n)?!0:ns.test(n)||!jl.test(n)||e!=null&&n in K(e)}function oc(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function wi(n){var e=nr(n),t=u[e];if(typeof t!="function"||!(e in G.prototype))return!1;if(n===t)return!0;var r=_i(t);return!!r&&n===r[0]}function uc(n){return!!So&&So in n}var lc=Ot?oe:Ui;function dt(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Ue;return n===t}function Su(n){return n===n&&!j(n)}function Pu(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==o||n in K(t))}}function sc(n){var e=ur(n,function(r){return t.size===E&&t.clear(),r}),t=e.cache;return e}function fc(n,e){var t=n[1],r=e[1],i=t|r,l=i<(un|wn|Jn),f=r==Jn&&t==hn||r==Jn&&t==ke&&n[7].length<=e[8]||r==(Jn|ke)&&e[7].length<=e[8]&&t==hn;if(!(l||f))return n;r&un&&(n[2]=e[2],i|=t&un?0:qe);var a=e[3];if(a){var d=n[3];n[3]=d?hu(d,a,e[4]):a,n[4]=d?ce(n[3],T):e[4]}return a=e[5],a&&(d=n[5],n[5]=d?gu(d,a,e[6]):a,n[6]=d?ce(n[5],T):e[6]),a=e[7],a&&(n[7]=a),r&Jn&&(n[8]=n[8]==null?e[8]:gn(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}function ac(n){var e=[];if(n!=null)for(var t in K(n))e.push(t);return e}function cc(n){return Pt.call(n)}function Cu(n,e,t){return e=sn(e===o?n.length-1:e,0),function(){for(var r=arguments,i=-1,l=sn(r.length-e,0),f=h(l);++i<l;)f[i]=r[e+i];i=-1;for(var a=h(e+1);++i<e;)a[i]=r[i];return a[e]=t(f),Tn(n,this,a)}}function $u(n,e){return e.length<2?n:Te(n,Mn(e,0,-1))}function pc(n,e){for(var t=n.length,r=gn(e.length,t),i=yn(n);r--;){var l=e[r];n[r]=ie(l,t)?i[l]:o}return n}function yi(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var Bu=Uu(iu),ht=Rf||function(n,e){return an.setTimeout(n,e)},Ei=Uu(Ba);function Mu(n,e,t){var r=e+"";return Ei(n,rc(r,dc(nc(r),t)))}function Uu(n){var e=0,t=0;return function(){var r=Sf(),i=Cl-(r-t);if(t=r,i>0){if(++e>=Pl)return arguments[0]}else e=0;return n.apply(o,arguments)}}function tr(n,e){var t=-1,r=n.length,i=r-1;for(e=e===o?r:e;++t<e;){var l=ii(t,i),f=n[l];n[l]=n[t],n[t]=f}return n.length=e,n}var Fu=sc(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(es,function(t,r,i,l){e.push(i?l.replace(fs,"$1"):r||t)}),e});function Yn(n){if(typeof n=="string"||Ln(n))return n;var e=n+"";return e=="0"&&1/n==-xe?"-0":e}function Re(n){if(n!=null){try{return St.call(n)}catch{}try{return n+""}catch{}}return""}function dc(n,e){return Pn(Wl,function(t){var r="_."+t[0];e&t[1]&&!bt(n,r)&&n.push(r)}),n.sort()}function Wu(n){if(n instanceof G)return n.clone();var e=new $n(n.__wrapped__,n.__chain__);return e.__actions__=yn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function hc(n,e,t){(t?mn(n,e,t):e===o)?e=1:e=sn(F(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,l=0,f=h(Ft(r/e));i<r;)f[l++]=Mn(n,i,i+=e);return f}function gc(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var l=n[e];l&&(i[r++]=l)}return i}function _c(){var n=arguments.length;if(!n)return[];for(var e=h(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return ae(B(t)?yn(t):[t],cn(e,1))}var vc=N(function(n,e){return rn(n)?st(n,cn(e,1,rn,!0)):[]}),mc=N(function(n,e){var t=Un(e);return rn(t)&&(t=o),rn(n)?st(n,cn(e,1,rn,!0),O(t,2)):[]}),xc=N(function(n,e){var t=Un(e);return rn(t)&&(t=o),rn(n)?st(n,cn(e,1,rn,!0),o,t):[]});function wc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===o?1:F(e),Mn(n,e<0?0:e,r)):[]}function yc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===o?1:F(e),e=r-e,Mn(n,0,e<0?0:e)):[]}function Ec(n,e){return n&&n.length?Kt(n,O(e,3),!0,!0):[]}function Ic(n,e){return n&&n.length?Kt(n,O(e,3),!0):[]}function Ac(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&mn(n,e,t)&&(t=0,r=i),_a(n,e,t,r)):[]}function Nu(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:F(t);return i<0&&(i=sn(r+i,0)),Rt(n,O(e,3),i)}function Zu(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==o&&(i=F(t),i=t<0?sn(r+i,0):gn(i,r-1)),Rt(n,O(e,3),i,!0)}function Gu(n){var e=n==null?0:n.length;return e?cn(n,1):[]}function Tc(n){var e=n==null?0:n.length;return e?cn(n,xe):[]}function bc(n,e){var t=n==null?0:n.length;return t?(e=e===o?1:F(e),cn(n,e)):[]}function Rc(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function zu(n){return n&&n.length?n[0]:o}function Lc(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:F(t);return i<0&&(i=sn(r+i,0)),Ce(n,e,i)}function Dc(n){var e=n==null?0:n.length;return e?Mn(n,0,-1):[]}var Oc=N(function(n){var e=J(n,fi);return e.length&&e[0]===n[0]?jr(e):[]}),Sc=N(function(n){var e=Un(n),t=J(n,fi);return e===Un(t)?e=o:t.pop(),t.length&&t[0]===n[0]?jr(t,O(e,2)):[]}),Pc=N(function(n){var e=Un(n),t=J(n,fi);return e=typeof e=="function"?e:o,e&&t.pop(),t.length&&t[0]===n[0]?jr(t,o,e):[]});function Cc(n,e){return n==null?"":Df.call(n,e)}function Un(n){var e=n==null?0:n.length;return e?n[e-1]:o}function $c(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==o&&(i=F(t),i=i<0?sn(r+i,0):gn(i,r-1)),e===e?df(n,e,i):Rt(n,Io,i,!0)}function Bc(n,e){return n&&n.length?nu(n,F(e)):o}var Mc=N(Vu);function Vu(n,e){return n&&n.length&&e&&e.length?ri(n,e):n}function Uc(n,e,t){return n&&n.length&&e&&e.length?ri(n,e,O(t,2)):n}function Fc(n,e,t){return n&&n.length&&e&&e.length?ri(n,e,o,t):n}var Wc=re(function(n,e){var t=n==null?0:n.length,r=Yr(n,e);return ru(n,J(e,function(i){return ie(i,t)?+i:i}).sort(du)),r});function Nc(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],l=n.length;for(e=O(e,3);++r<l;){var f=n[r];e(f,r,n)&&(t.push(f),i.push(r))}return ru(n,i),t}function Ii(n){return n==null?n:Cf.call(n)}function Zc(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&mn(n,e,t)?(e=0,t=r):(e=e==null?0:F(e),t=t===o?r:F(t)),Mn(n,e,t)):[]}function Gc(n,e){return kt(n,e)}function zc(n,e,t){return ui(n,e,O(t,2))}function Vc(n,e){var t=n==null?0:n.length;if(t){var r=kt(n,e);if(r<t&&zn(n[r],e))return r}return-1}function Hc(n,e){return kt(n,e,!0)}function qc(n,e,t){return ui(n,e,O(t,2),!0)}function kc(n,e){var t=n==null?0:n.length;if(t){var r=kt(n,e,!0)-1;if(zn(n[r],e))return r}return-1}function Kc(n){return n&&n.length?ou(n):[]}function Yc(n,e){return n&&n.length?ou(n,O(e,2)):[]}function Xc(n){var e=n==null?0:n.length;return e?Mn(n,1,e):[]}function Jc(n,e,t){return n&&n.length?(e=t||e===o?1:F(e),Mn(n,0,e<0?0:e)):[]}function Qc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===o?1:F(e),e=r-e,Mn(n,e<0?0:e,r)):[]}function jc(n,e){return n&&n.length?Kt(n,O(e,3),!1,!0):[]}function np(n,e){return n&&n.length?Kt(n,O(e,3)):[]}var ep=N(function(n){return he(cn(n,1,rn,!0))}),tp=N(function(n){var e=Un(n);return rn(e)&&(e=o),he(cn(n,1,rn,!0),O(e,2))}),rp=N(function(n){var e=Un(n);return e=typeof e=="function"?e:o,he(cn(n,1,rn,!0),o,e)});function ip(n){return n&&n.length?he(n):[]}function op(n,e){return n&&n.length?he(n,O(e,2)):[]}function up(n,e){return e=typeof e=="function"?e:o,n&&n.length?he(n,o,e):[]}function Ai(n){if(!(n&&n.length))return[];var e=0;return n=fe(n,function(t){if(rn(t))return e=sn(t.length,e),!0}),Zr(e,function(t){return J(n,Fr(t))})}function Hu(n,e){if(!(n&&n.length))return[];var t=Ai(n);return e==null?t:J(t,function(r){return Tn(e,o,r)})}var lp=N(function(n,e){return rn(n)?st(n,e):[]}),sp=N(function(n){return si(fe(n,rn))}),fp=N(function(n){var e=Un(n);return rn(e)&&(e=o),si(fe(n,rn),O(e,2))}),ap=N(function(n){var e=Un(n);return e=typeof e=="function"?e:o,si(fe(n,rn),o,e)}),cp=N(Ai);function pp(n,e){return fu(n||[],e||[],lt)}function dp(n,e){return fu(n||[],e||[],ct)}var hp=N(function(n){var e=n.length,t=e>1?n[e-1]:o;return t=typeof t=="function"?(n.pop(),t):o,Hu(n,t)});function qu(n){var e=u(n);return e.__chain__=!0,e}function gp(n,e){return e(n),n}function rr(n,e){return e(n)}var _p=re(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(l){return Yr(l,n)};return e>1||this.__actions__.length||!(r instanceof G)||!ie(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:rr,args:[i],thisArg:o}),new $n(r,this.__chain__).thru(function(l){return e&&!l.length&&l.push(o),l}))});function vp(){return qu(this)}function mp(){return new $n(this.value(),this.__chain__)}function xp(){this.__values__===o&&(this.__values__=ul(this.value()));var n=this.__index__>=this.__values__.length,e=n?o:this.__values__[this.__index__++];return{done:n,value:e}}function wp(){return this}function yp(n){for(var e,t=this;t instanceof Gt;){var r=Wu(t);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function Ep(){var n=this.__wrapped__;if(n instanceof G){var e=n;return this.__actions__.length&&(e=new G(this)),e=e.reverse(),e.__actions__.push({func:rr,args:[Ii],thisArg:o}),new $n(e,this.__chain__)}return this.thru(Ii)}function Ip(){return su(this.__wrapped__,this.__actions__)}var Ap=Yt(function(n,e,t){k.call(n,t)?++n[t]:ee(n,t,1)});function Tp(n,e,t){var r=B(n)?yo:ga;return t&&mn(n,e,t)&&(e=o),r(n,O(e,3))}function bp(n,e){var t=B(n)?fe:Ho;return t(n,O(e,3))}var Rp=xu(Nu),Lp=xu(Zu);function Dp(n,e){return cn(ir(n,e),1)}function Op(n,e){return cn(ir(n,e),xe)}function Sp(n,e,t){return t=t===o?1:F(t),cn(ir(n,e),t)}function ku(n,e){var t=B(n)?Pn:de;return t(n,O(e,3))}function Ku(n,e){var t=B(n)?Ys:Vo;return t(n,O(e,3))}var Pp=Yt(function(n,e,t){k.call(n,t)?n[t].push(e):ee(n,t,[e])});function Cp(n,e,t,r){n=En(n)?n:He(n),t=t&&!r?F(t):0;var i=n.length;return t<0&&(t=sn(i+t,0)),fr(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Ce(n,e,t)>-1}var $p=N(function(n,e,t){var r=-1,i=typeof e=="function",l=En(n)?h(n.length):[];return de(n,function(f){l[++r]=i?Tn(e,f,t):ft(f,e,t)}),l}),Bp=Yt(function(n,e,t){ee(n,t,e)});function ir(n,e){var t=B(n)?J:Jo;return t(n,O(e,3))}function Mp(n,e,t,r){return n==null?[]:(B(e)||(e=e==null?[]:[e]),t=r?o:t,B(t)||(t=t==null?[]:[t]),eu(n,e,t))}var Up=Yt(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});function Fp(n,e,t){var r=B(n)?Mr:To,i=arguments.length<3;return r(n,O(e,4),t,i,de)}function Wp(n,e,t){var r=B(n)?Xs:To,i=arguments.length<3;return r(n,O(e,4),t,i,Vo)}function Np(n,e){var t=B(n)?fe:Ho;return t(n,lr(O(e,3)))}function Zp(n){var e=B(n)?No:Ca;return e(n)}function Gp(n,e,t){(t?mn(n,e,t):e===o)?e=1:e=F(e);var r=B(n)?aa:$a;return r(n,e)}function zp(n){var e=B(n)?ca:Ma;return e(n)}function Vp(n){if(n==null)return 0;if(En(n))return fr(n)?Be(n):n.length;var e=_n(n);return e==Wn||e==Nn?n.size:ei(n).length}function Hp(n,e,t){var r=B(n)?Ur:Ua;return t&&mn(n,e,t)&&(e=o),r(n,O(e,3))}var qp=N(function(n,e){if(n==null)return[];var t=e.length;return t>1&&mn(n,e[0],e[1])?e=[]:t>2&&mn(e[0],e[1],e[2])&&(e=[e[0]]),eu(n,cn(e,1),[])}),or=bf||function(){return an.Date.now()};function kp(n,e){if(typeof e!="function")throw new Cn(D);return n=F(n),function(){if(--n<1)return e.apply(this,arguments)}}function Yu(n,e,t){return e=t?o:e,e=n&&e==null?n.length:e,te(n,Jn,o,o,o,o,e)}function Xu(n,e){var t;if(typeof e!="function")throw new Cn(D);return n=F(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=o),t}}var Ti=N(function(n,e,t){var r=un;if(t.length){var i=ce(t,ze(Ti));r|=Hn}return te(n,r,e,t,i)}),Ju=N(function(n,e,t){var r=un|wn;if(t.length){var i=ce(t,ze(Ju));r|=Hn}return te(e,r,n,t,i)});function Qu(n,e,t){e=t?o:e;var r=te(n,hn,o,o,o,o,o,e);return r.placeholder=Qu.placeholder,r}function ju(n,e,t){e=t?o:e;var r=te(n,Xn,o,o,o,o,o,e);return r.placeholder=ju.placeholder,r}function nl(n,e,t){var r,i,l,f,a,d,_=0,v=!1,x=!1,y=!0;if(typeof n!="function")throw new Cn(D);e=Fn(e)||0,j(t)&&(v=!!t.leading,x="maxWait"in t,l=x?sn(Fn(t.maxWait)||0,e):l,y="trailing"in t?!!t.trailing:y);function R(on){var Vn=r,le=i;return r=i=o,_=on,f=n.apply(le,Vn),f}function S(on){return _=on,a=ht(Z,e),v?R(on):f}function W(on){var Vn=on-d,le=on-_,xl=e-Vn;return x?gn(xl,l-le):xl}function P(on){var Vn=on-d,le=on-_;return d===o||Vn>=e||Vn<0||x&&le>=l}function Z(){var on=or();if(P(on))return z(on);a=ht(Z,W(on))}function z(on){return a=o,y&&r?R(on):(r=i=o,f)}function Dn(){a!==o&&au(a),_=0,r=d=i=a=o}function xn(){return a===o?f:z(or())}function On(){var on=or(),Vn=P(on);if(r=arguments,i=this,d=on,Vn){if(a===o)return S(d);if(x)return au(a),a=ht(Z,e),R(d)}return a===o&&(a=ht(Z,e)),f}return On.cancel=Dn,On.flush=xn,On}var Kp=N(function(n,e){return zo(n,1,e)}),Yp=N(function(n,e,t){return zo(n,Fn(e)||0,t)});function Xp(n){return te(n,_r)}function ur(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new Cn(D);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],l=t.cache;if(l.has(i))return l.get(i);var f=n.apply(this,r);return t.cache=l.set(i,f)||l,f};return t.cache=new(ur.Cache||ne),t}ur.Cache=ne;function lr(n){if(typeof n!="function")throw new Cn(D);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function Jp(n){return Xu(2,n)}var Qp=Fa(function(n,e){e=e.length==1&&B(e[0])?J(e[0],bn(O())):J(cn(e,1),bn(O()));var t=e.length;return N(function(r){for(var i=-1,l=gn(r.length,t);++i<l;)r[i]=e[i].call(this,r[i]);return Tn(n,this,r)})}),bi=N(function(n,e){var t=ce(e,ze(bi));return te(n,Hn,o,e,t)}),el=N(function(n,e){var t=ce(e,ze(el));return te(n,De,o,e,t)}),jp=re(function(n,e){return te(n,ke,o,o,o,e)});function nd(n,e){if(typeof n!="function")throw new Cn(D);return e=e===o?e:F(e),N(n,e)}function ed(n,e){if(typeof n!="function")throw new Cn(D);return e=e==null?0:sn(F(e),0),N(function(t){var r=t[e],i=_e(t,0,e);return r&&ae(i,r),Tn(n,this,i)})}function td(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new Cn(D);return j(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),nl(n,e,{leading:r,maxWait:e,trailing:i})}function rd(n){return Yu(n,1)}function id(n,e){return bi(ai(e),n)}function od(){if(!arguments.length)return[];var n=arguments[0];return B(n)?n:[n]}function ud(n){return Bn(n,C)}function ld(n,e){return e=typeof e=="function"?e:o,Bn(n,C,e)}function sd(n){return Bn(n,U|C)}function fd(n,e){return e=typeof e=="function"?e:o,Bn(n,U|C,e)}function ad(n,e){return e==null||Go(n,e,fn(e))}function zn(n,e){return n===e||n!==n&&e!==e}var cd=jt(Qr),pd=jt(function(n,e){return n>=e}),Le=Ko(function(){return arguments}())?Ko:function(n){return nn(n)&&k.call(n,"callee")&&!$o.call(n,"callee")},B=h.isArray,dd=go?bn(go):ya;function En(n){return n!=null&&sr(n.length)&&!oe(n)}function rn(n){return nn(n)&&En(n)}function hd(n){return n===!0||n===!1||nn(n)&&vn(n)==Ke}var ve=Lf||Ui,gd=_o?bn(_o):Ea;function _d(n){return nn(n)&&n.nodeType===1&&!gt(n)}function vd(n){if(n==null)return!0;if(En(n)&&(B(n)||typeof n=="string"||typeof n.splice=="function"||ve(n)||Ve(n)||Le(n)))return!n.length;var e=_n(n);if(e==Wn||e==Nn)return!n.size;if(dt(n))return!ei(n).length;for(var t in n)if(k.call(n,t))return!1;return!0}function md(n,e){return at(n,e)}function xd(n,e,t){t=typeof t=="function"?t:o;var r=t?t(n,e):o;return r===o?at(n,e,o,t):!!r}function Ri(n){if(!nn(n))return!1;var e=vn(n);return e==wt||e==Zl||typeof n.message=="string"&&typeof n.name=="string"&&!gt(n)}function wd(n){return typeof n=="number"&&Mo(n)}function oe(n){if(!j(n))return!1;var e=vn(n);return e==yt||e==Gi||e==Nl||e==zl}function tl(n){return typeof n=="number"&&n==F(n)}function sr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=se}function j(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function nn(n){return n!=null&&typeof n=="object"}var rl=vo?bn(vo):Aa;function yd(n,e){return n===e||ni(n,e,vi(e))}function Ed(n,e,t){return t=typeof t=="function"?t:o,ni(n,e,vi(e),t)}function Id(n){return il(n)&&n!=+n}function Ad(n){if(lc(n))throw new $(I);return Yo(n)}function Td(n){return n===null}function bd(n){return n==null}function il(n){return typeof n=="number"||nn(n)&&vn(n)==Xe}function gt(n){if(!nn(n)||vn(n)!=Qn)return!1;var e=Bt(n);if(e===null)return!0;var t=k.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&St.call(t)==Ef}var Li=mo?bn(mo):Ta;function Rd(n){return tl(n)&&n>=-se&&n<=se}var ol=xo?bn(xo):ba;function fr(n){return typeof n=="string"||!B(n)&&nn(n)&&vn(n)==Qe}function Ln(n){return typeof n=="symbol"||nn(n)&&vn(n)==Et}var Ve=wo?bn(wo):Ra;function Ld(n){return n===o}function Dd(n){return nn(n)&&_n(n)==je}function Od(n){return nn(n)&&vn(n)==Hl}var Sd=jt(ti),Pd=jt(function(n,e){return n<=e});function ul(n){if(!n)return[];if(En(n))return fr(n)?Zn(n):yn(n);if(tt&&n[tt])return af(n[tt]());var e=_n(n),t=e==Wn?zr:e==Nn?Lt:He;return t(n)}function ue(n){if(!n)return n===0?n:0;if(n=Fn(n),n===xe||n===-xe){var e=n<0?-1:1;return e*Ml}return n===n?n:0}function F(n){var e=ue(n),t=e%1;return e===e?t?e-t:e:0}function ll(n){return n?Ae(F(n),0,qn):0}function Fn(n){if(typeof n=="number")return n;if(Ln(n))return mt;if(j(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=j(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=bo(n);var t=ps.test(n);return t||hs.test(n)?qs(n.slice(2),t?2:8):cs.test(n)?mt:+n}function sl(n){return Kn(n,In(n))}function Cd(n){return n?Ae(F(n),-se,se):n===0?n:0}function H(n){return n==null?"":Rn(n)}var $d=Ze(function(n,e){if(dt(e)||En(e)){Kn(e,fn(e),n);return}for(var t in e)k.call(e,t)&&lt(n,t,e[t])}),fl=Ze(function(n,e){Kn(e,In(e),n)}),ar=Ze(function(n,e,t,r){Kn(e,In(e),n,r)}),Bd=Ze(function(n,e,t,r){Kn(e,fn(e),n,r)}),Md=re(Yr);function Ud(n,e){var t=Ne(n);return e==null?t:Zo(t,e)}var Fd=N(function(n,e){n=K(n);var t=-1,r=e.length,i=r>2?e[2]:o;for(i&&mn(e[0],e[1],i)&&(r=1);++t<r;)for(var l=e[t],f=In(l),a=-1,d=f.length;++a<d;){var _=f[a],v=n[_];(v===o||zn(v,Ue[_])&&!k.call(n,_))&&(n[_]=l[_])}return n}),Wd=N(function(n){return n.push(o,bu),Tn(al,o,n)});function Nd(n,e){return Eo(n,O(e,3),kn)}function Zd(n,e){return Eo(n,O(e,3),Jr)}function Gd(n,e){return n==null?n:Xr(n,O(e,3),In)}function zd(n,e){return n==null?n:qo(n,O(e,3),In)}function Vd(n,e){return n&&kn(n,O(e,3))}function Hd(n,e){return n&&Jr(n,O(e,3))}function qd(n){return n==null?[]:Ht(n,fn(n))}function kd(n){return n==null?[]:Ht(n,In(n))}function Di(n,e,t){var r=n==null?o:Te(n,e);return r===o?t:r}function Kd(n,e){return n!=null&&Du(n,e,va)}function Oi(n,e){return n!=null&&Du(n,e,ma)}var Yd=yu(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Pt.call(e)),n[e]=t},Pi(An)),Xd=yu(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Pt.call(e)),k.call(n,e)?n[e].push(t):n[e]=[t]},O),Jd=N(ft);function fn(n){return En(n)?Wo(n):ei(n)}function In(n){return En(n)?Wo(n,!0):La(n)}function Qd(n,e){var t={};return e=O(e,3),kn(n,function(r,i,l){ee(t,e(r,i,l),r)}),t}function jd(n,e){var t={};return e=O(e,3),kn(n,function(r,i,l){ee(t,i,e(r,i,l))}),t}var nh=Ze(function(n,e,t){qt(n,e,t)}),al=Ze(function(n,e,t,r){qt(n,e,t,r)}),eh=re(function(n,e){var t={};if(n==null)return t;var r=!1;e=J(e,function(l){return l=ge(l,n),r||(r=l.length>1),l}),Kn(n,gi(n),t),r&&(t=Bn(t,U|en|C,Ya));for(var i=e.length;i--;)li(t,e[i]);return t});function th(n,e){return cl(n,lr(O(e)))}var rh=re(function(n,e){return n==null?{}:Oa(n,e)});function cl(n,e){if(n==null)return{};var t=J(gi(n),function(r){return[r]});return e=O(e),tu(n,t,function(r,i){return e(r,i[0])})}function ih(n,e,t){e=ge(e,n);var r=-1,i=e.length;for(i||(i=1,n=o);++r<i;){var l=n==null?o:n[Yn(e[r])];l===o&&(r=i,l=t),n=oe(l)?l.call(n):l}return n}function oh(n,e,t){return n==null?n:ct(n,e,t)}function uh(n,e,t,r){return r=typeof r=="function"?r:o,n==null?n:ct(n,e,t,r)}var pl=Au(fn),dl=Au(In);function lh(n,e,t){var r=B(n),i=r||ve(n)||Ve(n);if(e=O(e,4),t==null){var l=n&&n.constructor;i?t=r?new l:[]:j(n)?t=oe(l)?Ne(Bt(n)):{}:t={}}return(i?Pn:kn)(n,function(f,a,d){return e(t,f,a,d)}),t}function sh(n,e){return n==null?!0:li(n,e)}function fh(n,e,t){return n==null?n:lu(n,e,ai(t))}function ah(n,e,t,r){return r=typeof r=="function"?r:o,n==null?n:lu(n,e,ai(t),r)}function He(n){return n==null?[]:Gr(n,fn(n))}function ch(n){return n==null?[]:Gr(n,In(n))}function ph(n,e,t){return t===o&&(t=e,e=o),t!==o&&(t=Fn(t),t=t===t?t:0),e!==o&&(e=Fn(e),e=e===e?e:0),Ae(Fn(n),e,t)}function dh(n,e,t){return e=ue(e),t===o?(t=e,e=0):t=ue(t),n=Fn(n),xa(n,e,t)}function hh(n,e,t){if(t&&typeof t!="boolean"&&mn(n,e,t)&&(e=t=o),t===o&&(typeof e=="boolean"?(t=e,e=o):typeof n=="boolean"&&(t=n,n=o)),n===o&&e===o?(n=0,e=1):(n=ue(n),e===o?(e=n,n=0):e=ue(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=Uo();return gn(n+i*(e-n+Hs("1e-"+((i+"").length-1))),e)}return ii(n,e)}var gh=Ge(function(n,e,t){return e=e.toLowerCase(),n+(t?hl(e):e)});function hl(n){return Si(H(n).toLowerCase())}function gl(n){return n=H(n),n&&n.replace(_s,of).replace(Bs,"")}function _h(n,e,t){n=H(n),e=Rn(e);var r=n.length;t=t===o?r:Ae(F(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function vh(n){return n=H(n),n&&Xl.test(n)?n.replace(Hi,uf):n}function mh(n){return n=H(n),n&&ts.test(n)?n.replace(br,"\\$&"):n}var xh=Ge(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),wh=Ge(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),yh=mu("toLowerCase");function Eh(n,e,t){n=H(n),e=F(e);var r=e?Be(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return Qt(Wt(i),t)+n+Qt(Ft(i),t)}function Ih(n,e,t){n=H(n),e=F(e);var r=e?Be(n):0;return e&&r<e?n+Qt(e-r,t):n}function Ah(n,e,t){n=H(n),e=F(e);var r=e?Be(n):0;return e&&r<e?Qt(e-r,t)+n:n}function Th(n,e,t){return t||e==null?e=0:e&&(e=+e),Pf(H(n).replace(Rr,""),e||0)}function bh(n,e,t){return(t?mn(n,e,t):e===o)?e=1:e=F(e),oi(H(n),e)}function Rh(){var n=arguments,e=H(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var Lh=Ge(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function Dh(n,e,t){return t&&typeof t!="number"&&mn(n,e,t)&&(e=t=o),t=t===o?qn:t>>>0,t?(n=H(n),n&&(typeof e=="string"||e!=null&&!Li(e))&&(e=Rn(e),!e&&$e(n))?_e(Zn(n),0,t):n.split(e,t)):[]}var Oh=Ge(function(n,e,t){return n+(t?" ":"")+Si(e)});function Sh(n,e,t){return n=H(n),t=t==null?0:Ae(F(t),0,n.length),e=Rn(e),n.slice(t,t+e.length)==e}function Ph(n,e,t){var r=u.templateSettings;t&&mn(n,e,t)&&(e=o),n=H(n),e=ar({},e,r,Tu);var i=ar({},e.imports,r.imports,Tu),l=fn(i),f=Gr(i,l),a,d,_=0,v=e.interpolate||It,x="__p += '",y=Vr((e.escape||It).source+"|"+v.source+"|"+(v===qi?as:It).source+"|"+(e.evaluate||It).source+"|$","g"),R="//# sourceURL="+(k.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ns+"]")+`
`;n.replace(y,function(P,Z,z,Dn,xn,On){return z||(z=Dn),x+=n.slice(_,On).replace(vs,lf),Z&&(a=!0,x+=`' +
__e(`+Z+`) +
'`),xn&&(d=!0,x+=`';
`+xn+`;
__p += '`),z&&(x+=`' +
((__t = (`+z+`)) == null ? '' : __t) +
'`),_=On+P.length,P}),x+=`';
`;var S=k.call(e,"variable")&&e.variable;if(!S)x=`with (obj) {
`+x+`
}
`;else if(ss.test(S))throw new $(A);x=(d?x.replace(ql,""):x).replace(kl,"$1").replace(Kl,"$1;"),x="function("+(S||"obj")+`) {
`+(S?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var W=vl(function(){return V(l,R+"return "+x).apply(o,f)});if(W.source=x,Ri(W))throw W;return W}function Ch(n){return H(n).toLowerCase()}function $h(n){return H(n).toUpperCase()}function Bh(n,e,t){if(n=H(n),n&&(t||e===o))return bo(n);if(!n||!(e=Rn(e)))return n;var r=Zn(n),i=Zn(e),l=Ro(r,i),f=Lo(r,i)+1;return _e(r,l,f).join("")}function Mh(n,e,t){if(n=H(n),n&&(t||e===o))return n.slice(0,Oo(n)+1);if(!n||!(e=Rn(e)))return n;var r=Zn(n),i=Lo(r,Zn(e))+1;return _e(r,0,i).join("")}function Uh(n,e,t){if(n=H(n),n&&(t||e===o))return n.replace(Rr,"");if(!n||!(e=Rn(e)))return n;var r=Zn(n),i=Ro(r,Zn(e));return _e(r,i).join("")}function Fh(n,e){var t=Ol,r=Sl;if(j(e)){var i="separator"in e?e.separator:i;t="length"in e?F(e.length):t,r="omission"in e?Rn(e.omission):r}n=H(n);var l=n.length;if($e(n)){var f=Zn(n);l=f.length}if(t>=l)return n;var a=t-Be(r);if(a<1)return r;var d=f?_e(f,0,a).join(""):n.slice(0,a);if(i===o)return d+r;if(f&&(a+=d.length-a),Li(i)){if(n.slice(a).search(i)){var _,v=d;for(i.global||(i=Vr(i.source,H(ki.exec(i))+"g")),i.lastIndex=0;_=i.exec(v);)var x=_.index;d=d.slice(0,x===o?a:x)}}else if(n.indexOf(Rn(i),a)!=a){var y=d.lastIndexOf(i);y>-1&&(d=d.slice(0,y))}return d+r}function Wh(n){return n=H(n),n&&Yl.test(n)?n.replace(Vi,hf):n}var Nh=Ge(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()}),Si=mu("toUpperCase");function _l(n,e,t){return n=H(n),e=t?o:e,e===o?ff(n)?vf(n):js(n):n.match(e)||[]}var vl=N(function(n,e){try{return Tn(n,o,e)}catch(t){return Ri(t)?t:new $(t)}}),Zh=re(function(n,e){return Pn(e,function(t){t=Yn(t),ee(n,t,Ti(n[t],n))}),n});function Gh(n){var e=n==null?0:n.length,t=O();return n=e?J(n,function(r){if(typeof r[1]!="function")throw new Cn(D);return[t(r[0]),r[1]]}):[],N(function(r){for(var i=-1;++i<e;){var l=n[i];if(Tn(l[0],this,r))return Tn(l[1],this,r)}})}function zh(n){return ha(Bn(n,U))}function Pi(n){return function(){return n}}function Vh(n,e){return n==null||n!==n?e:n}var Hh=wu(),qh=wu(!0);function An(n){return n}function Ci(n){return Xo(typeof n=="function"?n:Bn(n,U))}function kh(n){return Qo(Bn(n,U))}function Kh(n,e){return jo(n,Bn(e,U))}var Yh=N(function(n,e){return function(t){return ft(t,n,e)}}),Xh=N(function(n,e){return function(t){return ft(n,t,e)}});function $i(n,e,t){var r=fn(e),i=Ht(e,r);t==null&&!(j(e)&&(i.length||!r.length))&&(t=e,e=n,n=this,i=Ht(e,fn(e)));var l=!(j(t)&&"chain"in t)||!!t.chain,f=oe(n);return Pn(i,function(a){var d=e[a];n[a]=d,f&&(n.prototype[a]=function(){var _=this.__chain__;if(l||_){var v=n(this.__wrapped__),x=v.__actions__=yn(this.__actions__);return x.push({func:d,args:arguments,thisArg:n}),v.__chain__=_,v}return d.apply(n,ae([this.value()],arguments))})}),n}function Jh(){return an._===this&&(an._=If),this}function Bi(){}function Qh(n){return n=F(n),N(function(e){return nu(e,n)})}var jh=pi(J),ng=pi(yo),eg=pi(Ur);function ml(n){return xi(n)?Fr(Yn(n)):Sa(n)}function tg(n){return function(e){return n==null?o:Te(n,e)}}var rg=Eu(),ig=Eu(!0);function Mi(){return[]}function Ui(){return!1}function og(){return{}}function ug(){return""}function lg(){return!0}function sg(n,e){if(n=F(n),n<1||n>se)return[];var t=qn,r=gn(n,qn);e=O(e),n-=qn;for(var i=Zr(r,e);++t<n;)e(t);return i}function fg(n){return B(n)?J(n,Yn):Ln(n)?[n]:yn(Fu(H(n)))}function ag(n){var e=++yf;return H(n)+e}var cg=Jt(function(n,e){return n+e},0),pg=di("ceil"),dg=Jt(function(n,e){return n/e},1),hg=di("floor");function gg(n){return n&&n.length?Vt(n,An,Qr):o}function _g(n,e){return n&&n.length?Vt(n,O(e,2),Qr):o}function vg(n){return Ao(n,An)}function mg(n,e){return Ao(n,O(e,2))}function xg(n){return n&&n.length?Vt(n,An,ti):o}function wg(n,e){return n&&n.length?Vt(n,O(e,2),ti):o}var yg=Jt(function(n,e){return n*e},1),Eg=di("round"),Ig=Jt(function(n,e){return n-e},0);function Ag(n){return n&&n.length?Nr(n,An):0}function Tg(n,e){return n&&n.length?Nr(n,O(e,2)):0}return u.after=kp,u.ary=Yu,u.assign=$d,u.assignIn=fl,u.assignInWith=ar,u.assignWith=Bd,u.at=Md,u.before=Xu,u.bind=Ti,u.bindAll=Zh,u.bindKey=Ju,u.castArray=od,u.chain=qu,u.chunk=hc,u.compact=gc,u.concat=_c,u.cond=Gh,u.conforms=zh,u.constant=Pi,u.countBy=Ap,u.create=Ud,u.curry=Qu,u.curryRight=ju,u.debounce=nl,u.defaults=Fd,u.defaultsDeep=Wd,u.defer=Kp,u.delay=Yp,u.difference=vc,u.differenceBy=mc,u.differenceWith=xc,u.drop=wc,u.dropRight=yc,u.dropRightWhile=Ec,u.dropWhile=Ic,u.fill=Ac,u.filter=bp,u.flatMap=Dp,u.flatMapDeep=Op,u.flatMapDepth=Sp,u.flatten=Gu,u.flattenDeep=Tc,u.flattenDepth=bc,u.flip=Xp,u.flow=Hh,u.flowRight=qh,u.fromPairs=Rc,u.functions=qd,u.functionsIn=kd,u.groupBy=Pp,u.initial=Dc,u.intersection=Oc,u.intersectionBy=Sc,u.intersectionWith=Pc,u.invert=Yd,u.invertBy=Xd,u.invokeMap=$p,u.iteratee=Ci,u.keyBy=Bp,u.keys=fn,u.keysIn=In,u.map=ir,u.mapKeys=Qd,u.mapValues=jd,u.matches=kh,u.matchesProperty=Kh,u.memoize=ur,u.merge=nh,u.mergeWith=al,u.method=Yh,u.methodOf=Xh,u.mixin=$i,u.negate=lr,u.nthArg=Qh,u.omit=eh,u.omitBy=th,u.once=Jp,u.orderBy=Mp,u.over=jh,u.overArgs=Qp,u.overEvery=ng,u.overSome=eg,u.partial=bi,u.partialRight=el,u.partition=Up,u.pick=rh,u.pickBy=cl,u.property=ml,u.propertyOf=tg,u.pull=Mc,u.pullAll=Vu,u.pullAllBy=Uc,u.pullAllWith=Fc,u.pullAt=Wc,u.range=rg,u.rangeRight=ig,u.rearg=jp,u.reject=Np,u.remove=Nc,u.rest=nd,u.reverse=Ii,u.sampleSize=Gp,u.set=oh,u.setWith=uh,u.shuffle=zp,u.slice=Zc,u.sortBy=qp,u.sortedUniq=Kc,u.sortedUniqBy=Yc,u.split=Dh,u.spread=ed,u.tail=Xc,u.take=Jc,u.takeRight=Qc,u.takeRightWhile=jc,u.takeWhile=np,u.tap=gp,u.throttle=td,u.thru=rr,u.toArray=ul,u.toPairs=pl,u.toPairsIn=dl,u.toPath=fg,u.toPlainObject=sl,u.transform=lh,u.unary=rd,u.union=ep,u.unionBy=tp,u.unionWith=rp,u.uniq=ip,u.uniqBy=op,u.uniqWith=up,u.unset=sh,u.unzip=Ai,u.unzipWith=Hu,u.update=fh,u.updateWith=ah,u.values=He,u.valuesIn=ch,u.without=lp,u.words=_l,u.wrap=id,u.xor=sp,u.xorBy=fp,u.xorWith=ap,u.zip=cp,u.zipObject=pp,u.zipObjectDeep=dp,u.zipWith=hp,u.entries=pl,u.entriesIn=dl,u.extend=fl,u.extendWith=ar,$i(u,u),u.add=cg,u.attempt=vl,u.camelCase=gh,u.capitalize=hl,u.ceil=pg,u.clamp=ph,u.clone=ud,u.cloneDeep=sd,u.cloneDeepWith=fd,u.cloneWith=ld,u.conformsTo=ad,u.deburr=gl,u.defaultTo=Vh,u.divide=dg,u.endsWith=_h,u.eq=zn,u.escape=vh,u.escapeRegExp=mh,u.every=Tp,u.find=Rp,u.findIndex=Nu,u.findKey=Nd,u.findLast=Lp,u.findLastIndex=Zu,u.findLastKey=Zd,u.floor=hg,u.forEach=ku,u.forEachRight=Ku,u.forIn=Gd,u.forInRight=zd,u.forOwn=Vd,u.forOwnRight=Hd,u.get=Di,u.gt=cd,u.gte=pd,u.has=Kd,u.hasIn=Oi,u.head=zu,u.identity=An,u.includes=Cp,u.indexOf=Lc,u.inRange=dh,u.invoke=Jd,u.isArguments=Le,u.isArray=B,u.isArrayBuffer=dd,u.isArrayLike=En,u.isArrayLikeObject=rn,u.isBoolean=hd,u.isBuffer=ve,u.isDate=gd,u.isElement=_d,u.isEmpty=vd,u.isEqual=md,u.isEqualWith=xd,u.isError=Ri,u.isFinite=wd,u.isFunction=oe,u.isInteger=tl,u.isLength=sr,u.isMap=rl,u.isMatch=yd,u.isMatchWith=Ed,u.isNaN=Id,u.isNative=Ad,u.isNil=bd,u.isNull=Td,u.isNumber=il,u.isObject=j,u.isObjectLike=nn,u.isPlainObject=gt,u.isRegExp=Li,u.isSafeInteger=Rd,u.isSet=ol,u.isString=fr,u.isSymbol=Ln,u.isTypedArray=Ve,u.isUndefined=Ld,u.isWeakMap=Dd,u.isWeakSet=Od,u.join=Cc,u.kebabCase=xh,u.last=Un,u.lastIndexOf=$c,u.lowerCase=wh,u.lowerFirst=yh,u.lt=Sd,u.lte=Pd,u.max=gg,u.maxBy=_g,u.mean=vg,u.meanBy=mg,u.min=xg,u.minBy=wg,u.stubArray=Mi,u.stubFalse=Ui,u.stubObject=og,u.stubString=ug,u.stubTrue=lg,u.multiply=yg,u.nth=Bc,u.noConflict=Jh,u.noop=Bi,u.now=or,u.pad=Eh,u.padEnd=Ih,u.padStart=Ah,u.parseInt=Th,u.random=hh,u.reduce=Fp,u.reduceRight=Wp,u.repeat=bh,u.replace=Rh,u.result=ih,u.round=Eg,u.runInContext=p,u.sample=Zp,u.size=Vp,u.snakeCase=Lh,u.some=Hp,u.sortedIndex=Gc,u.sortedIndexBy=zc,u.sortedIndexOf=Vc,u.sortedLastIndex=Hc,u.sortedLastIndexBy=qc,u.sortedLastIndexOf=kc,u.startCase=Oh,u.startsWith=Sh,u.subtract=Ig,u.sum=Ag,u.sumBy=Tg,u.template=Ph,u.times=sg,u.toFinite=ue,u.toInteger=F,u.toLength=ll,u.toLower=Ch,u.toNumber=Fn,u.toSafeInteger=Cd,u.toString=H,u.toUpper=$h,u.trim=Bh,u.trimEnd=Mh,u.trimStart=Uh,u.truncate=Fh,u.unescape=Wh,u.uniqueId=ag,u.upperCase=Nh,u.upperFirst=Si,u.each=ku,u.eachRight=Ku,u.first=zu,$i(u,function(){var n={};return kn(u,function(e,t){k.call(u.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),u.VERSION=m,Pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),Pn(["drop","take"],function(n,e){G.prototype[n]=function(t){t=t===o?1:sn(F(t),0);var r=this.__filtered__&&!e?new G(this):this.clone();return r.__filtered__?r.__takeCount__=gn(t,r.__takeCount__):r.__views__.push({size:gn(t,qn),type:n+(r.__dir__<0?"Right":"")}),r},G.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Pn(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==Zi||t==Bl;G.prototype[n]=function(i){var l=this.clone();return l.__iteratees__.push({iteratee:O(i,3),type:t}),l.__filtered__=l.__filtered__||r,l}}),Pn(["head","last"],function(n,e){var t="take"+(e?"Right":"");G.prototype[n]=function(){return this[t](1).value()[0]}}),Pn(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");G.prototype[n]=function(){return this.__filtered__?new G(this):this[t](1)}}),G.prototype.compact=function(){return this.filter(An)},G.prototype.find=function(n){return this.filter(n).head()},G.prototype.findLast=function(n){return this.reverse().find(n)},G.prototype.invokeMap=N(function(n,e){return typeof n=="function"?new G(this):this.map(function(t){return ft(t,n,e)})}),G.prototype.reject=function(n){return this.filter(lr(O(n)))},G.prototype.slice=function(n,e){n=F(n);var t=this;return t.__filtered__&&(n>0||e<0)?new G(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==o&&(e=F(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)},G.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},G.prototype.toArray=function(){return this.take(qn)},kn(G.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=u[r?"take"+(e=="last"?"Right":""):e],l=r||/^find/.test(e);i&&(u.prototype[e]=function(){var f=this.__wrapped__,a=r?[1]:arguments,d=f instanceof G,_=a[0],v=d||B(f),x=function(Z){var z=i.apply(u,ae([Z],a));return r&&y?z[0]:z};v&&t&&typeof _=="function"&&_.length!=1&&(d=v=!1);var y=this.__chain__,R=!!this.__actions__.length,S=l&&!y,W=d&&!R;if(!l&&v){f=W?f:new G(this);var P=n.apply(f,a);return P.__actions__.push({func:rr,args:[x],thisArg:o}),new $n(P,y)}return S&&W?n.apply(this,a):(P=this.thru(x),S?r?P.value()[0]:P.value():P)})}),Pn(["pop","push","shift","sort","splice","unshift"],function(n){var e=Dt[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var l=this.value();return e.apply(B(l)?l:[],i)}return this[t](function(f){return e.apply(B(f)?f:[],i)})}}),kn(G.prototype,function(n,e){var t=u[e];if(t){var r=t.name+"";k.call(We,r)||(We[r]=[]),We[r].push({name:e,func:t})}}),We[Xt(o,wn).name]=[{name:"wrapper",func:o}],G.prototype.clone=Wf,G.prototype.reverse=Nf,G.prototype.value=Zf,u.prototype.at=_p,u.prototype.chain=vp,u.prototype.commit=mp,u.prototype.next=xp,u.prototype.plant=yp,u.prototype.reverse=Ep,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Ip,u.prototype.first=u.prototype.head,tt&&(u.prototype[tt]=wp),u},Me=mf();we?((we.exports=Me)._=Me,Cr._=Me):an._=Me}).call(_t)})(Lg,dr);const pr=dr;let cr;const Dg=new Uint8Array(16);function Og(){if(!cr&&(cr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cr(Dg)}const pn=[];for(let c=0;c<256;++c)pn.push((c+256).toString(16).slice(1));function Sg(c,s=0){return(pn[c[s+0]]+pn[c[s+1]]+pn[c[s+2]]+pn[c[s+3]]+"-"+pn[c[s+4]]+pn[c[s+5]]+"-"+pn[c[s+6]]+pn[c[s+7]]+"-"+pn[c[s+8]]+pn[c[s+9]]+"-"+pn[c[s+10]]+pn[c[s+11]]+pn[c[s+12]]+pn[c[s+13]]+pn[c[s+14]]+pn[c[s+15]]).toLowerCase()}const Pg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yl={randomUUID:Pg};function Cg(c,s,o){if(yl.randomUUID&&!s&&!c)return yl.randomUUID();c=c||{};const m=c.random||(c.rng||Og)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,s){o=o||0;for(let w=0;w<16;++w)s[o+w]=m[w];return s}return Sg(m)}const $g={"--pink":"#ff79c6","--red":"#ff5555","--orange":"#ffad55","--yellow":"#f1fa8c","--green":"#50fa7b","--cyan":"#8be9fd","--blue":"#4395d4","--purple":"#9674c8","--gray":"#848484","--black":"#282a36","--black-accent":"#353745","--inactive":"#b4b4b4","--text-light":"#f8f8f2","--text-dark":"#282a36","--pipe":"#b7b7b7","--background":"#44475a","--toolbar":"#282a36","--tool-background":"#f8f8f2","--tool-background-accent":"#d5d5d5","--background-dots":"#d6cce0","--port":"#b7b7b7","--port-hover":"#e7e7e7"},Al=c=>c.composedPath()[0],Bg=(c,s)=>Al(c).matches(s),me=c=>(s,o,m)=>{c.addEventListener(s,w=>{w.trigger=Al(w),(o===""||Bg(w,o))&&m(w)})},Mg=(c,s,o,m)=>`${c}_${s}_${o}_${m}`;function Tl(c){let s=document.createRange();s.selectNodeContents(c);let o=window.getSelection();o.removeAllRanges(),o.addRange(s)}function hr(c){c.code==="Enter"&&(c.preventDefault(),c.target.blur())}function Ug(c,s,o){c.textContent.length>s&&o.preventDefault()}function Fg(c,s){const o=me(c);let m=!1,w=1,I=0,D=0,A={x:0,y:0};function L(C){C.style.transformOrigin=`${0}px ${0}px`,C.style.transform="translate("+I+"px, "+D+"px) scale("+w+")"}function E(){const C=document.querySelectorAll(".transform-group");for(const tn of C)L(tn)}function T({x:C,y:tn}){let dn=(C-I)/w,un=(tn-D)/w;return{x:dn,y:un}}o("pointerdown","",C=>{C.shiftKey||C.button===2||(m=!0,A={x:C.offsetX-I,y:C.offsetY-D},C.detail)}),o("pointermove","",C=>{m&&(s.transforming||(I=C.offsetX-A.x,D=C.offsetY-A.y,E()))}),o("pointerup","",C=>{m=!1}),o("wheel","",C=>{let tn=(C.offsetX-I)/w,dn=(C.offsetY-D)/w;Math.sign(C.deltaY)<0?w*=1.03:w/=1.03,I=C.offsetX-tn*w,D=C.offsetY-dn*w,Object.keys(s.toolchain.tools).forEach(un=>{let wn=s.toolchain.tools[un];"onZoom"in wn.lifecycle&&wn.lifecycle.onZoom(w)}),E(),C.preventDefault()});function U(C){w=C.scale,I=C.x,D=C.y,E()}function en(C){const tn=c.getBoundingClientRect(),dn=C.x[1]-C.x[0],un=C.y[1]-C.y[0],wn=tn.width/dn,qe=tn.height/un,hn=Math.min(wn,qe)*.9;w=hn;const Xn={x:(C.x[0]+C.x[1])/2*hn-tn.width/2,y:(C.y[0]+C.y[1])/2*hn-tn.height/2};I=-Xn.x,D=-Xn.y,updatePanZoom()}return{scale:()=>w,x:()=>I,y:()=>D,setScaleXY:en,toWorkspaceCoords:T,setPanZoom:U}}function Wg(c){function s(o){c.mouse=c.panZoom.toWorkspaceCoords({x:o.clientX,y:o.clientY})}window.addEventListener("pointermove",s),window.addEventListener("dragover",s),window.addEventListener("keydown",o=>{c.keysPressed.includes(o.key)||c.keysPressed.push(o.key),o.key==="Escape"&&(delete c.toolchain.pipes.loose,c.selection.clear())}),window.addEventListener("keyup",o=>{c.keysPressed.splice(c.keysPressed.indexOf(o.key),1)})}function Ng(c,s){const o=me(c);function m(A){let L=w(A).dataset.toolid;return[L,s.toolchain.tools[L]]}function w(A){return A.target.closest(".tool")}function I(A){return Object.entries(s.toolchain.pipes).filter(([E,T])=>T.start.toolID==A||T.end.toolID==A)}o("pointerdown",".edit-toolname",A=>{let[L,E]=m(A),T=document.querySelector(`[data-toolid="${L}"] .tool-displayname`);function U(en){s.toolchain.tools[L].ui.displayName=T.textContent,T.contentEditable=!1,T.removeEventListener("keypress",hr),T.removeEventListener("focusout",U)}T.contentEditable=!0,T.addEventListener("focusout",U),T.addEventListener("keypress",hr),setTimeout(function(){Tl(T),T.focus()},0)}),o("pointerdown",".remove",A=>{let[L,E]=m(A);I(L).forEach(([U,en])=>{if(en.end.toolID!=L){let tn=s.toolchain.tools[en.end.toolID].inports[en.end.portID];tn.value=null}delete s.toolchain.pipes[U]}),delete s.toolchain.tools[L]}),o("pointerdown",".collapse",A=>{let[L,E]=m(A);E.ui.mini=!E.ui.mini,console.log(E)}),o("pointerdown",".resize-handle",A=>{let[L,E]=m(A);s.resizing=!0,s.selection.add(L)});function D(A){let[L,E]=m(A);A.shiftKey&&s.selection.add(L),!A.shiftKey&&!s.selection.has(L)&&s.selection.clear(),s.selection.add(L),s.transforming=!0}o("pointerdown",".tool-displayname",A=>{D(A)}),o("pointerdown",".toolbar",A=>{D(A)}),o("pointermove","",A=>{let L=A.movementX/s.panZoom.scale(),E=A.movementY/s.panZoom.scale();s.transforming?s.selection.forEach(T=>{s.toolchain.tools[T].pos.x+=L,s.toolchain.tools[T].pos.y+=E}):s.resizing&&s.selection.forEach(T=>{let U=s.toolchain.tools[T];U.ui.width+=L,U.ui.height+=E,"onResize"in U.lifecycle&&U.lifecycle.onResize()})}),o("pointerup","",A=>{(s.transforming||s.resizing)&&s.selection.size==1&&(A.shiftKey||s.selection.clear()),s.transforming=!1,s.resizing=!1})}function Zg(c,s){const o=me(c);function m(L){let E=w(L).dataset.toolid;return[E,s.toolchain.tools[E]]}function w(L){return L.target.closest(".tool")}function I(L,E){if(L.toolID==E.toolID){console.log("Can't connect a tool to itself!");return}let T=Mg(L.toolID,L.portID,E.toolID,E.portID),U=s.toolchain.tools[L.toolID],en=s.toolchain.tools[E.toolID];s.toolchain.pipes[T]={start:L,end:E},en.inports[E.portID].value=U.outports[L.portID].value,"inportsUpdated"in en.lifecycle&&en.lifecycle.inportsUpdated()}function D(L){const[E,T]=m(L),U=L.target.dataset.portid;if("loose"in s.toolchain.pipes){let en=s.toolchain.pipes.loose.start;if(!en){delete s.toolchain.pipes.loose;return}I(en,{toolID:E,portID:U}),delete s.toolchain.pipes.loose}else s.toolchain.pipes.loose={end:{toolID:E,portID:U}}}function A(L){let[E,T]=m(L);const U=L.target.dataset.portid;if("loose"in s.toolchain.pipes){let en=s.toolchain.pipes.loose.end;if(!en){delete s.toolchain.pipes.loose;return}I({toolID:E,portID:U},en),delete s.toolchain.pipes.loose}else s.toolchain.pipes.loose={start:{toolID:E,portID:U}}}o("pointerup",".inports .port",D),o("pointerdown",".inports .port",D),o("pointerup",".outports .port",A),o("pointerdown",".outports .port",A)}function Gg(c,s){const o=me(c);o("contextmenu",".pipe",m=>{m.preventDefault();const w=m.target.dataset.pipeid,I=s.toolchain.pipes[w].end,D=s.toolchain.tools[I.toolID];D.inports[I.portID].value=null,"inportsUpdated"in D.lifecycle&&D.lifecycle.inportsUpdated(),delete s.toolchain.pipes[w]}),o("contextmenu",".pipe-background",m=>{m.preventDefault();const w=m.target.dataset.pipeid;w==="loose"&&delete s.toolchain.pipes[w]})}async function zg(c,s){const o=me(c);let m=document.getElementById("title-field");o("pointerdown",".download",E=>{const T=s.panZoom?s.panZoom.x():0,U=s.panZoom?s.panZoom.y():0,en=s.panZoom?s.panZoom.scale():1,C=Object.fromEntries(Object.entries(s.toolchain.tools).map(([un,wn])=>{const{lifecycle:qe,...hn}=wn;return[un,hn]})),tn={title:s.toolchain.title??untitled,pipes:s.toolchain.pipes,tools:C,workspace:{x:T,y:U,scale:en}},dn=document.createElement("a");dn.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(tn)),dn.download=(s.toolchain.title??"toolchain")+".json",document.body.appendChild(dn),dn.click(),document.body.removeChild(dn)});function w(E){let T=E.target.files[0];const U=new FileReader;U.readAsText(T),U.onload=()=>{s.uploadToolchain(JSON.parse(U.result))}}o("pointerdown",".upload",E=>{let T=document.createElement("input");T.setAttribute("type","file"),T.style.display="none",document.body.appendChild(T),T.click(),T.onchange=w,document.body.removeChild(T)});async function I(E){const{default:T}=await s.examples[E.target.dataset.path]();s.uploadToolchain(T)}async function D(E){const{default:T}=await s.snippets[E.target.dataset.path]();s.uploadToolchain(T,!0)}o("pointerdown",".ex",I),o("pointerdown",".snip",D),o("pointerdown",".debug",E=>{s.debug=!s.debug});function A(E){s.toolchain.title=m.textContent,m.contentEditable=!1,m.removeEventListener("focusout",A),m.removeEventListener("keypress",hr),m.removeEventListener("keypress",L)}function L(E){Ug(m,50,E)}o("pointerdown",".edit-name",E=>{m.contentEditable=!0,m.addEventListener("focusout",A),m.addEventListener("keypress",hr),m.addEventListener("keypress",L),setTimeout(function(){Tl(m),m.focus()},0)})}function Vg(c,s){const o=me(c);o("dragend",".add-tool",m=>{s.addTool(m.target.dataset.path)}),o("click",".add-tool",m=>{s.addTool(m.target.dataset.path)})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const N_={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Hg=c=>(...s)=>({_$litDirective$:c,values:s});class qg{constructor(s){}get _$AU(){return this._$AM._$AU}_$AT(s,o,m){this._$Ct=s,this._$AM=o,this._$Ci=m}_$AS(s,o){return this.update(s,o)}update(s,o){return this.render(...o)}}function*kg(c,s){let o=!0;for(const m of c)o||(yield s),o=!1,yield m}const Kg=Q`,`,Yg=Q`[`,Xg=Q`]`;function Jg(c){if(Array.isArray(c))return Qg(c);if(!c)return jg();let s=[];for(const[o,m]of Object.entries(c))s.push(Q`
        <span class="state-key">${o}:</span>
        <span class="state-value">${Ni(m)}</span>
      `);return Q`<div class="keyval-container">${s}</div>`}function Qg(c){let s=[];for(const m of c)s.push(Ni(m));return[Yg,...kg(s,Kg),Xg]}function jg(){return Q`<span class="undef">null</span>`}function n_(c){return Q`<span class="number">${c}</span>`}function e_(c){return Q`<span class="string">${c}</span>`}function t_(c){return Q`<span class="boolean">${c}</span>`}function r_(c){return Q`<span>undef</span>`}function Ni(c){let s;switch(typeof c){case"object":s=Jg(c);break;case"number":s=n_(c);break;case"string":s=e_(c);break;case"boolean":s=t_(c);break;case"undefined":s=r_();break}return s}function i_(c){let s=[];for(const[o,m]of Object.entries(c))s.push(Q` <span class="state-key">${o}</span>
        <span class="state-value">${Ni(m)}</span>`);return s}function o_(c){return Q` <div class="state-container">${i_(c)}</div>`}class u_ extends qg{constructor(s){super(s),s.parentNode.attachShadow({mode:"open"})}update(s,o){let m=o[1];vt(o[0],s.parentNode.shadowRoot),m.domInitialized||(m.domInitialized=!0,"postInit"in m.lifecycle&&(m.lifecycle.postInit(),vt(o[0],s.parentNode.shadowRoot)))}}const l_=Hg(u_),s_={boolean:"var(--green)",string:"var(--purple)",number:"var(--blue)",array:"var(--pink)",object:"var(--orange)"};function El(c,s,o){return Q`<div
    class="port"
    data-portside=${o}
    data-portid=${c}
    style="--port-color: ${s_[s.type]??"var(--port-hover)"}">
    ${c}
  </div>`}function f_(c){return Q`<div class="menu-item edit-toolname">
      <i class="edit-toolname fa-solid fa-pen-to-square fa-fw"></i
      ><span class="edit-toolname ">Edit Display Name</span>
    </div>
    <div class="menu-item collapse">
      <i
        class="collapse fa-solid fa-fw ${c.ui.mini?"fa-maximize":"fa-minimize"}"></i
      ><span class="collapse">${c.ui.mini?"Expand":"Collapse"}</span>
    </div>
    <div class="menu-item remove">
      <i class="fa-solid fa-trash fa-fw remove"></i
      ><span class="remove">Delete</span>
    </div>`}function a_(c,s,o){let m=o.resizing||o.transforming||o.lockInteraction;return Q`<div
    class="tool resize-${s.ui.resize}
    ${s.ui.mini?"mini":"full"}
    ${o.selection.has(c)?"selected":""}"
    data-toolid=${c}
    style="
      --x:${s.pos.x}px;
      --y:${s.pos.y}px;
      --ui-width:${s.ui.width??0}px;
      --ui-height:${s.ui.height??0}px;">
    <div class="toolbar">
      <span class="tool-displayname">${s.ui.displayName}</span>
      <span>
        <a class="menu" href="#"
          ><i class="fa-solid fa-ellipsis-vertical"> </i>
        </a>
        <div class="tool-menu">${f_(s)}</div>
      </span>
    </div>
    <div class="inports port-container">
      ${Object.entries(s.inports).map(([w,I])=>El(w,I,"inport"))}
    </div>
    <div class="outports port-container">
      ${Object.entries(s.outports).map(([w,I])=>El(w,I,"outport"))}
    </div>
    ${s.ui.mini?Fi:Q`<div class="tool-view ${m?"disable-pointer":""}">
            ${l_(s.lifecycle.render(),s)}
          </div>
          <div class="resize-handle"></div>`}

    <!-- <div class="tool-state">${o_(s.state)}</div> -->
  </div>`}function c_(c){const s=c.panZoom?c.panZoom.x():0,o=c.panZoom?c.panZoom.y():0,m=c.panZoom?c.panZoom.scale():1;return Q`<div id="debug-pane">
    <div class="debug-header">debug</div>
    <div class="debug-content">
      <div class="debug-header"><span>workspace</span></div>
      <div class="debug-workspace">
        <span>title</span><span>${c.toolchain.title}</span>
        <span>mouse</span><span>(${c.mouse.x.toFixed(2)}, ${c.mouse.y.toFixed(2)})</span>
        <span>view</span><span>(${s.toFixed(2)},${o.toFixed(2)})</span>
        <span>scale</span><span>${m.toFixed(2)}</span>
        <span>transforming</span><span>${c.transforming}</span>
        <span>resizing</span><span>${c.resizing}</span>
      </div>
      <div class="debug-header"><span>tools</span></div>
      <div class="debug-section">
        ${Object.entries(c.toolchain.tools).map(([w,I])=>Q`<div class="debug-tools">
              <div>display name</div>
              <div>${I.ui.displayName}</div>
              <div>tool id</div>
              <div>${w}</div>
              <div>coords</div>
              <div>
                X: ${I.pos.x.toFixed(2)}, Y: ${I.pos.y.toFixed(2)}
              </div>
              <div>UI</div>
              <div>${I.ui.width} x ${I.ui.height}</div>
            </div>`)}
        </div>
        <div class="debug-header"><span>pipes</span></div>
        <div class="debug-section">
          ${Object.keys(c.toolchain.pipes).map(w=>Q`<div class="debug-pipes">${w}</div>`)}
        </div>
      </div>
    </div>
  </div>`}function p_(c){return Object.entries(c.toolchain.tools).map(([s,o])=>a_(s,o,c))}function d_(c){return Q`<div id="nav">
    <span>toolchains</span>
    <span id="toolchain-title">
      <span id="title-field">${c.toolchain.title??"untitled"}</span>
      <i class="edit-name fa-solid fa-pen-to-square fa-fw fa-sm"></i>
    </span>
    <span id="nav-buttons">
      <i class="upload fa-solid fa-upload"></i>
      <i class="download fa-solid fa-download"></i>
      <i class="dropdown-icon fa-solid fa-book">
        <div class="dropdown">
          ${Object.entries(c.examples).map(([s,o])=>Q`<div data-path=${s} class="dropdown-item ex">
              ${s.split("/").at(-1).split(".")[0]}
            </div>`)}
        </div>
      </i>

      <i class="debug fa-solid fa-bug"></i>
      <a
        href="https://github.com/branchwelder/toolchains"
        target="_blank"
        rel="noreferrer noopener">
        <i class="fa-brands fa-github"></i>
      </a>
    </span>
  </div>`}function h_(c){let s=c.selectBox.start,o=c.selectBox.end;return Wi`

  <path class="select-box"
    d="
    M ${s.x} ${s.y}
    L ${o.x} ${s.y}
    L ${o.x} ${o.y}
    L ${s.x} ${o.y}
    Z
    "/>`}function g_(c){return Q`<div class="section">
    <input type="checkbox" class="collapse-toggle" id="check-${c.group}" />
    <label for="check-${c.group}" class="collapse-header">
      <i class="fa-fw fa-solid fa-${c.icon}"></i>
      <span class="section-title">${c.group}</span>
      <i class="expand-caret fa-solid fa-caret-left"></i>
    </label>
    <div class="collapsible">
      ${c.entries.map(s=>Q`<div
            draggable="true"
            class="add-tool collapse-item"
            data-path=${s.path}>
            ${s.displayName}
          </div> `)}
    </div>
  </div>`}function bl(c){const s=c.panZoom?c.panZoom.x():0,o=c.panZoom?c.panZoom.y():0,m=c.panZoom?c.panZoom.scale():1;return Q`<div id="app-container">
    ${d_(c)}
    <div id="workspace">
      <canvas
        id="background"
        style="--offset-x: ${s}px;--offset-y: ${o}px;--scale: ${m};"></canvas>
      <svg id="svg-layer" preserveAspectRatio="xMidYMid meet">
        <g id="select-box-container" class="transform-group">
          ${c.selectBox.start&&c.selectBox.end?h_(c):Fi}
        </g>
        <g id="pipes-container" class="transform-group"></g>
      </svg>
      <div id="toolchain" class="transform-group">${p_(c)}</div>
      <div id="toolbox">
        <div id="toolbox-title">toolbox</div>
        ${c.toolbox.map(w=>g_(w))}
      </div>
      <div id="context-box-container"></div>
      ${c.debug?c_(c):Fi}
    </div>
  </div>`}function Il(c,s){let o=s.getBoundingClientRect();return c.panZoom.toWorkspaceCoords({x:o.left+o.width/2,y:o.top+o.height/2})}function __(c,s){let o=null,m=null,w=!1;if(s.start){let I=document.querySelector(`[data-toolid="${s.start.toolID}"] [data-portside="outport"][data-portid="${s.start.portID}"]`);if(!I)return;o=Il(c,I)}else o=c.mouse,w=!0;if(s.end){let I=document.querySelector(`[data-toolid="${s.end.toolID}"] [data-portside="inport"][data-portid="${s.end.portID}"]`);if(!I)return;m=Il(c,I)}else m=c.mouse,w=!0;return{startCoords:o,endCoords:m,inProgress:w}}function v_(c,s){return`M${c.x},${c.y}
    C${c.x+100},${c.y}
    ${s.x-100},${s.y}
    ${s.x},${s.y}`}function m_(c){return Object.entries(c.toolchain.pipes).map(([s,o])=>{let m=__(c,o);if(!m)return;let{startCoords:w,endCoords:I,inProgress:D}=m;if(!w||!I)return;let A=v_(w,I);return D?Wi`<path class="pipe-background" data-pipeid=${s} d="${A}" />`:Wi`<path class="pipe-background" data-pipeid=${s} d="${A}" />
    <path class="pipe" data-pipeid=${s} d="${A}" />`})}function x_(c,s){const o=me(c);let m=null,w=null;const I=()=>{m=null,w=null,s.selectBox={start:m,end:w},s.lockInteraction=!1};o("pointercancel","",A=>{I(),s.selection.clear()}),o("pointerdown","#svg-layer",A=>{A.shiftKey&&(s.lockInteraction=!0,m=s.mouse)}),o("pointermove","",A=>{if(!A.shiftKey){I();return}if(m!==null&&(w=s.mouse,s.selectBox={start:m,end:w},s.selection.clear(),m&&w)){const L={start:m,end:w};Object.entries(s.toolchain.tools).forEach(([E,T])=>{const U={xMin:T.pos.x,xMax:T.pos.x+(T.ui.width??0),yMin:T.pos.y,yMax:T.pos.y+(T.ui.height??0)};D(U,L)&&s.selection.add(E)})}});function D(A,L){let{start:E,end:T}=L;return A.xMin>E.x&&A.xMax<T.x&&A.yMin>E.y&&A.yMax<T.y||A.xMin>E.x&&A.xMax<T.x&&A.yMin<E.y&&A.yMax>T.y||A.xMin<E.x&&A.xMax>T.x&&A.yMin>E.y&&A.yMax<T.y||A.xMin<E.x&&A.xMax>T.x&&A.yMin<E.y&&A.yMax>T.y}o("pointerup","",A=>{I()})}async function w_(c,s){const o=me(c);let m,w,I;document.getElementById("context-box-container"),o("pointerdown","#svg-layer",D=>{m=!0,w=0,I=0}),o("pointermove","#svg-layer",D=>{m&&(I+=D.movementX,w+=D.movementY)}),o("pointerup","#svg-layer",D=>{m=!1,Math.abs(w)<5&&Math.abs(I)<5&&s.selection.clear()}),o("contextmenu","#svg-layer",D=>{D.preventDefault(),s.toolchain.pipes.loose&&delete s.toolchain.pipes.loose})}const y_=[{group:"Math and Logic",icon:"calculator",entries:[{displayName:"And",path:"logic/and"},{displayName:"Not",path:"logic/not"},{displayName:"Domain 1D",path:"math/domain1D"},{displayName:"Domain 2D",path:"math/domain2D"},{displayName:"Range",path:"math/range"}]},{group:"Color",icon:"palette",entries:[{displayName:"Color Picker",path:"color/color"},{displayName:"Gradient",path:"color/gradient"},{displayName:"HSL",path:"color/hsl"}]},{group:"Inputs",icon:"computer-mouse",entries:[{displayName:"Number Slider",path:"inputs/inputSlider"},{displayName:"Text",path:"inputs/text"},{displayName:"Boolean",path:"inputs/bool"}]},{group:"File I/O",icon:"folder",entries:[{displayName:"Upload",path:"files/uploadFile"},{displayName:"Download",path:"files/downloadFile"}]},{group:"Image",icon:"image",entries:[{displayName:"Image Viewer",path:"image/imageViewer"},{displayName:"Pixel Data",path:"image/extractPixelData"}]},{group:"Path",icon:"bezier-curve",entries:[{displayName:"Path Drawing",path:"path/pathDrawing"},{displayName:"Path Viewer",path:"path/pathViewer"}]},{group:"Data",icon:"database",entries:[{displayName:"Data Viewer",path:"data/dataViewer"}]},{group:"Experiments",icon:"flask",entries:[{displayName:"Velocity Painting",path:"misc/velocity"},{displayName:"Axidraw Serial",path:"misc/axidrawSerial"},{displayName:"P5 Editor",path:"p5/p5Editor"},{displayName:"P5 Sketch Viewer",path:"p5/p5Viewer"}]}],E_=Object.assign({"/tools/color/color.js":()=>M(()=>import("./color-c4c7add0.js"),["assets/color-c4c7add0.js","assets/lit-html-b7b68613.js"]),"/tools/color/gradient.js":()=>M(()=>import("./gradient-9e0e12bf.js"),["assets/gradient-9e0e12bf.js","assets/lit-html-b7b68613.js"]),"/tools/color/hsl.js":()=>M(()=>import("./hsl-a26ad14a.js"),["assets/hsl-a26ad14a.js","assets/lit-html-b7b68613.js"]),"/tools/data/dataViewer.js":()=>M(()=>import("./dataViewer-c5ad7d64.js"),["assets/dataViewer-c5ad7d64.js","assets/lit-html-b7b68613.js","assets/ref-cfc580af.js","assets/editor-7887b23b.js"]),"/tools/files/downloadFile.js":()=>M(()=>import("./downloadFile-0377212f.js"),["assets/downloadFile-0377212f.js","assets/lit-html-b7b68613.js"]),"/tools/files/uploadFile.js":()=>M(()=>import("./uploadFile-94c42a97.js"),["assets/uploadFile-94c42a97.js","assets/lit-html-b7b68613.js"]),"/tools/image/extractPixelData.js":()=>M(()=>import("./extractPixelData-4681ae0e.js"),["assets/extractPixelData-4681ae0e.js","assets/lit-html-b7b68613.js"]),"/tools/image/imageViewer.js":()=>M(()=>import("./imageViewer-5ce33047.js"),["assets/imageViewer-5ce33047.js","assets/lit-html-b7b68613.js"]),"/tools/inputs/bool.js":()=>M(()=>import("./bool-641eb61e.js"),["assets/bool-641eb61e.js","assets/lit-html-b7b68613.js"]),"/tools/inputs/editor.js":()=>M(()=>import("./editor-d5dd63dc.js"),["assets/editor-d5dd63dc.js","assets/lit-html-b7b68613.js","assets/ref-cfc580af.js","assets/editor-7887b23b.js","assets/index-8347ce50.js"]),"/tools/inputs/inputSlider.js":()=>M(()=>import("./inputSlider-163c1507.js"),["assets/inputSlider-163c1507.js","assets/lit-html-b7b68613.js"]),"/tools/inputs/text.js":()=>M(()=>import("./text-87b2327e.js"),["assets/text-87b2327e.js","assets/lit-html-b7b68613.js"]),"/tools/logic/and.js":()=>M(()=>import("./and-04797c4a.js"),[]),"/tools/logic/not.js":()=>M(()=>import("./not-d204a7db.js"),[]),"/tools/math/domain1D.js":()=>M(()=>import("./domain1D-99e272e1.js"),["assets/domain1D-99e272e1.js","assets/lit-html-b7b68613.js"]),"/tools/math/domain2D.js":()=>M(()=>import("./domain2D-7b73439d.js"),["assets/domain2D-7b73439d.js","assets/lit-html-b7b68613.js"]),"/tools/math/range.js":()=>M(()=>import("./range-92818908.js"),["assets/range-92818908.js","assets/lit-html-b7b68613.js"]),"/tools/misc/axidrawSerial.js":()=>M(()=>import("./axidrawSerial-d1da1f00.js"),["assets/axidrawSerial-d1da1f00.js","assets/lit-html-b7b68613.js","assets/path-64f1c30e.js"]),"/tools/misc/evalJS.js":()=>M(()=>import("./evalJS-28302984.js"),["assets/evalJS-28302984.js","assets/lit-html-b7b68613.js"]),"/tools/misc/logger.js":()=>M(()=>import("./logger-a10597ce.js"),["assets/logger-a10597ce.js","assets/lit-html-b7b68613.js"]),"/tools/misc/velocity.js":()=>M(()=>import("./velocity-f6c9b440.js"),["assets/velocity-f6c9b440.js","assets/lit-html-b7b68613.js"]),"/tools/p5/p5Editor.js":()=>M(()=>import("./p5Editor-fea87cf7.js"),["assets/p5Editor-fea87cf7.js","assets/lit-html-b7b68613.js","assets/ref-cfc580af.js","assets/editor-7887b23b.js","assets/index-8347ce50.js"]),"/tools/p5/p5Viewer.js":()=>M(()=>import("./p5Viewer-ff2b75fe.js"),["assets/p5Viewer-ff2b75fe.js","assets/lit-html-b7b68613.js"]),"/tools/path/pathDrawing.js":()=>M(()=>import("./pathDrawing-9c6b097b.js"),["assets/pathDrawing-9c6b097b.js","assets/lit-html-b7b68613.js","assets/ref-cfc580af.js"]),"/tools/path/pathViewer.js":()=>M(()=>import("./pathViewer-c9b22160.js"),["assets/pathViewer-c9b22160.js","assets/path-64f1c30e.js","assets/lit-html-b7b68613.js"]),"/tools/path/pdi/addConvertPts.js":()=>M(()=>import("./addConvertPts-5215b22b.js"),["assets/addConvertPts-5215b22b.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addGlobalKeypress.js":()=>M(()=>import("./addGlobalKeypress-9be88809.js"),[]),"/tools/path/pdi/addMouseTracking.js":()=>M(()=>import("./addMouseTracking-9b51a8f3.js"),["assets/addMouseTracking-9b51a8f3.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPanZoom.js":()=>M(()=>import("./addPanZoom-d065c67a.js"),["assets/addPanZoom-d065c67a.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPanZoomMobile.js":()=>M(()=>import("./addPanZoomMobile-457e2d60.js"),["assets/addPanZoomMobile-457e2d60.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPathDrawing.js":()=>M(()=>import("./addPathDrawing-3969a1cc.js"),["assets/addPathDrawing-3969a1cc.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPathInteraction.js":()=>M(()=>import("./addPathInteraction-9ea31a71.js"),["assets/addPathInteraction-9ea31a71.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPointDeletion.js":()=>M(()=>import("./addPointDeletion-324f2f57.js"),["assets/addPointDeletion-324f2f57.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addPointInteraction.js":()=>M(()=>import("./addPointInteraction-4ecb555b.js"),["assets/addPointInteraction-4ecb555b.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/addSelectBox.js":()=>M(()=>import("./addSelectBox-11a4a93d.js"),["assets/addSelectBox-11a4a93d.js","assets/utils-c498b33b.js"]),"/tools/path/pdi/exportSVG.js":()=>M(()=>import("./exportSVG-6f9348cc.js"),[]),"/tools/path/pdi/index.js":()=>M(()=>import("./index-31f31cdb.js"),["assets/index-31f31cdb.js","assets/lit-html-b7b68613.js","assets/path-64f1c30e.js","assets/addPanZoom-d065c67a.js","assets/utils-c498b33b.js","assets/addPointInteraction-4ecb555b.js","assets/addConvertPts-5215b22b.js","assets/addPathDrawing-3969a1cc.js","assets/addPointDeletion-324f2f57.js","assets/addGlobalKeypress-9be88809.js","assets/addMouseTracking-9b51a8f3.js","assets/addSelectBox-11a4a93d.js","assets/addPathInteraction-9ea31a71.js","assets/exportSVG-6f9348cc.js"]),"/tools/path/pdi/path.js":()=>M(()=>import("./path-64f1c30e.js"),[]),"/tools/path/pdi/utils.js":()=>M(()=>import("./utils-c498b33b.js"),[])}),I_=Object.assign({"/examples/draw_path.json":()=>M(()=>import("./draw_path-877d06d6.js"),[]),"/examples/gradients.json":()=>M(()=>import("./gradients-3299b3d9.js"),[]),"/examples/p5_sketch.json":()=>M(()=>import("./p5_sketch-7f473e92.js"),[])}),q={mouse:null,initialized:!1,toolbox:y_,examples:I_,imports:{},toolchain:{title:"untitled",tools:{},pipes:{}},selectBox:{},theme:$g,panZoom:null,resizing:!1,transforming:!1,lockInteraction:!1,selection:new Set,keysPressed:[],debug:!1,uploadToolchain:P_,addTool:Rl};function A_(c,s){return Object.entries(q.toolchain.pipes).filter(([m,w])=>w.start.toolID==c&&w.start.portID==s)}function T_(c,s){return{set(o,m,w,I){return A_(c,s).forEach(([A,L])=>{let E=q.toolchain.tools[L.end.toolID];if(!E)return;let T=E.inports[L.end.portID];T.value=w,"inportsUpdated"in E.lifecycle&&E.lifecycle.inportsUpdated()}),Reflect.set(o,m,w,I)}}}function b_(c,s){return{set(o,m,w,I){return Reflect.set(o,m,w,I)}}}function R_(c){return{set(s,o,m,w){let I=q.toolchain.tools[c];return"stateUpdated"in I.lifecycle&&I.lifecycle.stateUpdated(),Reflect.set(s,o,m,w)}}}function L_(c,s){const o={},m={};for(const[w,I]of Object.entries(s.inports))o[w]=new Proxy(pr.cloneDeep(I),b_(s.toolID));for(const[w,I]of Object.entries(s.outports))m[w]=new Proxy(pr.cloneDeep(I),T_(s.toolID,w));return s.inports=o,s.outports=m,s.state=new Proxy(pr.cloneDeep(s.state),R_(s.toolID)),s.lifecycle=c(s.inports,s.outports,s.state,q),!0}function D_(c,s){const o=c.split("/").at(-1).split(".")[0];return{path:c,toolID:`${o}_${Cg()}`,pos:{x:q.mouse.x,y:q.mouse.y},inports:s.inports??{},outports:s.outports??{},state:s.state??{},uiState:{toolbar:!0,statePanel:!1},ui:pr.cloneDeep(s.ui??{displayName:o,width:"200px",height:"200px",mini:!1,resize:"none"}),domInitialized:!1}}async function O_(c){const{default:s}=await E_[`/tools/${c}.js`]();q.imports[c]=s}async function Rl(c,s){c in q.imports||await O_(c);const o=q.imports[c],m=s??D_(c,o.config);m.domInitialized=!1,L_(o.tool,m),q.toolchain.tools[m.toolID]=m,"init"in m.lifecycle&&m.lifecycle.init()}function S_(){q.toolchain={tools:{},pipes:{},title:"untitled"}}function P_(c,s=!1){s||(S_(),q.panZoom.setPanZoom(c.workspace)),Object.entries(c.tools).forEach(([o,m])=>{Rl(m.path,m)}),q.toolchain.title=c.title??"untitled",Object.assign(q.toolchain.pipes,c.pipes)}function C_(){Object.entries(q.theme).map(([c,s])=>{document.documentElement.style.setProperty(c,s)})}function Ll(){vt(bl(q),document.body),vt(m_(q),B_),window.requestAnimationFrame(Ll)}function $_(){if(q.initialized)return;let c=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${c}px`),q.initialized=!0,C_(),vt(bl(q),document.body)}window.addEventListener("resize",()=>{let c=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${c}px`)});$_();const Dl=document.getElementById("svg-layer"),B_=document.getElementById("pipes-container"),gr=document.getElementById("workspace"),M_=document.getElementById("toolbox"),U_=document.getElementById("nav"),F_=Fg(Dl,q);q.panZoom=F_;Wg(q);Zg(gr,q);Ng(gr,q);Gg(gr,q);Vg(M_,q);zg(U_,q);x_(gr,q);w_(Dl,q);window.requestAnimationFrame(Ll);export{Hg as e,qg as i,N_ as t};
