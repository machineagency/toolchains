import{createListener as t,makeID as g}from"./utils-c498b33b.js";const a=(p,n)=>{const e=t(p);let f=!1;e("pointerdown","",o=>{f=!1}),e("pointermove","",o=>{f=!0;const{x:r,y:i}=n.panZoom.svgPoint({x:o.offsetX,y:o.offsetY});n.preview=[r,i]}),e("pointerup","",o=>{if(o.button===2||f||n.mode!=="drawing")return;const{x:r,y:i}=n.panZoom.svgPoint({x:o.offsetX,y:o.offsetY});if(n.drawing)n.paths[n.drawingID].push([r,i]);else{n.drawing=!0;const d=g(5);n.drawingID=d,n.paths[d]=[[r,i]]}n.dispatch()})};export{a as addPathDrawing};
