import{dataIndexFromString as h}from"./utils-c498b33b.js";const m=(p,e)=>{window.addEventListener("keydown",l=>{if(l.key!=="Backspace")return;const d=[];e.selectedPts.forEach(n=>{const t=h(n),c=t.slice(0,2).join(","),r=e.paths[t[0]],o=`${t[0]},${0}`,s=`${t[0]},${r.length-1}`;(o===c||s===c)&&d.push(t[0])}),d.forEach(n=>e.closedPaths.delete(n));const i={};Object.entries(e.paths).forEach(n=>{const[t,c]=n;i[t]=c.filter((r,o)=>{const s=`${t},${o}`;return![...e.selectedPts].map(a=>a.split(",").slice(0,2).join(",")).includes(s)})}),e.paths=i,e.selectedPts=new Set,e.dispatch()})};export{m as addPointDeletion};
